=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 0
term 1 server 2 become leader
------------------------------------------------------
term 1 server 1 vote for server 2
term 1 server 2 get outdate rpc reply from server 1
flag 82619 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 67845 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 6678358299261914223 (index 1) to leader 2
flag 52411 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 44135 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6678358299261914223 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6678358299261914223 1 1}]
------------------------------------------------------
flag 15406 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 67544 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6678358299261914223 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6678358299261914223 1 1}]
------------------------------------------------------
flag 60485 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 92746 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6678358299261914223 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6678358299261914223 1 1}]
------------------------------------------------------
flag 79406 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 281 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6678358299261914223 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6678358299261914223 1 1}]
------------------------------------------------------
flag 46453 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 9150 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6678358299261914223 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6678358299261914223 1 1}]
------------------------------------------------------
flag 29971 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 14530 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6678358299261914223 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6678358299261914223 1 1}]
------------------------------------------------------
flag 83236 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 77119 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6678358299261914223 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6678358299261914223 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7488094398812717248 (index 2) to leader 2
flag 68935 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 12207 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6678358299261914223 1 1} {7488094398812717248 1 2}]
------------------------------------------------------
flag 60618 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 89827 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6678358299261914223 1 1} {7488094398812717248 1 2}]
------------------------------------------------------
client write log 7152694911356858030 (index 3) to leader 2
client write log 8084397656049453107 (index 4) to leader 2
client write log 9204882936603299903 (index 5) to leader 2
client write log 7328959181491581549 (index 6) to leader 2
client write log 6156848127547773479 (index 7) to leader 2
client write log 8267932583806870386 (index 8) to leader 2
client write log 2825496624853611412 (index 9) to leader 2
flag 66258 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 14624 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {6678358299261914223 1 1} {7488094398812717248 1 2} {7152694911356858030 1 3} {8084397656049453107 1 4} {9204882936603299903 1 5} {7328959181491581549 1 6} {6156848127547773479 1 7} {8267932583806870386 1 8} {2825496624853611412 1 9}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 76895 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2998005368928035575 (index 10) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 37960 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 0
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 1
flag 27920 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 4901 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 52320 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
flag 22271 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 57662 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
flag 20880 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 80784 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
flag 80888 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 20303 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
flag 35152 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 77555 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
flag 40371 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 61304 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
flag 82914 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 59186 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 52325 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 13391 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 89865 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 62728 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 41250 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 58298 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 46160 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 58780 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 74763 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 44131 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2998005368928035575 1 10}]
------------------------------------------------------
client write log 488199642490237956 (index 11) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 90476 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 29793 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 85293 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 76049 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 47443 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 88321 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11}]
------------------------------------------------------
client write log 5957069265553209638 (index 12) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 11->10
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 52671 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 74455 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 58866 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 97081 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1811363108370970149 (index 13) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9780 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 74099 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 14->13
------------------------------------------------------
flag 5614 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 13
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 10 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16361 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 93090 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13}]
------------------------------------------------------
flag 87889 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 35606 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13}]
------------------------------------------------------
flag 76120 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 33719 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13}]
------------------------------------------------------
flag 5338 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 66496 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 14->13
------------------------------------------------------
flag 24907 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 13
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 13 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13}]
------------------------------------------------------
flag 6072 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 97964 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8165467843966601160 (index 14) to leader 1
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14182 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 90278 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13} {8165467843966601160 4 14}]
------------------------------------------------------
flag 48222 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 47259 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13} {8165467843966601160 4 14}]
------------------------------------------------------
client write log 1531267907666616910 (index 15) to leader 1
client write log 8219192281152185967 (index 16) to leader 1
client write log 7017310638963345931 (index 17) to leader 1
client write log 794308801958120058 (index 18) to leader 1
client write log 7873104451895600625 (index 19) to leader 1
client write log 7282016789762672326 (index 20) to leader 1
client write log 4459520654493123183 (index 21) to leader 1
client write log 107579499020638431 (index 22) to leader 1
client write log 6325730513304766517 (index 23) to leader 1
client write log 9022184982658841001 (index 24) to leader 1
client write log 6809064632673462020 (index 25) to leader 1
flag 70712 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 11459 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 1 9} {2998005368928035575 1 10} {488199642490237956 4 11} {5957069265553209638 4 12} {1811363108370970149 4 13} {8165467843966601160 4 14} {1531267907666616910 4 15} {8219192281152185967 4 16} {7017310638963345931 4 17} {794308801958120058 4 18} {7873104451895600625 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=25
-------------------------------------------------------------
term 5 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29281 term 4 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=25
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3962021947551040127 (index 26) to leader 1
term 5 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27615 term 4 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 5 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 1854 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 78526 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 27->26
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
flag 6335 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
flag 66351 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 8581 term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
flag 85792 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 37657 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
flag 14335 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 62732 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
flag 37753 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 24110 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
flag 37483 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 78473 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
flag 14132 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 31281 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
flag 18766 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 99136 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
flag 14234 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 14557 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81224 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 27482 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
flag 78092 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 69414 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
flag 82775 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 59632 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42886 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 10015 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93505 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 39571 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
flag 42538 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 91485 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41778 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 6805 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24456 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 54955 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34840 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 92626 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26}]
------------------------------------------------------
client write log 3962021947551040127 (index 27) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1550 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 50117 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27}]
------------------------------------------------------
flag 35234 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 82657 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35367 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 32631 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 49851 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 55121 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27}]
------------------------------------------------------
flag 86493 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 44899 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27}]
------------------------------------------------------
flag 50772 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 35139 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27}]
------------------------------------------------------
flag 37042 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 12374 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27}]
------------------------------------------------------
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
!!!!!!diconnect server 2
client write log 4803594545003610122 (index 28) to leader 1
flag 48287 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 26716 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27} {4803594545003610122 6 28}]
------------------------------------------------------
flag 31644 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 57704 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27} {4803594545003610122 6 28}]
------------------------------------------------------
client write log 4057929071820033149 (index 29) to leader 1
client write log 7284447766870528524 (index 30) to leader 1
client write log 6935338573383307216 (index 31) to leader 1
client write log 7984424993454504986 (index 32) to leader 1
client write log 2949336076982122257 (index 33) to leader 1
client write log 4455844172645241507 (index 34) to leader 1
client write log 252495302986299218 (index 35) to leader 1
client write log 2582923687688488868 (index 36) to leader 1
client write log 1704475990110393693 (index 37) to leader 1
client write log 6641171594193064164 (index 38) to leader 1
flag 13432 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 83882 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 19} {7282016789762672326 4 20} {4459520654493123183 4 21} {107579499020638431 4 22} {6325730513304766517 4 23} {9022184982658841001 4 24} {6809064632673462020 4 25} {3962021947551040127 4 26} {3962021947551040127 6 27} {4803594545003610122 6 28} {4057929071820033149 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=38
-------------------------------------------------------------
flag 5355 term 6 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=38
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2745454568088751129 (index 39) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 28->27
------------------------------------------------------
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 7651 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 14742 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 40->39
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 40->39
------------------------------------------------------
flag 14648 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 28  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
flag 82990 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 48495 term 8 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 8 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43374 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 36951 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70207 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 15437 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86531 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 85382 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
flag 49749 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 5519 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
flag 24821 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 58254 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
flag 92303 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 64184 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
flag 8478 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 20503 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
flag 12248 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 42984 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
flag 21619 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 15927 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54195 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 15881 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
flag 42331 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 89107 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
flag 35710 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 89898 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
term 8 server 0 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 0
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98230 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 53094 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
flag 19691 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 64514 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
flag 23077 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 54179 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27259 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 47151 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38851 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 55848 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39}]
------------------------------------------------------
client write log 2745454568088751129 (index 40) to leader 1
flag 14321 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 59801 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {7284447766870528524 6 30} {6935338573383307216 6 31} {7984424993454504986 6 32} {2949336076982122257 6 33} {4455844172645241507 6 34} {252495302986299218 6 35} {2582923687688488868 6 36} {1704475990110393693 6 37} {6641171594193064164 6 38} {2745454568088751129 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 29875 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 91472 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 37140 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 12811 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2547 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 78229 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
flag 55750 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 82977 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
flag 24913 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 76190 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
flag 71536 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 75299 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 84986 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 89183 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 7866 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 34907 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 42992 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 84802 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
flag 11341 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 14504 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2745454568088751129 8 40}]
------------------------------------------------------
client write log 622556846226317796 (index 41) to leader 2
flag 78620 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 18959 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 41->40
------------------------------------------------------
flag 5521 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 34788 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {2745454568088751129 8 40} {622556846226317796 9 41}]
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 40
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 87110 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 73941 term 9 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 20229 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {2745454568088751129 8 40} {622556846226317796 9 41}]
------------------------------------------------------
client write log 8737126347675496962 (index 42) to leader 2
client write log 4575745028564776231 (index 43) to leader 2
client write log 712737939825330394 (index 44) to leader 2
client write log 5196550587243614165 (index 45) to leader 2
client write log 4207613730211173896 (index 46) to leader 2
client write log 151633215665555979 (index 47) to leader 2
client write log 7248225227658016289 (index 48) to leader 2
client write log 3211726841005074853 (index 49) to leader 2
client write log 570219655896218205 (index 50) to leader 2
client write log 5151415935700802886 (index 51) to leader 2
client write log 3322145361097779705 (index 52) to leader 2
client write log 5933863878028555656 (index 53) to leader 2
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 40
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 30003 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 34597 term 9 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 72510 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 39} {2745454568088751129 8 40} {622556846226317796 9 41} {8737126347675496962 9 42} {4575745028564776231 9 43} {712737939825330394 9 44} {5196550587243614165 9 45} {4207613730211173896 9 46} {151633215665555979 9 47} {7248225227658016289 9 48} {3211726841005074853 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=53
-------------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 40
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 98075 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 41->40
------------------------------------------------------
flag 10534 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=53
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1737000988426634591 (index 41) to leader 1
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 40
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 40
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9866 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 0 not vote for server 1, 日志不够新
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 0 vote for server 2
term 11 server 2 get outdate rpc reply from server 0
flag 68719 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 29223 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 54->53
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 79224 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 25577 term 11 leader 2 nextIndex[1]: 50  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 21035 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 99498 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 22380 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 25331 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 94425 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 28377 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 43014 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 27860 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 80419 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 70510 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30490 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 26228 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50309 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 93053 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 46221 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 53255 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 32568 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 3279 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 70878 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 89977 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 35575 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 86012 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 67374 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 47672 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 84903 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 17365 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50212 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 61062 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 68715 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 28128 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 78220 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 84297 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
flag 38707 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 40110 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53}]
------------------------------------------------------
client write log 1737000988426634591 (index 54) to leader 2
flag 9209 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 26859 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54}]
------------------------------------------------------
flag 48228 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 17553 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54}]
------------------------------------------------------
flag 52153 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 52290 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70316 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 98101 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54}]
------------------------------------------------------
flag 21712 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 98135 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15933 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 16801 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4366578393662509474 (index 55) to leader 2
flag 45531 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 24248 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54} {4366578393662509474 11 55}]
------------------------------------------------------
flag 52186 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 57868 term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54} {4366578393662509474 11 55}]
------------------------------------------------------
client write log 7193534518746707823 (index 56) to leader 2
client write log 4487457959722888609 (index 57) to leader 2
client write log 2075881142960697136 (index 58) to leader 2
client write log 176380996532643502 (index 59) to leader 2
client write log 3959910432083668816 (index 60) to leader 2
client write log 6127460779652457815 (index 61) to leader 2
client write log 253136358643734909 (index 62) to leader 2
flag 81239 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 12569 term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 49} {570219655896218205 9 50} {5151415935700802886 9 51} {3322145361097779705 9 52} {5933863878028555656 9 53} {1737000988426634591 11 54} {4366578393662509474 11 55} {7193534518746707823 11 56} {4487457959722888609 11 57} {2075881142960697136 11 58} {176380996532643502 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=62
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 57551 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=62
-------------------------------------------------------------
!!!!!!connect server 0
client write log 10895492074251763 (index 63) to leader 2
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
term 13 server 1 vote for server 2
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 0
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 1
flag 17865 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 31652 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 64->63
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 64->63
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 55  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 14637 term 13 leader 2 nextIndex[1]: 63  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
flag 39768 term 13 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 13 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 97296 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
flag 9512 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 57620 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
flag 64366 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 34786 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 1 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 1
flag 64602 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 63121 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
flag 56591 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 70682 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
flag 6674 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 50335 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30945 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 16019 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41446 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 10903 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
flag 91084 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 46417 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
flag 56840 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 23685 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
flag 99809 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 28106 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
flag 38078 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 5821 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
flag 15050 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 1511 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
flag 57387 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 48708 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
flag 92287 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 30514 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
flag 62704 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 31741 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
flag 5083 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 73181 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
flag 54361 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 36192 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63}]
------------------------------------------------------
client write log 10895492074251763 (index 64) to leader 2
flag 45181 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 3571 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64}]
------------------------------------------------------
flag 40146 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 57240 term 13 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64}]
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13713 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 3623 term 13 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64}]
------------------------------------------------------
flag 85796 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 54882 term 13 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26808 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 77825 term 13 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64}]
------------------------------------------------------
flag 43565 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 75626 term 13 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1411795725661542826 (index 65) to leader 2
flag 98435 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 4367 term 13 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64} {1411795725661542826 13 65}]
------------------------------------------------------
flag 38859 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 17823 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64} {1411795725661542826 13 65}]
------------------------------------------------------
client write log 779462860807907597 (index 66) to leader 2
client write log 3103283246825717377 (index 67) to leader 2
client write log 5854782988768467983 (index 68) to leader 2
client write log 4745427674889070410 (index 69) to leader 2
client write log 6146781172827617446 (index 70) to leader 2
client write log 9076528939400074106 (index 71) to leader 2
client write log 643766411144953611 (index 72) to leader 2
client write log 438641480196316293 (index 73) to leader 2
client write log 8227283611616301871 (index 74) to leader 2
client write log 7040545125787143220 (index 75) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62797 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 77612 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 59} {3959910432083668816 11 60} {6127460779652457815 11 61} {253136358643734909 11 62} {10895492074251763 11 63} {10895492074251763 13 64} {1411795725661542826 13 65} {779462860807907597 13 66} {3103283246825717377 13 67} {5854782988768467983 13 68} {4745427674889070410 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75}]
------------------------------------------------------
term 13 Server2 start snapshot! index=69
term 13 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=75
-------------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 70475 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75}]
------------------------------------------------------
term 13 Server1 start snapshot! index=69
term 13 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=75
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3442783769924920081 (index 76) to leader 2
term 13 server 2 not vote for server 0, 日志不够新
term 13 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 2 become leader
------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get outdate rpc reply from server 0
flag 18994 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 74317 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 15 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 77->76
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 77->76
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 65  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 46084 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 0 InstallSnapshot success
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 13 rf.commitIndex 69 rf.lastApplied 69
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22395 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 48044 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
flag 40021 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 45476 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
flag 34014 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 49633 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
term 15 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48438 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 25174 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 846 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 61945 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 568 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 59134 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
flag 7862 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 79322 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
flag 21831 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 2698 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
flag 94691 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 49979 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
flag 61701 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 80471 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
flag 38258 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 68024 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
flag 74216 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 18437 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41737 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 48218 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
flag 47755 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 19435 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
flag 24064 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 26156 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
flag 81015 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 89089 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
flag 3016 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 55697 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
flag 49547 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 59723 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=75
leader log:
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76}]
------------------------------------------------------
client write log 3442783769924920081 (index 77) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72542 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 99239 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
flag 47581 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 81541 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
flag 75885 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 11250 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25059 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 5404 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
flag 48130 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 70216 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
flag 93348 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 30587 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
flag 61955 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 46013 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 80944 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 77677 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 29847 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 61517 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 11125 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 1918 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 1
term 16 server 0 become leader
------------------------------------------------------
flag 74987 term 16 leader 0 nextIndex[1]: 78  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 21888 term 16 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77}]
------------------------------------------------------
client write log 8973683344917010564 (index 78) to leader 0
flag 63341 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 96750 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 9312 term 16 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 16 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 81612 term 16 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77} {8973683344917010564 16 78}]
------------------------------------------------------
flag 68211 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 2359 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 21529 term 16 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 16 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 86687 term 16 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77} {8973683344917010564 16 78}]
------------------------------------------------------
client write log 6741803855607436815 (index 79) to leader 0
client write log 7589669069782452980 (index 80) to leader 0
client write log 3678290914771331836 (index 81) to leader 0
client write log 3928147139132318655 (index 82) to leader 0
client write log 6921961173483469918 (index 83) to leader 0
client write log 3928406599933922005 (index 84) to leader 0
client write log 7473054137202331786 (index 85) to leader 0
client write log 5056875815647772104 (index 86) to leader 0
flag 48151 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 89027 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 48485 term 16 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 16 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 39153 term 16 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 13 69} {6146781172827617446 13 70} {9076528939400074106 13 71} {643766411144953611 13 72} {438641480196316293 13 73} {8227283611616301871 13 74} {7040545125787143220 13 75} {3442783769924920081 13 76} {3442783769924920081 15 77} {8973683344917010564 16 78} {6741803855607436815 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
term 16 Server0 start snapshot! index=79
term 16 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=86
-------------------------------------------------------------
flag 78118 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 49398 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 78->77
------------------------------------------------------
flag 35492 term 16 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
term 16 Server1 start snapshot! index=79
term 16 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=86
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3171017580270356873 (index 78) to leader 2
flag 62040 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 77
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97083 term 16 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 16 rf.commitIndex 79 rf.lastApplied 79
term 16 server 1 not vote for server 2, 日志不够新
term 16 server 0 not vote for server 2, 日志不够新
term 18 server 2 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 1 vote for server 0
term 18 server 0 get outdate rpc reply from server 1
flag 92387 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 85575 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 87->86
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
flag 856 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 36256 term 18 leader 0 nextIndex[2]: 80  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
flag 96446 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 98476 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
flag 77108 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 67735 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73048 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 84408 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15769 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 70613 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
flag 21173 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 2533 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
flag 47581 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 83467 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
flag 49216 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 96496 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24841 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 56467 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
flag 53435 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 52149 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
flag 61120 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 42214 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
flag 6505 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 8106 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
flag 59089 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 14212 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
flag 398 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 36153 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
flag 66696 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 98645 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
flag 9459 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 83715 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55234 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 55630 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
flag 49621 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 13937 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86}]
------------------------------------------------------
client write log 3171017580270356873 (index 87) to leader 0
flag 58698 term 18 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 86565 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87}]
------------------------------------------------------
flag 88180 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
flag 54766 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87}]
------------------------------------------------------
flag 87168 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
flag 26167 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87}]
------------------------------------------------------
flag 70542 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
flag 52666 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87}]
------------------------------------------------------
flag 26635 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
flag 93640 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87}]
------------------------------------------------------
flag 30390 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
flag 13658 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5473155814103976104 (index 88) to leader 0
flag 2944 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
flag 25453 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87} {5473155814103976104 18 88}]
------------------------------------------------------
flag 13378 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 8930 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87} {5473155814103976104 18 88}]
------------------------------------------------------
client write log 7523816017624061034 (index 89) to leader 0
client write log 8890338439724779563 (index 90) to leader 0
client write log 814806864194965902 (index 91) to leader 0
client write log 902520704997450362 (index 92) to leader 0
client write log 8303126555373728725 (index 93) to leader 0
client write log 669066975753178353 (index 94) to leader 0
client write log 2900373423931447196 (index 95) to leader 0
client write log 6621214778815754074 (index 96) to leader 0
client write log 2001070070478087213 (index 97) to leader 0
client write log 68015776956360703 (index 98) to leader 0
client write log 5020054965958872534 (index 99) to leader 0
client write log 3893317700244533775 (index 100) to leader 0
client write log 3785854945257002836 (index 101) to leader 0
flag 35357 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 25856 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 79} {7589669069782452980 16 80} {3678290914771331836 16 81} {3928147139132318655 16 82} {6921961173483469918 16 83} {3928406599933922005 16 84} {7473054137202331786 16 85} {5056875815647772104 16 86} {3171017580270356873 18 87} {5473155814103976104 18 88} {7523816017624061034 18 89} {8890338439724779563 18 90} {814806864194965902 18 91} {902520704997450362 18 92} {8303126555373728725 18 93} {669066975753178353 18 94} {2900373423931447196 18 95} {6621214778815754074 18 96} {2001070070478087213 18 97} {68015776956360703 18 98} {5020054965958872534 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101}]
------------------------------------------------------
term 18 Server0 start snapshot! index=89
term 18 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=101
-------------------------------------------------------------
term 18 Server0 start snapshot! index=99
term 18 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=101
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 21269 term 18 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 18 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 18 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101}]
------------------------------------------------------
term 18 Server2 start snapshot! index=89
term 18 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=101
-------------------------------------------------------------
term 18 Server2 start snapshot! index=99
term 18 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7904316268142225224 (index 102) to leader 0
term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 64023 term 18 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 18 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 18 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 19 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 server 2 vote for server 0
term 20 server 1 vote for server 0
term 20 server 0 get vote from server 2
term 20 server 0 become leader
------------------------------------------------------
term 20 server 0 get outdate rpc reply from server 1
flag 66560 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 5768 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
term 20 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 103->102
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 88  matchIndex[1]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 62098 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 1 InstallSnapshot success
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 18 rf.commitIndex 99 rf.lastApplied 99
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49850 term 20 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 20881 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
flag 77384 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 24559 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
flag 31665 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 88811 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
flag 83066 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 51122 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
flag 15266 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 74103 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75121 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 48592 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
flag 94827 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 75124 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4833744269577070133 (index 103) to leader 0
flag 72041 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 71872 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102} {4833744269577070133 20 103}]
------------------------------------------------------
flag 81491 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 88350 term 20 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 103 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102} {4833744269577070133 20 103}]
------------------------------------------------------
client write log 6248431880462884671 (index 104) to leader 0
client write log 223825833984530845 (index 105) to leader 0
client write log 6540473039782447733 (index 106) to leader 0
client write log 945660751478332152 (index 107) to leader 0
client write log 78019803930846443 (index 108) to leader 0
client write log 6616372479083931210 (index 109) to leader 0
client write log 6326334696123459536 (index 110) to leader 0
client write log 6880934677488241905 (index 111) to leader 0
client write log 7563716310492582523 (index 112) to leader 0
client write log 1753590203602104890 (index 113) to leader 0
client write log 3483498244823302532 (index 114) to leader 0
client write log 4434217385659278836 (index 115) to leader 0
client write log 8783876558929510201 (index 116) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56388 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 42381 term 20 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 103 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 99} {3893317700244533775 18 100} {3785854945257002836 18 101} {7904316268142225224 18 102} {4833744269577070133 20 103} {6248431880462884671 20 104} {223825833984530845 20 105} {6540473039782447733 20 106} {945660751478332152 20 107} {78019803930846443 20 108} {6616372479083931210 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116}]
------------------------------------------------------
term 20 Server0 start snapshot! index=109
term 20 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=116
-------------------------------------------------------------
term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 99819 term 20 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 20 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116}]
------------------------------------------------------
term 20 Server2 start snapshot! index=109
term 20 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=116
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1684856557721769627 (index 117) to leader 0
term 20 server 2 not vote for server 1, 日志不够新
term 20 server 0 not vote for server 1, 日志不够新
term 22 server 1 vote for server 0
term 22 server 2 vote for server 0
term 22 server 0 get vote from server 1
term 22 server 0 become leader
------------------------------------------------------
term 22 server 0 get outdate rpc reply from server 2
flag 48747 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 99763 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 118->117
------------------------------------------------------
term 22 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 118->117
------------------------------------------------------
term 22 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 37493 term 22 leader 0 nextIndex[2]: 117  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
term 22 server 1 InstallSnapshot success
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 20 rf.commitIndex 109 rf.lastApplied 109
flag 75099 term 22 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 77351 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
flag 80285 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 32557 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
flag 30121 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 71283 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
flag 31105 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 93476 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
flag 39667 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 92668 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
flag 11296 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 26294 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
flag 25283 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 70056 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
flag 5483 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 80989 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
flag 47799 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 98077 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2793 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 89810 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
flag 36198 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 16511 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91523 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 4821 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
flag 43217 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 60391 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
term 22 server 2 not vote for server 0, 任期不够新
term 22 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2907 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 13741 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
flag 44574 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 43444 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
flag 13115 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 27881 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63347 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 86971 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
flag 74699 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 80305 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117}]
------------------------------------------------------
client write log 1684856557721769627 (index 118) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30600 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 73031 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117} {1684856557721769627 22 118}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117} {1684856557721769627 22 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 144 term 22 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 14815 term 22 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117} {1684856557721769627 22 118}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117} {1684856557721769627 22 118}]
------------------------------------------------------
term 22 server 0 not vote for server 1, 任期不够新
term 22 server 1 get outdate rpc reply from server 0
flag 34186 term 22 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 94035 term 22 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117} {1684856557721769627 22 118}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117} {1684856557721769627 22 118}]
------------------------------------------------------
flag 15027 term 22 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 110 term 22 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
term 22 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117} {1684856557721769627 22 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117} {1684856557721769627 22 118}]
------------------------------------------------------
flag 30178 term 22 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 20666 term 22 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117} {1684856557721769627 22 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117} {1684856557721769627 22 118}]
------------------------------------------------------
flag 79826 term 22 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 71107 term 22 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117} {1684856557721769627 22 118}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117} {1684856557721769627 22 118}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 26857 term 22 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 29890 term 22 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 65895 term 22 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 90460 term 22 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 34970 term 22 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 7053 term 22 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52786 term 22 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 51767 term 22 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 23 server 2 vote for server 1
term 23 server 1 get vote from server 2
term 23 server 1 become leader
------------------------------------------------------
flag 48670 term 23 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 78261 term 23 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117} {1684856557721769627 22 118}]
------------------------------------------------------
client write log 5883988667002497287 (index 119) to leader 1
flag 41247 term 22 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 21351 term 22 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 62146 term 23 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 83426 term 23 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 23 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 109} {6326334696123459536 20 110} {6880934677488241905 20 111} {7563716310492582523 20 112} {1753590203602104890 20 113} {3483498244823302532 20 114} {4434217385659278836 20 115} {8783876558929510201 20 116} {1684856557721769627 20 117} {1684856557721769627 22 118} {5883988667002497287 23 119}]
------------------------------------------------------
term 23 Server1 start snapshot! index=119
term 23 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 23704 term 22 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 8280 term 22 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 23 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 23
------------------------------------------------------
flag 70822 term 23 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 23 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 23 leaderCommit: 119 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 23 119}]
------------------------------------------------------
term 23 Server2 start snapshot! index=119
term 23 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 5747204896724644534 (index 120) to leader 1
client write log 9142683077566772497 (index 121) to leader 1
client write log 8860926971029505723 (index 122) to leader 1
client write log 7583401900659106916 (index 123) to leader 1
client write log 2396311749216645360 (index 124) to leader 1
client write log 2563510836416526970 (index 125) to leader 1
client write log 7630810044553253086 (index 126) to leader 1
client write log 5327714180972388687 (index 127) to leader 1
client write log 7126705252313334182 (index 128) to leader 1
client write log 2016032591742628114 (index 129) to leader 1
flag 50977 term 22 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
flag 17884 term 22 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 23 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 23
------------------------------------------------------
flag 85348 term 23 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 23 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 23 leaderCommit: 119 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 119} {5747204896724644534 23 120} {9142683077566772497 23 121} {8860926971029505723 23 122} {7583401900659106916 23 123} {2396311749216645360 23 124} {2563510836416526970 23 125} {7630810044553253086 23 126} {5327714180972388687 23 127} {7126705252313334182 23 128} {2016032591742628114 23 129}]
------------------------------------------------------
term 23 Server1 start snapshot! index=129
term 23 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 119->118
------------------------------------------------------
flag 60821 term 22 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 22 leader 0 nextIndex[2]: 0  matchIndex[2]: 118
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
term 23 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 48125 term 23 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1396353430539147143 (index 130) to leader 1
flag 53524 term 22 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 22 leader 0 nextIndex[2]: 0  matchIndex[2]: 118
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
term 23 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 server 1 AppendEntries false 领导者任期过期 args.Term 22
------------------------------------------------------
term 22 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 82523 term 23 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {1396353430539147143 23 130}]
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
term 23 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 23 rf.commitIndex 129 rf.lastApplied 129
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 not vote for server 0, 日志不够新
term 23 server 1 not vote for server 0, 日志不够新
term 25 server 2 vote for server 1
term 25 server 0 vote for server 1
term 25 server 1 get vote from server 2
term 25 server 1 become leader
------------------------------------------------------
term 25 server 1 get outdate rpc reply from server 0
flag 75112 term 25 leader 1 nextIndex[0]: 131  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 13525 term 25 leader 1 nextIndex[2]: 131  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {1396353430539147143 23 130}]
------------------------------------------------------
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 131->130
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24503 term 25 leader 1 nextIndex[0]: 130  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 81341 term 25 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {1396353430539147143 23 130}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {1396353430539147143 23 130}]
------------------------------------------------------
flag 80393 term 25 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 45311 term 25 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {1396353430539147143 23 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {1396353430539147143 23 130}]
------------------------------------------------------
flag 69576 term 25 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 24476 term 25 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {1396353430539147143 23 130}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {1396353430539147143 23 130}]
------------------------------------------------------
flag 67776 term 25 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 38562 term 25 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {1396353430539147143 23 130}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {1396353430539147143 23 130}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50295 term 25 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 20701 term 25 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {1396353430539147143 23 130}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {1396353430539147143 23 130}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54225 term 25 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 75301 term 25 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {1396353430539147143 23 130}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {1396353430539147143 23 130}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3998735942353574780 (index 131) to leader 1
flag 56190 term 25 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 91276 term 25 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 23 129} {1396353430539147143 23 130} {3998735942353574780 25 131}]
------------------------------------------------------
flag 83678 term 25 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 25 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 88182 term 25 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 23 129} {1396353430539147143 23 130} {3998735942353574780 25 131}]
------------------------------------------------------
client write log 7921368356630103094 (index 132) to leader 1
client write log 188071819694114829 (index 133) to leader 1
client write log 892588592762992806 (index 134) to leader 1
client write log 8115555525277109156 (index 135) to leader 1
client write log 3645724998205225726 (index 136) to leader 1
client write log 7414706827897767185 (index 137) to leader 1
client write log 2260149469925953043 (index 138) to leader 1
client write log 914907118000674860 (index 139) to leader 1
client write log 5169961396808085711 (index 140) to leader 1
client write log 5101087975566271263 (index 141) to leader 1
flag 61351 term 25 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 25 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 76933 term 25 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 129} {1396353430539147143 23 130} {3998735942353574780 25 131} {7921368356630103094 25 132} {188071819694114829 25 133} {892588592762992806 25 134} {8115555525277109156 25 135} {3645724998205225726 25 136} {7414706827897767185 25 137} {2260149469925953043 25 138} {914907118000674860 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141}]
------------------------------------------------------
term 25 Server1 start snapshot! index=139
term 25 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=141
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99621 term 25 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141}]
------------------------------------------------------
term 25 Server0 start snapshot! index=139
term 25 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=141
-------------------------------------------------------------
!!!!!!connect server 2
client write log 11696173551086679 (index 142) to leader 1
term 25 server 1 not vote for server 2, 日志不够新
term 25 server 0 not vote for server 2, 日志不够新
term 26 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 server 2 vote for server 1
term 27 server 1 get vote from server 2
term 27 server 1 become leader
------------------------------------------------------
term 27 server 0 vote for server 1
term 27 server 1 get outdate rpc reply from server 0
flag 51889 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 83000 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 143->142
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 143->142
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52878 term 27 leader 1 nextIndex[0]: 142  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 131  matchIndex[2]: 0
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
term 27 server 2 InstallSnapshot success
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 25 rf.commitIndex 139 rf.lastApplied 139
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
flag 98689 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 50296 term 27 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 27 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
flag 96902 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 85550 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86663 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 44723 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14281 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 83987 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
flag 32731 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 21964 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
flag 32270 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 85651 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
flag 43354 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 54261 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
flag 33938 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 42612 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55580 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 29090 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
flag 22854 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 96787 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
flag 4349 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 58713 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27488 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 60373 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
flag 50473 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 49173 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 not vote for server 1, 任期不够新
term 27 server 1 get outdate rpc reply from server 0
flag 89214 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 68744 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83839 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 25533 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
flag 72865 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 67950 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27797 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 56875 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
flag 58839 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 23137 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142}]
------------------------------------------------------
client write log 11696173551086679 (index 143) to leader 1
flag 96861 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 54292 term 27 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143}]
------------------------------------------------------
flag 75108 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 26212 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143}]
------------------------------------------------------
flag 83128 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 79535 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143}]
------------------------------------------------------
flag 25212 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 27584 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36999 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 367 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36680 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 95764 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143}]
------------------------------------------------------
flag 69357 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 17168 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8086041774439902865 (index 144) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13515 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 67878 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143} {8086041774439902865 27 144}]
------------------------------------------------------
flag 46636 term 27 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 69128 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143} {8086041774439902865 27 144}]
------------------------------------------------------
client write log 4791389661709132604 (index 145) to leader 1
client write log 1999784602893065341 (index 146) to leader 1
client write log 194918615561058458 (index 147) to leader 1
client write log 8584910109235229492 (index 148) to leader 1
client write log 5505735681821682948 (index 149) to leader 1
client write log 6454886612815882182 (index 150) to leader 1
flag 72067 term 27 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 80722 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 139} {5169961396808085711 25 140} {5101087975566271263 25 141} {11696173551086679 25 142} {11696173551086679 27 143} {8086041774439902865 27 144} {4791389661709132604 27 145} {1999784602893065341 27 146} {194918615561058458 27 147} {8584910109235229492 27 148} {5505735681821682948 27 149} {6454886612815882182 27 150}]
------------------------------------------------------
term 27 Server1 start snapshot! index=149
term 27 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
flag 44236 term 27 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150}]
------------------------------------------------------
term 27 Server0 start snapshot! index=149
term 27 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4417926817689947208 (index 151) to leader 1
flag 96136 term 27 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 27 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
term 28 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 2 vote for server 1
term 29 server 0 vote for server 1
term 29 server 1 get vote from server 2
term 29 server 1 become leader
------------------------------------------------------
term 29 server 1 get outdate rpc reply from server 0
flag 23371 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 91694 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 152->151
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
flag 13051 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 144  matchIndex[2]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
term 29 server 2 InstallSnapshot success
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 27 rf.commitIndex 149 rf.lastApplied 149
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
flag 39858 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 88009 term 29 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 server 0 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 0
flag 85743 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 93849 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
flag 48851 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 58560 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
flag 69506 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 4720 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
flag 91692 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 47050 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88215 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 42464 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
flag 90460 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 94683 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
flag 63470 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 31141 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
flag 62316 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 49557 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70500 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 29228 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2870 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 66729 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38156 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 76576 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3557 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 3036 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
flag 67561 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 19143 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
flag 91280 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 58340 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91827 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 16318 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
flag 33286 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 19915 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4417926817689947208 (index 152) to leader 1
flag 29937 term 29 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
flag 69925 term 29 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
flag 3478 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
flag 78691 term 29 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
flag 66466 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
flag 28171 term 29 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
flag 90341 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
flag 54029 term 29 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
flag 54175 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
flag 75503 term 29 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
flag 48331 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
flag 55103 term 29 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
flag 98364 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
flag 69318 term 29 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 2 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 2
!!!!!!diconnect server 1
flag 3678 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
flag 8023 term 29 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 153->152
------------------------------------------------------
flag 98446 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 0  matchIndex[2]: 152
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
flag 99717 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 0  matchIndex[2]: 152
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
flag 60009 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 0  matchIndex[2]: 152
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
term 30 server 2 vote for server 0
term 30 server 0 get vote from server 2
term 30 server 0 become leader
------------------------------------------------------
flag 28156 term 30 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
flag 80936 term 30 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152}]
------------------------------------------------------
client write log 5404955871429236747 (index 153) to leader 0
flag 666 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 0  matchIndex[2]: 152
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
flag 19428 term 30 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
flag 58448 term 30 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 30 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153}]
------------------------------------------------------
flag 15887 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 0  matchIndex[2]: 152
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
flag 86365 term 30 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 153 
------------------------------------------------------
flag 21652 term 30 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 30 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153}]
------------------------------------------------------
client write log 3404310303364934700 (index 154) to leader 0
flag 12869 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
flag 82127 term 29 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 98159 term 30 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 153 
------------------------------------------------------
flag 31940 term 30 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 30 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
flag 26109 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
flag 22434 term 29 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 53398 term 30 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 53084 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6084023314413548563 (index 153) to leader 1
flag 91340 term 29 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 29 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 152 
------------------------------------------------------
flag 5453 term 29 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 30 server 2 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 30 server 0 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24600 term 30 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 95805 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85271 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 76372 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95897 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 48110 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
flag 8017 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 79419 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
flag 78916 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 22352 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
flag 84918 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 58586 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
update nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36643 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 49550 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
flag 99339 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 7207 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
flag 46697 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 40838 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77133 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 99378 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72036 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 73922 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
flag 62186 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 13997 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 155->154
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 154
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
flag 18111 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 InstallSnapshot fail
rf.commitIndex 154 args.LastIncludedIndex 149
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
flag 40246 term 30 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 30 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
flag 47900 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
flag 83233 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 53696 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
flag 82233 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 13957 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 155->154
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 154
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
flag 16775 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 InstallSnapshot fail
rf.commitIndex 154 args.LastIncludedIndex 149
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
flag 24542 term 30 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 30 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
flag 93431 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
flag 76635 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 96001 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
flag 94520 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 77528 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154}]
------------------------------------------------------
client write log 6084023314413548563 (index 155) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 155->154
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 154
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
flag 62424 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 1 InstallSnapshot fail
rf.commitIndex 154 args.LastIncludedIndex 149
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155}]
------------------------------------------------------
flag 36322 term 30 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 30 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 155 
------------------------------------------------------
flag 90120 term 30 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155}]
------------------------------------------------------
flag 23665 term 30 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 29801 term 30 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155}]
------------------------------------------------------
flag 22693 term 30 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 39167 term 30 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155}]
------------------------------------------------------
flag 83364 term 30 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 7016 term 30 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155}]
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44549 term 30 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 1402 term 30 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155}]
------------------------------------------------------
flag 45041 term 30 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 62683 term 30 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1332039563487383700 (index 156) to leader 0
flag 33688 term 30 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 21602 term 30 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155} {1332039563487383700 30 156}]
------------------------------------------------------
flag 97857 term 30 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
flag 35649 term 30 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 30 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155} {1332039563487383700 30 156}]
------------------------------------------------------
client write log 9170763684189358685 (index 157) to leader 0
client write log 9154745444749348029 (index 158) to leader 0
client write log 5641890105731330260 (index 159) to leader 0
client write log 3552761026473814300 (index 160) to leader 0
client write log 1526943614995978904 (index 161) to leader 0
client write log 8866152107253777208 (index 162) to leader 0
client write log 6328505065411043500 (index 163) to leader 0
client write log 8727696604244484315 (index 164) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95491 term 30 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
flag 57070 term 30 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 30 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 27 149} {6454886612815882182 27 150} {4417926817689947208 27 151} {4417926817689947208 29 152} {5404955871429236747 30 153} {3404310303364934700 30 154} {6084023314413548563 30 155} {1332039563487383700 30 156} {9170763684189358685 30 157} {9154745444749348029 30 158} {5641890105731330260 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164}]
------------------------------------------------------
term 30 Server0 start snapshot! index=159
term 30 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=164
-------------------------------------------------------------
term 30 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 30
------------------------------------------------------
flag 40026 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164}]
------------------------------------------------------
term 30 Server2 start snapshot! index=159
term 30 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=164
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6231599324928532949 (index 165) to leader 0
term 30 server 2 not vote for server 1, 日志不够新
term 30 server 0 not vote for server 1, 日志不够新
term 32 server 2 vote for server 0
term 32 server 1 vote for server 0
term 32 server 0 get vote from server 2
term 32 server 0 become leader
------------------------------------------------------
term 32 server 0 get outdate rpc reply from server 1
flag 32537 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 22541 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 166->165
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 166->165
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 156  matchIndex[1]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 30
------------------------------------------------------
flag 98438 term 32 leader 0 nextIndex[2]: 165  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 InstallSnapshot success
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 30 rf.commitIndex 159 rf.lastApplied 159
flag 8217 term 32 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 32 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 72673 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
flag 28348 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 44615 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
flag 17389 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 27195 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
flag 24909 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 71527 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81275 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 30218 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
flag 76145 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 41751 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 1
flag 98243 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 20665 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47370 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 89496 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
flag 41961 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 70694 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
flag 7217 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 64527 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
flag 58635 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 60716 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7267 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 12727 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
flag 33079 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 8979 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46126 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 10891 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
flag 61511 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 1906 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
flag 46788 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 87937 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
flag 47263 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 65490 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
flag 50884 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 84504 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165}]
------------------------------------------------------
client write log 6231599324928532949 (index 166) to leader 0
flag 15360 term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 72721 term 32 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 32 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166}]
------------------------------------------------------
flag 1212 term 32 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 60069 term 32 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166}]
------------------------------------------------------
flag 66497 term 32 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 58733 term 32 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95717 term 32 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 16443 term 32 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166}]
------------------------------------------------------
flag 68659 term 32 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 28774 term 32 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166}]
------------------------------------------------------
flag 7211 term 32 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 66525 term 32 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166}]
------------------------------------------------------
flag 78114 term 32 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 53577 term 32 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6613327518846224698 (index 167) to leader 0
flag 16243 term 32 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 62453 term 32 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166} {6613327518846224698 32 167}]
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88622 term 32 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 167 
------------------------------------------------------
flag 85103 term 32 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 32 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 32 leaderCommit: 167 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166} {6613327518846224698 32 167}]
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 5241982753519978933 (index 168) to leader 0
client write log 4846767290138400437 (index 169) to leader 0
client write log 5529110988644483839 (index 170) to leader 0
client write log 2726869573189495956 (index 171) to leader 0
client write log 1697040172940283846 (index 172) to leader 0
client write log 8825917236191728785 (index 173) to leader 0
client write log 1332461831190117251 (index 174) to leader 0
client write log 2208396111402151343 (index 175) to leader 0
client write log 3400269148721833617 (index 176) to leader 0
client write log 7000957308224924752 (index 177) to leader 0
client write log 2914571577843926940 (index 178) to leader 0
client write log 1197765038780980445 (index 179) to leader 0
client write log 232613228816185805 (index 180) to leader 0
client write log 7855479691244849316 (index 181) to leader 0
client write log 2193147454447837445 (index 182) to leader 0
flag 23976 term 32 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 167 
------------------------------------------------------
flag 44738 term 32 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 32 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 32 leaderCommit: 167 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 159} {3552761026473814300 30 160} {1526943614995978904 30 161} {8866152107253777208 30 162} {6328505065411043500 30 163} {8727696604244484315 30 164} {6231599324928532949 30 165} {6231599324928532949 32 166} {6613327518846224698 32 167} {5241982753519978933 32 168} {4846767290138400437 32 169} {5529110988644483839 32 170} {2726869573189495956 32 171} {1697040172940283846 32 172} {8825917236191728785 32 173} {1332461831190117251 32 174} {2208396111402151343 32 175} {3400269148721833617 32 176} {7000957308224924752 32 177} {2914571577843926940 32 178} {1197765038780980445 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182}]
------------------------------------------------------
term 32 Server0 start snapshot! index=169
term 32 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=182
-------------------------------------------------------------
term 32 Server0 start snapshot! index=179
term 32 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=182
-------------------------------------------------------------
term 32 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
flag 81239 term 32 leader 0 nextIndex[2]: 183  matchIndex[2]: 182
term 32 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182}]
------------------------------------------------------
term 32 Server2 start snapshot! index=169
term 32 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=182
-------------------------------------------------------------
term 32 Server2 start snapshot! index=179
term 32 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=182
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 7244531972507495838 (index 183) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
flag 93619 term 32 leader 0 nextIndex[2]: 183  matchIndex[2]: 182
term 32 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
term 33 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 2 vote for server 0
term 34 server 0 get vote from server 2
term 34 server 0 become leader
------------------------------------------------------
term 34 server 1 vote for server 0
term 34 server 0 get outdate rpc reply from server 1
flag 17873 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 14479 term 34 leader 0 nextIndex[2]: 184  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 184->183
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 167  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
flag 56425 term 34 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 32 rf.commitIndex 179 rf.lastApplied 179
flag 97263 term 34 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 685 term 34 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
flag 94877 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 46081 term 34 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
flag 43670 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 59870 term 34 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
flag 91610 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 97523 term 34 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
flag 50421 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 53703 term 34 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
flag 64483 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 43782 term 34 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 73939 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 27297 term 34 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 6909 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 23238 term 34 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 2098 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 28237 term 34 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 35840 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 67396 term 34 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 35 server 2 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
flag 57312 term 35 leader 1 nextIndex[0]: 184  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 84434 term 35 leader 1 nextIndex[2]: 184  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183}]
------------------------------------------------------
client write log 7707534041030730631 (index 184) to leader 1
flag 14307 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 83507 term 34 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 6104 term 35 leader 1 nextIndex[0]: 184  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 5726 term 35 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 35 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183} {7707534041030730631 35 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 184->183
------------------------------------------------------
flag 83662 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 183
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
flag 47439 term 35 leader 1 nextIndex[0]: 184  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 79297 term 35 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 35 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 35 leaderCommit: 184 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183} {7707534041030730631 35 184}]
------------------------------------------------------
client write log 6284042282330052006 (index 185) to leader 1
client write log 2296425780903610604 (index 186) to leader 1
client write log 5415471529181836644 (index 187) to leader 1
client write log 5021706391718192729 (index 188) to leader 1
client write log 6706147450259189083 (index 189) to leader 1
client write log 4130765927419472125 (index 190) to leader 1
client write log 6177967688369649524 (index 191) to leader 1
client write log 7341768254309124446 (index 192) to leader 1
flag 11908 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 183
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
flag 15838 term 35 leader 1 nextIndex[0]: 184  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 67204 term 35 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 35 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 35 leaderCommit: 184 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 179} {232613228816185805 32 180} {7855479691244849316 32 181} {2193147454447837445 32 182} {7244531972507495838 32 183} {7707534041030730631 35 184} {6284042282330052006 35 185} {2296425780903610604 35 186} {5415471529181836644 35 187} {5021706391718192729 35 188} {6706147450259189083 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192}]
------------------------------------------------------
term 35 Server1 start snapshot! index=189
term 35 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=192
-------------------------------------------------------------
flag 88541 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 183
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
term 35 leader 1 nextIndex[0]: 184  matchIndex[0]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 35
------------------------------------------------------
flag 85013 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 35 leaderCommit: 192 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192}]
------------------------------------------------------
term 35 Server2 start snapshot! index=189
term 35 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=192
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4670931168209524300 (index 193) to leader 1
flag 92382 term 34 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 34 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 183
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
term 35 server 1 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 35 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 1 nextIndex[0]: 184  matchIndex[0]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 35
------------------------------------------------------
flag 98468 term 35 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 35 leaderCommit: 192 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193}]
------------------------------------------------------
term 35 server 0 InstallSnapshot success
------------------------------------------------------
term 35 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 35 rf.commitIndex 189 rf.lastApplied 189
flag 18387 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 69223 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193}]
------------------------------------------------------
flag 88823 term 35 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 66530 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193}]
------------------------------------------------------
flag 61322 term 35 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 45756 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83552 term 35 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 64181 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193}]
------------------------------------------------------
flag 16906 term 35 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 55542 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193}]
------------------------------------------------------
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 0
flag 32571 term 35 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 72697 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 194->193
------------------------------------------------------
term 35 leader 1 nextIndex[0]: 0  matchIndex[0]: 193
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 35
------------------------------------------------------
flag 62147 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
term 35 server 0 InstallSnapshot fail
rf.commitIndex 193 args.LastIncludedIndex 189
------------------------------------------------------
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193}]
------------------------------------------------------
term 35 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 8607849752454095675 (index 194) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49706 term 35 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 17657 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193} {8607849752454095675 35 194}]
------------------------------------------------------
flag 28306 term 35 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 40213 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193} {8607849752454095675 35 194}]
------------------------------------------------------
client write log 1564039368463639985 (index 195) to leader 1
client write log 7778937178371564151 (index 196) to leader 1
client write log 851878036513838270 (index 197) to leader 1
client write log 6452261202139190751 (index 198) to leader 1
client write log 3102912202389414350 (index 199) to leader 1
client write log 1061479167144855573 (index 200) to leader 1
client write log 1821110037208475107 (index 201) to leader 1
client write log 5031746542372256366 (index 202) to leader 1
flag 55145 term 35 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 36666 term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 189} {4130765927419472125 35 190} {6177967688369649524 35 191} {7341768254309124446 35 192} {4670931168209524300 35 193} {8607849752454095675 35 194} {1564039368463639985 35 195} {7778937178371564151 35 196} {851878036513838270 35 197} {6452261202139190751 35 198} {3102912202389414350 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202}]
------------------------------------------------------
term 35 Server1 start snapshot! index=199
term 35 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=202
-------------------------------------------------------------
flag 9966 term 35 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202}]
------------------------------------------------------
term 35 Server0 start snapshot! index=199
term 35 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=202
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8225590854445775329 (index 203) to leader 1
term 35 server 1 not vote for server 2, 日志不够新
term 35 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 2 vote for server 1
term 37 server 0 vote for server 1
term 37 server 1 get vote from server 2
term 37 server 1 become leader
------------------------------------------------------
term 37 server 1 get outdate rpc reply from server 0
flag 7088 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 10731 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 204->203
------------------------------------------------------
term 37 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 204->203
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6911 term 37 leader 1 nextIndex[0]: 203  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 194  matchIndex[2]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 37 server 2 InstallSnapshot success
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 35 rf.commitIndex 199 rf.lastApplied 199
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
flag 29219 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 42536 term 37 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 37 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 34440 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
term 37 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94260 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 55072 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87406 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 30254 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
flag 48984 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 57397 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
flag 66389 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 52235 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
flag 52996 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 84299 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
term 37 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76851 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 3860 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
flag 21454 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 24255 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63238 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 73481 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
flag 1749 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 94718 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
flag 58591 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 14697 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueterm 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
update nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
flag 79125 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 10966 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33598 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 70306 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
flag 53830 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 57283 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9817 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 29049 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
flag 98552 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 78616 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
flag 9227 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 14465 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203}]
------------------------------------------------------
client write log 8225590854445775329 (index 204) to leader 1
term 37 server 2 not vote for server 1, 任期不够新
term 37 server 1 get outdate rpc reply from server 2
flag 52209 term 37 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 60333 term 37 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 37 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84927 term 37 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 37 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 37 leaderCommit: 204 
------------------------------------------------------
flag 22468 term 37 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 37 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 37 leaderCommit: 204 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204}]
------------------------------------------------------
flag 65007 term 37 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 37 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 37 leaderCommit: 204 
------------------------------------------------------
flag 4355 term 37 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 37 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 37 leaderCommit: 204 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204}]
------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68441 term 37 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 37 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 37 leaderCommit: 204 
------------------------------------------------------
flag 11943 term 37 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 37 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 37 leaderCommit: 204 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204}]
------------------------------------------------------
flag 22047 term 37 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 37 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 37 leaderCommit: 204 
------------------------------------------------------
flag 9033 term 37 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 37 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 37 leaderCommit: 204 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204}]
------------------------------------------------------
flag 40637 term 37 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 37 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 37 leaderCommit: 204 
------------------------------------------------------
flag 66742 term 37 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 37 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 37 leaderCommit: 204 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1568011471250956209 (index 205) to leader 1
flag 75813 term 37 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 37 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 37 leaderCommit: 204 
------------------------------------------------------
flag 93792 term 37 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 37 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 37 leaderCommit: 204 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204} {1568011471250956209 37 205}]
------------------------------------------------------
flag 4453 term 37 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 37 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 37 leaderCommit: 205 
------------------------------------------------------
flag 68789 term 37 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 37 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 37 leaderCommit: 205 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204} {1568011471250956209 37 205}]
------------------------------------------------------
client write log 6810903043704987592 (index 206) to leader 1
client write log 6755090487512828469 (index 207) to leader 1
client write log 2525616762438008811 (index 208) to leader 1
client write log 8847784931386226161 (index 209) to leader 1
client write log 1819096586700526826 (index 210) to leader 1
client write log 3051883200526814809 (index 211) to leader 1
client write log 1046180324151085817 (index 212) to leader 1
client write log 6676417090527595757 (index 213) to leader 1
flag 36588 term 37 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 37 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 37 leaderCommit: 205 
------------------------------------------------------
flag 34032 term 37 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 37 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 37 leaderCommit: 205 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 199} {1061479167144855573 35 200} {1821110037208475107 35 201} {5031746542372256366 35 202} {8225590854445775329 35 203} {8225590854445775329 37 204} {1568011471250956209 37 205} {6810903043704987592 37 206} {6755090487512828469 37 207} {2525616762438008811 37 208} {8847784931386226161 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213}]
------------------------------------------------------
term 37 Server1 start snapshot! index=209
term 37 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=213
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64352 term 37 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213}]
------------------------------------------------------
term 37 Server0 start snapshot! index=209
term 37 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=213
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5102013152382305255 (index 214) to leader 1
flag 71208 term 37 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
term 38 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 2 vote for server 1
term 39 server 1 get vote from server 2
term 39 server 1 become leader
------------------------------------------------------
term 39 server 0 vote for server 1
term 39 server 1 get outdate rpc reply from server 0
flag 21187 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 37799 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 215->214
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
flag 93237 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 37 rf.commitIndex 209 rf.lastApplied 209
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72872 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 17350 term 39 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 39 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33059 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 34485 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1698 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 40167 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
flag 62412 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 21397 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94144 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 54347 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71370 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 37147 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
flag 78138 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 47762 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
term 39 server 0 not vote for server 1, 任期不够新
term 39 server 1 get outdate rpc reply from server 0
flag 3964 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 18488 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21635 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 2941 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31527 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 84084 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
flag 83473 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 95342 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
flag 32227 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 16558 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70322 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 88992 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
flag 53476 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 73188 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29257 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 79787 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62661 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 3600 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
flag 35146 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 78498 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214}]
------------------------------------------------------
client write log 5102013152382305255 (index 215) to leader 1
flag 5471 term 39 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 64419 term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 39 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
flag 75116 term 39 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 80573 term 39 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
term 39 server 1 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6934 term 39 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 68405 term 39 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
flag 74227 term 39 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 73758 term 39 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
flag 83515 term 39 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 55023 term 39 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
flag 53248 term 39 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 19691 term 39 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
flag 81288 term 39 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 42355 term 39 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 74500 term 39 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 76269 term 39 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 95185 term 39 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 56408 term 39 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 32277 term 39 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 41367 term 39 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
term 40 server 0 vote for server 2
term 40 server 2 get vote from server 0
term 40 server 2 become leader
------------------------------------------------------
flag 3845 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 97994 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215}]
------------------------------------------------------
client write log 4039696269416932439 (index 216) to leader 2
flag 305 term 39 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 68452 term 39 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 997 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 2003 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215} {4039696269416932439 40 216}]
------------------------------------------------------
flag 87367 term 39 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 91541 term 39 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 1304 term 40 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 70202 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 216 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215} {4039696269416932439 40 216}]
------------------------------------------------------
client write log 4920007506051880551 (index 217) to leader 2
client write log 6283421879440236453 (index 218) to leader 2
client write log 3201776728616808573 (index 219) to leader 2
client write log 4325205556417083317 (index 220) to leader 2
client write log 6546069726649932253 (index 221) to leader 2
client write log 2453124063148693682 (index 222) to leader 2
client write log 7822276618385761730 (index 223) to leader 2
client write log 7482810862793482943 (index 224) to leader 2
client write log 5173778388713826523 (index 225) to leader 2
client write log 3042627216245747852 (index 226) to leader 2
client write log 7296716354319521326 (index 227) to leader 2
client write log 5994686468863828985 (index 228) to leader 2
client write log 8396868635906756179 (index 229) to leader 2
flag 97090 term 39 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 73665 term 39 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 39250 term 40 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 4500 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 216 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 209} {1819096586700526826 37 210} {3051883200526814809 37 211} {1046180324151085817 37 212} {6676417090527595757 37 213} {5102013152382305255 37 214} {5102013152382305255 39 215} {4039696269416932439 40 216} {4920007506051880551 40 217} {6283421879440236453 40 218} {3201776728616808573 40 219} {4325205556417083317 40 220} {6546069726649932253 40 221} {2453124063148693682 40 222} {7822276618385761730 40 223} {7482810862793482943 40 224} {5173778388713826523 40 225} {3042627216245747852 40 226} {7296716354319521326 40 227} {5994686468863828985 40 228} {8396868635906756179 40 229}]
------------------------------------------------------
term 40 Server2 start snapshot! index=219
term 40 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=229
-------------------------------------------------------------
term 40 Server2 start snapshot! index=229
term 40 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 42038 term 39 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 84726 term 39 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 96817 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
term 40 Server0 start snapshot! index=219
term 40 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=229
-------------------------------------------------------------
term 40 Server0 start snapshot! index=229
term 40 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 21769 term 39 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 26518 term 39 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 39 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
!!!!!!connect server 1
client write log 1893443210762571964 (index 216) to leader 1
flag 13808 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 40 server 1 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 40 rf.commitIndex 229 rf.lastApplied 229
term 40 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
flag 49411 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 49217 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
flag 87258 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 87500 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
flag 37632 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 95752 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
flag 34256 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 28738 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 230->229
------------------------------------------------------
flag 19362 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 0  matchIndex[1]: 229
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 1 InstallSnapshot fail
rf.commitIndex 229 args.LastIncludedIndex 229
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
flag 26095 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 12057 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
flag 52073 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 94300 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57188 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 18546 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
flag 56865 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 65662 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16445 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 95344 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
flag 10844 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 21049 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8547 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 35195 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
flag 98896 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 90339 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
flag 37120 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 79333 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53486 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 40305 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 230->229
------------------------------------------------------
flag 40220 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 0  matchIndex[1]: 229
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 1 InstallSnapshot fail
rf.commitIndex 229 args.LastIncludedIndex 229
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
flag 98629 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 17308 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
flag 94062 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 28141 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
flag 86791 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 21281 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
client write log 1893443210762571964 (index 230) to leader 2
flag 15742 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
flag 88714 term 40 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {1893443210762571964 40 230}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {1893443210762571964 40 230}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31236 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 51664 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {1893443210762571964 40 230}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {1893443210762571964 40 230}]
------------------------------------------------------
term 40 server 0 not vote for server 2, 任期不够新
term 40 server 2 get outdate rpc reply from server 0
flag 84713 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 22989 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {1893443210762571964 40 230}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {1893443210762571964 40 230}]
------------------------------------------------------
flag 90925 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 86085 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {1893443210762571964 40 230}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {1893443210762571964 40 230}]
------------------------------------------------------
term 40 server 1 not vote for server 2, 日志不够新
term 40 server 2 get outdate rpc reply from server 1
flag 77732 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 71691 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {1893443210762571964 40 230}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {1893443210762571964 40 230}]
------------------------------------------------------
flag 79999 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 6164 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {1893443210762571964 40 230}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {1893443210762571964 40 230}]
------------------------------------------------------
flag 74770 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 47186 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {1893443210762571964 40 230}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 40 229} {1893443210762571964 40 230}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4826493942421858888 (index 231) to leader 2
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32864 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 16545 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 40 229} {1893443210762571964 40 230} {4826493942421858888 40 231}]
------------------------------------------------------
flag 80862 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
flag 19082 term 40 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 40 229} {1893443210762571964 40 230} {4826493942421858888 40 231}]
------------------------------------------------------
client write log 1408596892237785522 (index 232) to leader 2
client write log 9101203055774051434 (index 233) to leader 2
client write log 3576289474647667376 (index 234) to leader 2
client write log 5363080923937618257 (index 235) to leader 2
client write log 1934025312827475230 (index 236) to leader 2
client write log 804962931612464651 (index 237) to leader 2
client write log 460245517440126246 (index 238) to leader 2
client write log 5031321010168811466 (index 239) to leader 2
client write log 3984422781706194336 (index 240) to leader 2
client write log 5842146595267057902 (index 241) to leader 2
client write log 5729473194691186061 (index 242) to leader 2
flag 27163 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
flag 3303 term 40 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 229} {1893443210762571964 40 230} {4826493942421858888 40 231} {1408596892237785522 40 232} {9101203055774051434 40 233} {3576289474647667376 40 234} {5363080923937618257 40 235} {1934025312827475230 40 236} {804962931612464651 40 237} {460245517440126246 40 238} {5031321010168811466 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242}]
------------------------------------------------------
term 40 Server2 start snapshot! index=239
term 40 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=242
-------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 12929 term 40 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 40 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242}]
------------------------------------------------------
term 40 Server1 start snapshot! index=239
term 40 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=242
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6975719042623783402 (index 243) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 1 not vote for server 0, 日志不够新
term 40 server 2 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 1 vote for server 2
term 42 server 0 vote for server 2
term 42 server 2 get vote from server 0
term 42 server 2 become leader
------------------------------------------------------
term 42 server 2 get outdate rpc reply from server 1
flag 40561 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 15254 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 244->243
------------------------------------------------------
term 42 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 244->243
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 231  matchIndex[0]: 0
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 19531 term 42 leader 2 nextIndex[1]: 243  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 40 rf.commitIndex 239 rf.lastApplied 239
flag 18310 term 42 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 42 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 385 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
flag 68119 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 24691 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58020 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 49465 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
flag 655 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 40278 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49411 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 58642 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93663 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 98494 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
flag 57304 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 55801 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
flag 22281 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 97917 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
flag 54711 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 64027 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
flag 3835 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 39162 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25384 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 96643 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
flag 10068 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 41155 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
flag 53881 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 55721 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54035 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 13579 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
flag 64795 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 60025 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
flag 87160 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 46336 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
flag 84591 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 82511 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
flag 28220 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 86270 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243}]
------------------------------------------------------
client write log 6975719042623783402 (index 244) to leader 2
flag 56205 term 42 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 9164 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244}]
------------------------------------------------------
flag 72734 term 42 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 34539 term 42 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48900 term 42 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 4925 term 42 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244}]
------------------------------------------------------
flag 75258 term 42 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 45949 term 42 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244}]
------------------------------------------------------
flag 76555 term 42 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 66465 term 42 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78937 term 42 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 75938 term 42 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46902 term 42 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 58735 term 42 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 360050558521376134 (index 245) to leader 2
flag 45336 term 42 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 22761 term 42 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244} {360050558521376134 42 245}]
------------------------------------------------------
flag 78175 term 42 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 245 
------------------------------------------------------
flag 61274 term 42 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 42 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 42 leaderCommit: 245 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244} {360050558521376134 42 245}]
------------------------------------------------------
client write log 4250462190600887060 (index 246) to leader 2
client write log 3226974744886116851 (index 247) to leader 2
client write log 4681178549628542122 (index 248) to leader 2
client write log 3926770524453422616 (index 249) to leader 2
client write log 1909011582251679610 (index 250) to leader 2
client write log 8674466609482445599 (index 251) to leader 2
client write log 4302856869590363237 (index 252) to leader 2
client write log 7334836095930557938 (index 253) to leader 2
flag 57424 term 42 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 245 
------------------------------------------------------
flag 36183 term 42 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 42 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 42 leaderCommit: 245 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 239} {3984422781706194336 40 240} {5842146595267057902 40 241} {5729473194691186061 40 242} {6975719042623783402 40 243} {6975719042623783402 42 244} {360050558521376134 42 245} {4250462190600887060 42 246} {3226974744886116851 42 247} {4681178549628542122 42 248} {3926770524453422616 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253}]
------------------------------------------------------
term 42 Server2 start snapshot! index=249
term 42 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=253
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 12190 term 42 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 42 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253}]
------------------------------------------------------
term 42 Server1 start snapshot! index=249
term 42 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=253
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3241601552200848924 (index 254) to leader 2
term 42 server 2 not vote for server 0, 日志不够新
term 42 server 1 not vote for server 0, 日志不够新
term 44 server 1 vote for server 2
term 44 server 2 get vote from server 1
term 44 server 0 vote for server 2
term 44 server 2 become leader
------------------------------------------------------
term 44 server 2 get outdate rpc reply from server 0
flag 34717 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 45952 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 255->254
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 255->254
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 99240 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 42 rf.commitIndex 249 rf.lastApplied 249
flag 87738 term 44 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 44 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 40545 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
flag 98770 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 67249 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
flag 28237 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 38704 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
flag 5327 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 12288 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30879 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 93777 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
flag 40455 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 43635 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
flag 48774 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 77845 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
flag 18646 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 6482 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
flag 10199 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 18039 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
flag 38073 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 44999 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
flag 6197 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 21987 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44989 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 19895 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6581 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 24580 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
flag 51203 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 91084 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
flag 39236 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 53363 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
flag 83895 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 41159 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
flag 81509 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 60626 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
flag 30439 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 26065 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254}]
------------------------------------------------------
client write log 3241601552200848924 (index 255) to leader 2
flag 42203 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 16408 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
flag 3528 term 44 leader 2 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 52748 term 44 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
flag 2081 term 44 leader 2 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 62472 term 44 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
flag 49480 term 44 leader 2 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 71327 term 44 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
flag 90130 term 44 leader 2 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 26528 term 44 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45287 term 44 leader 2 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 76487 term 44 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
flag 64434 term 44 leader 2 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 69275 term 44 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24736 term 44 leader 2 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 84899 term 44 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 49789 term 44 leader 2 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 55514 term 44 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 40268 term 44 leader 2 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 8685 term 44 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 45 server 0 vote for server 1
term 45 server 1 get vote from server 0
term 45 server 1 become leader
------------------------------------------------------
flag 80026 term 45 leader 1 nextIndex[0]: 256  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 4591 term 45 leader 1 nextIndex[2]: 256  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255}]
------------------------------------------------------
flag 56600 term 44 leader 2 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 6722 term 44 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
client write log 7259014879936404425 (index 256) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 256->255
------------------------------------------------------
flag 81960 term 45 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 45 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 77341 term 45 leader 1 nextIndex[2]: 256  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256}]
------------------------------------------------------
flag 54429 term 44 leader 2 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 0  matchIndex[1]: 255
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 79946 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 45 leaderCommit: 256 
------------------------------------------------------
flag 38232 term 45 leader 1 nextIndex[2]: 256  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256}]
------------------------------------------------------
client write log 4159797890422210217 (index 257) to leader 1
flag 94459 term 44 leader 2 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 0  matchIndex[1]: 255
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 60400 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 45 leaderCommit: 256 
------------------------------------------------------
flag 95856 term 45 leader 1 nextIndex[2]: 256  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257}]
------------------------------------------------------
flag 16007 term 44 leader 2 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 0  matchIndex[1]: 255
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 63550 term 45 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 19088 term 45 leader 1 nextIndex[2]: 256  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 257 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3857209890794622882 (index 258) to leader 1
flag 87907 term 44 leader 2 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 0  matchIndex[1]: 255
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
term 45 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 server 0 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
term 44 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95812 term 45 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 46529 term 45 leader 1 nextIndex[2]: 256  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 257 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257} {3857209890794622882 45 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257} {3857209890794622882 45 258}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31662 term 45 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 55340 term 45 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257} {3857209890794622882 45 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257} {3857209890794622882 45 258}]
------------------------------------------------------
flag 56410 term 45 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 20547 term 45 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257} {3857209890794622882 45 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257} {3857209890794622882 45 258}]
------------------------------------------------------
flag 66247 term 45 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 60560 term 45 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257} {3857209890794622882 45 258}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257} {3857209890794622882 45 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 259->258
------------------------------------------------------
flag 19529 term 45 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 258
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
term 45 server 2 InstallSnapshot fail
rf.commitIndex 258 args.LastIncludedIndex 249
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257} {3857209890794622882 45 258}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66113 term 45 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 11447 term 45 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 45 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257} {3857209890794622882 45 258}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257} {3857209890794622882 45 258}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31650 term 45 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 80987 term 45 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257} {3857209890794622882 45 258}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257} {3857209890794622882 45 258}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5172712454940412657 (index 259) to leader 1
flag 74351 term 45 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 32068 term 45 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 249} {1909011582251679610 42 250} {8674466609482445599 42 251} {4302856869590363237 42 252} {7334836095930557938 42 253} {3241601552200848924 42 254} {3241601552200848924 44 255} {7259014879936404425 45 256} {4159797890422210217 45 257} {3857209890794622882 45 258} {5172712454940412657 45 259}]
------------------------------------------------------
term 45 Server1 start snapshot! index=259
term 45 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 2782 term 45 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
term 45 Server0 start snapshot! index=259
term 45 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
client write log 8299245570746681676 (index 260) to leader 1
client write log 4264673914870333689 (index 261) to leader 1
client write log 5131556573568413408 (index 262) to leader 1
client write log 5692807583882984127 (index 263) to leader 1
client write log 2005253303969202055 (index 264) to leader 1
client write log 6728470881146912633 (index 265) to leader 1
client write log 9056070431415003343 (index 266) to leader 1
client write log 7608182206766625768 (index 267) to leader 1
client write log 5600967209106824562 (index 268) to leader 1
flag 66889 term 45 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268}]
------------------------------------------------------
flag 98157 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268}]
------------------------------------------------------
!!!!!!connect server 2
client write log 500975996251148222 (index 269) to leader 1
term 45 server 1 not vote for server 2, 日志不够新
term 45 server 0 not vote for server 2, 日志不够新
term 47 server 2 vote for server 1
term 47 server 1 get vote from server 2
term 47 server 1 become leader
------------------------------------------------------
term 47 server 0 vote for server 1
term 47 server 1 get outdate rpc reply from server 0
flag 45040 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 44323 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 270->269
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 270->269
------------------------------------------------------
flag 78859 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 259  matchIndex[2]: 0
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
term 47 server 2 InstallSnapshot success
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 45 rf.commitIndex 259 rf.lastApplied 259
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5456 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 8218 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99572 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 59038 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
flag 46798 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 72614 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
flag 44637 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 24139 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52774 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 47156 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
flag 6616 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 98991 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
flag 615 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 69347 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
flag 65065 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 75340 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
flag 597 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 63374 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
flag 88460 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 22049 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
flag 76873 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 72868 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
flag 92437 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 68745 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14208 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 50872 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
flag 75503 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 65051 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
flag 58310 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 5835 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
flag 70614 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 66460 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5853 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 19717 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269}]
------------------------------------------------------
client write log 500975996251148222 (index 270) to leader 1
flag 92287 term 47 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 75270 term 47 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269} {500975996251148222 47 270}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 259} {8299245570746681676 45 260} {4264673914870333689 45 261} {5131556573568413408 45 262} {5692807583882984127 45 263} {2005253303969202055 45 264} {6728470881146912633 45 265} {9056070431415003343 45 266} {7608182206766625768 45 267} {5600967209106824562 45 268} {500975996251148222 45 269} {500975996251148222 47 270}]
------------------------------------------------------
term 47 Server1 start snapshot! index=269
term 47 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
flag 54020 term 47 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 35854 term 47 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {500975996251148222 47 270}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {500975996251148222 47 270}]
------------------------------------------------------
term 47 Server0 start snapshot! index=269
term 47 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
term 47 Server2 start snapshot! index=269
term 47 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
flag 47812 term 47 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 62667 term 47 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {500975996251148222 47 270}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {500975996251148222 47 270}]
------------------------------------------------------
flag 5122 term 47 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 73260 term 47 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {500975996251148222 47 270}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {500975996251148222 47 270}]
------------------------------------------------------
flag 98473 term 47 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 76249 term 47 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {500975996251148222 47 270}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {500975996251148222 47 270}]
------------------------------------------------------
flag 5032 term 47 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 7218 term 47 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {500975996251148222 47 270}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {500975996251148222 47 270}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57807 term 47 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 20858 term 47 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {500975996251148222 47 270}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {500975996251148222 47 270}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 210838234830729471 (index 271) to leader 1
flag 9073 term 47 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 62701 term 47 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 45 269} {500975996251148222 47 270} {210838234830729471 47 271}]
------------------------------------------------------
flag 72993 term 47 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 47 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 47 leaderCommit: 271 
------------------------------------------------------
flag 42686 term 47 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 271 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 45 269} {500975996251148222 47 270} {210838234830729471 47 271}]
------------------------------------------------------
client write log 2537978325851146645 (index 272) to leader 1
client write log 4363593464651675283 (index 273) to leader 1
client write log 6348108289231144563 (index 274) to leader 1
client write log 5776310071774756482 (index 275) to leader 1
client write log 6861761803805969936 (index 276) to leader 1
client write log 1308085816097111621 (index 277) to leader 1
client write log 1843095701215324233 (index 278) to leader 1
client write log 3675218218570064396 (index 279) to leader 1
client write log 3854366404912377495 (index 280) to leader 1
flag 73324 term 47 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 47 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 47 leaderCommit: 271 
------------------------------------------------------
flag 33702 term 47 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 271 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 45 269} {500975996251148222 47 270} {210838234830729471 47 271} {2537978325851146645 47 272} {4363593464651675283 47 273} {6348108289231144563 47 274} {5776310071774756482 47 275} {6861761803805969936 47 276} {1308085816097111621 47 277} {1843095701215324233 47 278} {3675218218570064396 47 279} {3854366404912377495 47 280}]
------------------------------------------------------
term 47 Server1 start snapshot! index=279
term 47 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=280
-------------------------------------------------------------
term 47 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6310 term 47 leader 1 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280}]
------------------------------------------------------
term 47 Server0 start snapshot! index=279
term 47 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=280
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9008418041222366927 (index 281) to leader 1
term 47 server 1 not vote for server 2, 日志不够新
term 47 server 0 not vote for server 2, 日志不够新
term 49 server 2 vote for server 1
term 49 server 0 vote for server 1
term 49 server 1 get vote from server 2
term 49 server 1 become leader
------------------------------------------------------
term 49 server 1 get outdate rpc reply from server 0
flag 1671 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 53197 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 282->281
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 282->281
------------------------------------------------------
flag 99195 term 49 leader 1 nextIndex[0]: 281  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 271  matchIndex[2]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
term 49 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 47 rf.commitIndex 279 rf.lastApplied 279
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73426 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 72070 term 49 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 49 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 14716 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 74336 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 84648 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 16766 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 75793 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 88605 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 79988 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 69907 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 10883 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 98345 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 3093 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 20357 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 98742 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 15637 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 16316 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 78655 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 2 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 2
flag 5206 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 50663 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 22421 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 68751 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 25386 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 86523 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 97345 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 85821 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 50483 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 40800 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50637 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 33647 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 20533 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 23296 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 50583 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 98277 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
flag 36040 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 38389 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281}]
------------------------------------------------------
client write log 9008418041222366927 (index 282) to leader 1
flag 10746 term 49 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 71071 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63074 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 79124 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
flag 87938 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 46282 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
flag 75865 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 77508 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
flag 80597 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 72950 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
flag 98094 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 79397 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39425 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 96086 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 43476 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 8426 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 32971 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 40083 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 50542 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 30645 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 0
term 50 server 2 become leader
------------------------------------------------------
flag 62325 term 50 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 71750 term 50 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282}]
------------------------------------------------------
flag 77201 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 32706 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
client write log 2851753621408954204 (index 283) to leader 2
flag 98812 term 50 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 50 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 60800 term 50 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282} {2851753621408954204 50 283}]
------------------------------------------------------
flag 73491 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 13287 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 283->282
------------------------------------------------------
flag 38703 term 50 leader 2 nextIndex[0]: 284  matchIndex[0]: 283
term 50 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 59170 term 50 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282} {2851753621408954204 50 283}]
------------------------------------------------------
client write log 4505694864112230485 (index 284) to leader 2
client write log 3938199901926146382 (index 285) to leader 2
client write log 3233784812366986979 (index 286) to leader 2
client write log 6263253462220316693 (index 287) to leader 2
client write log 3894262113272325342 (index 288) to leader 2
client write log 4532421687455782803 (index 289) to leader 2
client write log 3673189061825332481 (index 290) to leader 2
client write log 4173481660456124066 (index 291) to leader 2
client write log 5261734577857302930 (index 292) to leader 2
client write log 5461083998302452457 (index 293) to leader 2
client write log 3575856791848203788 (index 294) to leader 2
client write log 1199789077524738503 (index 295) to leader 2
client write log 819539131048334063 (index 296) to leader 2
term 49 leader 1 nextIndex[0]: 0  matchIndex[0]: 282
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 2274 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26737 term 50 leader 2 nextIndex[0]: 284  matchIndex[0]: 283
term 50 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 81443 term 50 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 47 279} {3854366404912377495 47 280} {9008418041222366927 47 281} {9008418041222366927 49 282} {2851753621408954204 50 283} {4505694864112230485 50 284} {3938199901926146382 50 285} {3233784812366986979 50 286} {6263253462220316693 50 287} {3894262113272325342 50 288} {4532421687455782803 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 50 Server2 start snapshot! index=289
term 50 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=296
-------------------------------------------------------------
term 49 leader 1 nextIndex[0]: 0  matchIndex[0]: 282
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 9441 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 878 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 50 Server0 start snapshot! index=289
term 50 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=296
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5065441922848741227 (index 283) to leader 1
term 49 leader 1 nextIndex[0]: 0  matchIndex[0]: 282
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 45450 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 50 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 2 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22132 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 50 rf.commitIndex 289 rf.lastApplied 289
term 50 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 50 server 2 not vote for server 1, 日志不够新
term 50 server 0 not vote for server 1, 日志不够新
term 52 server 1 vote for server 2
term 52 server 0 vote for server 2
term 52 server 2 get vote from server 1
term 52 server 2 become leader
------------------------------------------------------
term 52 server 2 get outdate rpc reply from server 0
flag 96669 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 93431 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 297->296
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
flag 54070 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 65703 term 52 leader 2 nextIndex[1]: 290  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39707 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 31563 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
flag 25499 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 59874 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
flag 53317 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 80670 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
flag 26227 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 7292 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
flag 49055 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 11838 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 server 1 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43316 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 65767 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35258 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 2103 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
flag 42214 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 62272 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
flag 63321 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 14415 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
flag 86926 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 26130 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
flag 66396 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 27438 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
flag 36321 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 14856 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81428 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 5214 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31583 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 73394 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
flag 1792 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 82764 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36414 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 74672 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
term 52 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30771 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 14821 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
------------------------------------------------------
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296}]
------------------------------------------------------
client write log 5065441922848741227 (index 297) to leader 2
flag 33379 term 52 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 79751 term 52 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 52 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297}]
------------------------------------------------------
flag 9527 term 52 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
flag 35559 term 52 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297}]
------------------------------------------------------
flag 11891 term 52 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
flag 88559 term 52 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297}]
------------------------------------------------------
flag 55815 term 52 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
flag 57450 term 52 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297}]
------------------------------------------------------
flag 25305 term 52 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
flag 92238 term 52 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53782 term 52 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
flag 25064 term 52 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297}]
------------------------------------------------------
flag 37544 term 52 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
flag 20844 term 52 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1894925955097555543 (index 298) to leader 2
flag 92982 term 52 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
flag 76504 term 52 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297} {1894925955097555543 52 298}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43318 term 52 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
flag 99854 term 52 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 52 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297} {1894925955097555543 52 298}]
------------------------------------------------------
client write log 8221307766749910758 (index 299) to leader 2
client write log 6814898053318853358 (index 300) to leader 2
client write log 2898589765175063584 (index 301) to leader 2
client write log 8301639660473085577 (index 302) to leader 2
client write log 5938055367056305109 (index 303) to leader 2
client write log 9177285093559156639 (index 304) to leader 2
client write log 5896062232099998057 (index 305) to leader 2
client write log 8079449102555963547 (index 306) to leader 2
client write log 7668720668583352579 (index 307) to leader 2
client write log 1682647880210210300 (index 308) to leader 2
client write log 8533463396454526125 (index 309) to leader 2
client write log 3407383489543010431 (index 310) to leader 2
client write log 4517587912810314958 (index 311) to leader 2
flag 52340 term 52 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
flag 32251 term 52 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 52 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 50 289} {3673189061825332481 50 290} {4173481660456124066 50 291} {5261734577857302930 50 292} {5461083998302452457 50 293} {3575856791848203788 50 294} {1199789077524738503 50 295} {819539131048334063 50 296} {5065441922848741227 52 297} {1894925955097555543 52 298} {8221307766749910758 52 299} {6814898053318853358 52 300} {2898589765175063584 52 301} {8301639660473085577 52 302} {5938055367056305109 52 303} {9177285093559156639 52 304} {5896062232099998057 52 305} {8079449102555963547 52 306} {7668720668583352579 52 307} {1682647880210210300 52 308} {8533463396454526125 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311}]
------------------------------------------------------
term 52 Server2 start snapshot! index=299
term 52 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=311
-------------------------------------------------------------
term 52 Server2 start snapshot! index=309
term 52 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=311
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
flag 7968 term 52 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 52 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 Server1 start snapshot! index=299
term 52 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=311
-------------------------------------------------------------
term 52 Server1 start snapshot! index=309
term 52 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=311
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6581326817974815564 (index 312) to leader 2
term 52 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
flag 76022 term 52 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 52 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 52 leaderCommit: 311 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
term 53 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 54 server 1 vote for server 2
term 54 server 2 get vote from server 1
term 54 server 2 become leader
------------------------------------------------------
term 54 server 0 vote for server 2
term 54 server 2 get outdate rpc reply from server 0
flag 80678 term 54 leader 2 nextIndex[0]: 313  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
flag 59235 term 54 leader 2 nextIndex[1]: 313  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 313->312
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 298  matchIndex[0]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
flag 27228 term 54 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
term 54 server 0 InstallSnapshot success
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 52 rf.commitIndex 309 rf.lastApplied 309
flag 44376 term 54 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 54 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
flag 29032 term 54 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60680 term 54 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
flag 82951 term 54 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
flag 54130 term 54 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
flag 75721 term 54 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20317 term 54 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
flag 55227 term 54 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
flag 2489 term 54 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
flag 64662 term 54 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
flag 55498 term 54 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
flag 15045 term 54 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 169396677798938261 (index 313) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97952 term 54 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
flag 80900 term 54 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 312 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312} {169396677798938261 54 313}]
------------------------------------------------------
flag 53613 term 54 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 313 
------------------------------------------------------
flag 75675 term 54 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 54 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312} {169396677798938261 54 313}]
------------------------------------------------------
client write log 3297644957404857692 (index 314) to leader 2
client write log 2988436631697723115 (index 315) to leader 2
client write log 51005246284966388 (index 316) to leader 2
client write log 8873711105472652231 (index 317) to leader 2
client write log 3940955869976641962 (index 318) to leader 2
client write log 7622875610040758399 (index 319) to leader 2
client write log 4454987453136932786 (index 320) to leader 2
client write log 8976623293597518334 (index 321) to leader 2
client write log 6241035887332344953 (index 322) to leader 2
flag 85836 term 54 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 52 leaderCommit: 313 
------------------------------------------------------
flag 59423 term 54 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 54 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 54 leaderCommit: 313 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 52 309} {3407383489543010431 52 310} {4517587912810314958 52 311} {6581326817974815564 52 312} {169396677798938261 54 313} {3297644957404857692 54 314} {2988436631697723115 54 315} {51005246284966388 54 316} {8873711105472652231 54 317} {3940955869976641962 54 318} {7622875610040758399 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322}]
------------------------------------------------------
term 54 Server2 start snapshot! index=319
term 54 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=322
-------------------------------------------------------------
term 54 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 98021 term 54 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 54 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322}]
------------------------------------------------------
term 54 Server1 start snapshot! index=319
term 54 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=322
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8580941379336699710 (index 323) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 2 not vote for server 0, 日志不够新
term 54 server 1 not vote for server 0, 日志不够新
term 56 server 1 vote for server 2
term 56 server 0 vote for server 2
term 56 server 2 get vote from server 1
term 56 server 2 become leader
------------------------------------------------------
term 56 server 2 get outdate rpc reply from server 0
flag 95198 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 3752 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 324->323
------------------------------------------------------
term 56 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 324->323
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 2 nextIndex[0]: 313  matchIndex[0]: 0
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 98236 term 56 leader 2 nextIndex[1]: 323  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 56 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 54 rf.commitIndex 319 rf.lastApplied 319
flag 7957 term 56 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 56 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 32095 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
flag 14443 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 11654 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27469 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 53229 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
flag 15844 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 71492 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
flag 17514 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 88032 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
flag 54412 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 66065 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
flag 65235 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 54159 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
flag 9201 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 55862 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
flag 64409 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 17984 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
flag 15430 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 94702 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
flag 32317 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 83100 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47557 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 55633 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
flag 33869 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 59816 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
flag 35284 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 89977 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78713 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 99218 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
flag 13830 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 24135 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
flag 86145 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 30476 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
flag 27781 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 74019 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323}]
------------------------------------------------------
client write log 8580941379336699710 (index 324) to leader 2
flag 76806 term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
flag 17807 term 56 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 56 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73181 term 56 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 84159 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63651 term 56 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 61118 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324}]
------------------------------------------------------
flag 15360 term 56 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 57103 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48773 term 56 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 73985 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324}]
------------------------------------------------------
flag 51182 term 56 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 77493 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324}]
------------------------------------------------------
flag 5364 term 56 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 51239 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 54907 term 56 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 88365 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 89639 term 56 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 25628 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
term 56 server 1 not vote for server 0, 任期不够新
term 56 server 0 get outdate rpc reply from server 1
flag 42782 term 56 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 93198 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
term 57 server 0 vote for server 1
term 57 server 1 get vote from server 0
term 57 server 1 become leader
------------------------------------------------------
client write log 2582238755496220923 (index 325) to leader 1
flag 46493 term 57 leader 1 nextIndex[0]: 325  matchIndex[0]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 80554 term 57 leader 1 nextIndex[2]: 325  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325}]
------------------------------------------------------
flag 48533 term 56 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 36769 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 90253 term 57 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 57 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 57 leaderCommit: 325 
------------------------------------------------------
flag 4813 term 57 leader 1 nextIndex[2]: 325  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325}]
------------------------------------------------------
flag 13288 term 56 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 63893 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
client write log 5022932594791912877 (index 326) to leader 1
flag 61236 term 57 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 57 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 57 leaderCommit: 325 
------------------------------------------------------
flag 17727 term 57 leader 1 nextIndex[2]: 325  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326}]
------------------------------------------------------
flag 57098 term 56 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 22276 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 45022 term 57 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 57 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 57126 term 57 leader 1 nextIndex[2]: 325  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 326 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326}]
------------------------------------------------------
flag 45405 term 56 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
flag 89840 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
!!!!!!connect server 2
client write log 5322638721829839597 (index 327) to leader 1
flag 26364 term 57 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 57 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 56863 term 57 leader 1 nextIndex[2]: 325  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 326 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327}]
------------------------------------------------------
flag 72002 term 57 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 57 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 327 
------------------------------------------------------
flag 97139 term 57 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 57 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 327 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82574 term 57 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 57 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 327 
------------------------------------------------------
flag 77931 term 57 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 57 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 327 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16118 term 57 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 57 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 327 
------------------------------------------------------
flag 63430 term 57 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 57 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 327 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327}]
------------------------------------------------------
flag 79781 term 57 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 57 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 327 
------------------------------------------------------
flag 80984 term 57 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 57 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 327 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327}]
------------------------------------------------------
flag 2157 term 57 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 57 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 327 
------------------------------------------------------
flag 31808 term 57 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 57 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 327 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 460901338426668442 (index 328) to leader 1
flag 52674 term 57 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 57 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 327 
------------------------------------------------------
flag 64553 term 57 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 57 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 327 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327} {460901338426668442 57 328}]
------------------------------------------------------
flag 71975 term 57 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 57 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 57 leaderCommit: 328 
------------------------------------------------------
flag 95104 term 57 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 57 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 328 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327} {460901338426668442 57 328}]
------------------------------------------------------
client write log 5314514782704269480 (index 329) to leader 1
client write log 3134264852894796238 (index 330) to leader 1
client write log 5793141191322144121 (index 331) to leader 1
client write log 5517045353979759698 (index 332) to leader 1
client write log 5432039475387888495 (index 333) to leader 1
client write log 8095814431620329279 (index 334) to leader 1
client write log 2592040954591800503 (index 335) to leader 1
client write log 1548208385132377207 (index 336) to leader 1
client write log 5803399710978933289 (index 337) to leader 1
client write log 2968536790943910491 (index 338) to leader 1
client write log 4635280350234031821 (index 339) to leader 1
client write log 8775621230175452676 (index 340) to leader 1
flag 83497 term 57 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 57 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 57 leaderCommit: 328 
------------------------------------------------------
flag 60467 term 57 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 57 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 328 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 319} {4454987453136932786 54 320} {8976623293597518334 54 321} {6241035887332344953 54 322} {8580941379336699710 54 323} {8580941379336699710 56 324} {2582238755496220923 57 325} {5022932594791912877 57 326} {5322638721829839597 57 327} {460901338426668442 57 328} {5314514782704269480 57 329} {3134264852894796238 57 330} {5793141191322144121 57 331} {5517045353979759698 57 332} {5432039475387888495 57 333} {8095814431620329279 57 334} {2592040954591800503 57 335} {1548208385132377207 57 336} {5803399710978933289 57 337} {2968536790943910491 57 338} {4635280350234031821 57 339} {8775621230175452676 57 340}]
------------------------------------------------------
term 57 Server1 start snapshot! index=329
term 57 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=340
-------------------------------------------------------------
term 57 Server1 start snapshot! index=339
term 57 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91503 term 57 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 57 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 57 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 57
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340}]
------------------------------------------------------
term 57 Server0 start snapshot! index=329
term 57 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=340
-------------------------------------------------------------
term 57 Server0 start snapshot! index=339
term 57 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4541725981137801874 (index 341) to leader 1
term 57 server 1 not vote for server 2, 日志不够新
term 57 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 59 server 2 vote for server 1
term 59 server 1 get vote from server 2
term 59 server 1 become leader
------------------------------------------------------
term 59 server 0 vote for server 1
term 59 server 1 get outdate rpc reply from server 0
flag 28529 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 35252 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 59 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 342->341
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 342->341
------------------------------------------------------
flag 10748 term 59 leader 1 nextIndex[0]: 341  matchIndex[0]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 leader 1 nextIndex[2]: 328  matchIndex[2]: 0
term 59 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 57
------------------------------------------------------
term 59 server 2 InstallSnapshot success
------------------------------------------------------
term 59 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 57 rf.commitIndex 339 rf.lastApplied 339
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93177 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 34684 term 59 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 59 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
flag 72264 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 96860 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
flag 29343 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 25331 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15474 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 92879 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
flag 50218 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 37449 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
flag 95942 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 80189 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
flag 89585 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 57238 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
flag 54431 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 14159 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
term 59 server 2 not vote for server 1, 任期不够新
term 59 server 1 get outdate rpc reply from server 2
flag 19702 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 68207 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94189 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 17094 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
flag 90276 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 49208 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
flag 74595 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 20581 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
flag 48736 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 44646 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
term 59 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76346 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 63167 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
flag 2525 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 70328 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
flag 86917 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 29873 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
flag 47932 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 64622 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23255 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 41538 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341}]
------------------------------------------------------
client write log 4541725981137801874 (index 342) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48816 term 59 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
flag 957 term 59 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 57 leaderCommit: 340 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341} {4541725981137801874 59 342}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341} {4541725981137801874 59 342}]
------------------------------------------------------
flag 40248 term 59 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 59 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 59 leaderCommit: 342 
------------------------------------------------------
flag 10691 term 59 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 59 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 59 leaderCommit: 342 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341} {4541725981137801874 59 342}]
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341} {4541725981137801874 59 342}]
------------------------------------------------------
flag 92939 term 59 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 59 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 59 leaderCommit: 342 
------------------------------------------------------
flag 26302 term 59 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 59 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 59 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341} {4541725981137801874 59 342}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341} {4541725981137801874 59 342}]
------------------------------------------------------
flag 5267 term 59 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 59 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 59 leaderCommit: 342 
------------------------------------------------------
flag 62447 term 59 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 59 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 59 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
term 59 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341} {4541725981137801874 59 342}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341} {4541725981137801874 59 342}]
------------------------------------------------------
flag 43307 term 59 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 59 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 59 leaderCommit: 342 
------------------------------------------------------
flag 10595 term 59 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 59 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 59 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341} {4541725981137801874 59 342}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341} {4541725981137801874 59 342}]
------------------------------------------------------
flag 46307 term 59 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 59 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 59 leaderCommit: 342 
------------------------------------------------------
flag 70085 term 59 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 59 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 59 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341} {4541725981137801874 59 342}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341} {4541725981137801874 59 342}]
------------------------------------------------------
flag 78761 term 59 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 59 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 59 leaderCommit: 342 
------------------------------------------------------
flag 14756 term 59 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 59 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 59 leaderCommit: 342 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341} {4541725981137801874 59 342}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 57 339} {8775621230175452676 57 340} {4541725981137801874 57 341} {4541725981137801874 59 342}]
------------------------------------------------------
  ... Passed --  81.0  3 1857  792844  342
--- PASS: TestSnapshotInstall2D (81.02s)
PASS
