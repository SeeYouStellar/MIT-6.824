=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
flag 81884 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 20864 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 3098631077223946200 (index 1) to leader 1
flag 62014 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 91128 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3098631077223946200 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3098631077223946200 1 1}]
------------------------------------------------------
flag 66336 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 81231 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3098631077223946200 1 1}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3098631077223946200 1 1}]
------------------------------------------------------
flag 34860 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 88493 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3098631077223946200 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3098631077223946200 1 1}]
------------------------------------------------------
flag 25201 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 46649 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3098631077223946200 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3098631077223946200 1 1}]
------------------------------------------------------
flag 954 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 2593 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3098631077223946200 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3098631077223946200 1 1}]
------------------------------------------------------
flag 22913 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 63297 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3098631077223946200 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3098631077223946200 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3655051035263909620 (index 2) to leader 1
flag 47807 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 84379 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3098631077223946200 1 1} {3655051035263909620 1 2}]
------------------------------------------------------
flag 60573 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 46548 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3098631077223946200 1 1} {3655051035263909620 1 2}]
------------------------------------------------------
client write log 8142048648804424190 (index 3) to leader 1
client write log 8528547852988755878 (index 4) to leader 1
client write log 8242245799495384075 (index 5) to leader 1
client write log 6106662297820557072 (index 6) to leader 1
client write log 8282353039769275235 (index 7) to leader 1
client write log 4736927347383211761 (index 8) to leader 1
client write log 8922813654481030667 (index 9) to leader 1
client write log 6480742330971987026 (index 10) to leader 1
client write log 7720819041776002945 (index 11) to leader 1
client write log 1363977566297505552 (index 12) to leader 1
client write log 4790677448017925666 (index 13) to leader 1
client write log 5847024683408725573 (index 14) to leader 1
client write log 1039041640751868318 (index 15) to leader 1
client write log 3488643920206050120 (index 16) to leader 1
client write log 1213991226570980091 (index 17) to leader 1
flag 52354 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 99682 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{<nil> 0 0} {3098631077223946200 1 1} {3655051035263909620 1 2} {8142048648804424190 1 3} {8528547852988755878 1 4} {8242245799495384075 1 5} {6106662297820557072 1 6} {8282353039769275235 1 7} {4736927347383211761 1 8} {8922813654481030667 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
flag 66684 term 1 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 1 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1371428597063504466 (index 18) to leader 1
term 1 server 0 not vote for server 2, 日志不够新
term 1 server 1 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 15864 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 63166 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 19->18
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 19->18
------------------------------------------------------
flag 59037 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 9308 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 97502 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 89425 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 96201 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 68257 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 9668 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 62096 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 23195 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 9533 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 65326 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 72290 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 9658 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 41166 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 91055 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 74261 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 36987 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 36505 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 36829 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83216 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 16771 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 85341 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 38087 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 244 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 79046 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 15709 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 12059 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 62748 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 17619 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 50541 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 77151 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 37272 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 60815 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 42504 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 68640 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
flag 98146 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 40164 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18}]
------------------------------------------------------
client write log 1371428597063504466 (index 19) to leader 1
flag 31861 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 99816 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18} {1371428597063504466 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {6480742330971987026 1 10} {7720819041776002945 1 11} {1363977566297505552 1 12} {4790677448017925666 1 13} {5847024683408725573 1 14} {1039041640751868318 1 15} {3488643920206050120 1 16} {1213991226570980091 1 17} {1371428597063504466 1 18} {1371428597063504466 3 19}]
------------------------------------------------------
term 3 Server1 start snapshot! index=19
term 3 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 9487 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 50435 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 Server0 start snapshot! index=19
term 3 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 3 Server2 start snapshot! index=19
term 3 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 57110 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 1999 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 22218 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 9959 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 90747 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 88068 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 54168 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 94197 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 74999 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 33660 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89086 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 69728 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 83978 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 19770 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 63362 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 25728 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 17023 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 74195 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
client write log 2915408954658790751 (index 20) to leader 2
flag 37995 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 99150 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {2915408954658790751 4 20}]
------------------------------------------------------
flag 63319 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 27736 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 67442 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 84989 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {2915408954658790751 4 20}]
------------------------------------------------------
client write log 3130619197675614709 (index 21) to leader 2
client write log 8125399510671081845 (index 22) to leader 2
client write log 7087240965849878233 (index 23) to leader 2
client write log 3715968221179792814 (index 24) to leader 2
client write log 6913241166978113304 (index 25) to leader 2
client write log 1577103065512846028 (index 26) to leader 2
client write log 1321748985110469312 (index 27) to leader 2
client write log 2293367888881758995 (index 28) to leader 2
client write log 8757961472004034942 (index 29) to leader 2
client write log 8997664309900418124 (index 30) to leader 2
client write log 6967541007843409488 (index 31) to leader 2
client write log 556158993252248470 (index 32) to leader 2
client write log 2595624283141265859 (index 33) to leader 2
client write log 2047812781315574743 (index 34) to leader 2
client write log 7722054323967587363 (index 35) to leader 2
flag 896 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 12195 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 46754 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 17164 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 19} {2915408954658790751 4 20} {3130619197675614709 4 21} {8125399510671081845 4 22} {7087240965849878233 4 23} {3715968221179792814 4 24} {6913241166978113304 4 25} {1577103065512846028 4 26} {1321748985110469312 4 27} {2293367888881758995 4 28} {8757961472004034942 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=35
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32125 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 44117 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 73523 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=35
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4003837857807272529 (index 20) to leader 1
flag 94539 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 30917 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86594 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20464 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 85354 term 4 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
flag 72855 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 86220 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
flag 70443 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 43115 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
flag 84705 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 89705 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5988 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 91751 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12614 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 224 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19060 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 62363 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54926 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 1102 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
flag 3961 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 85102 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
flag 56427 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 16989 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66305 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 97849 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
flag 851 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 59376 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
flag 80609 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 99537 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
flag 79601 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 93265 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20286 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 54472 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
flag 11927 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 98186 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
flag 6559 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 72590 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
flag 29311 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 7708 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
flag 50819 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 93735 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35}]
------------------------------------------------------
client write log 4003837857807272529 (index 36) to leader 2
flag 96443 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 85262 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36}]
------------------------------------------------------
flag 95484 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 23619 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36}]
------------------------------------------------------
flag 91068 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 74106 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
term 4 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36}]
------------------------------------------------------
flag 62698 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 80937 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36}]
------------------------------------------------------
flag 19591 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 84991 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36}]
------------------------------------------------------
flag 9831 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 21022 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 7776925570854199896 (index 37) to leader 2
flag 99905 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 36435 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36} {7776925570854199896 4 37}]
------------------------------------------------------
flag 33381 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 42916 term 4 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36} {7776925570854199896 4 37}]
------------------------------------------------------
client write log 2034875503796912026 (index 38) to leader 2
client write log 3336290078520153689 (index 39) to leader 2
client write log 2527220592044084660 (index 40) to leader 2
client write log 233275134571601648 (index 41) to leader 2
client write log 849820975520783783 (index 42) to leader 2
client write log 4850403512587548995 (index 43) to leader 2
client write log 4989446978914603285 (index 44) to leader 2
client write log 8034200745732594266 (index 45) to leader 2
client write log 257319714683386621 (index 46) to leader 2
client write log 7661092090691492735 (index 47) to leader 2
client write log 2756230485256545564 (index 48) to leader 2
client write log 8125028641220807764 (index 49) to leader 2
client write log 3790554981355261077 (index 50) to leader 2
flag 44025 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 82313 term 4 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 29} {8997664309900418124 4 30} {6967541007843409488 4 31} {556158993252248470 4 32} {2595624283141265859 4 33} {2047812781315574743 4 34} {7722054323967587363 4 35} {4003837857807272529 4 36} {7776925570854199896 4 37} {2034875503796912026 4 38} {3336290078520153689 4 39} {2527220592044084660 4 40} {233275134571601648 4 41} {849820975520783783 4 42} {4850403512587548995 4 43} {4989446978914603285 4 44} {8034200745732594266 4 45} {257319714683386621 4 46} {7661092090691492735 4 47} {2756230485256545564 4 48} {8125028641220807764 4 49} {3790554981355261077 4 50}]
------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=50
-------------------------------------------------------------
term 4 Server2 start snapshot! index=49
term 4 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=50
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 4
------------------------------------------------------
flag 58148 term 4 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 4 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50}]
------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=50
-------------------------------------------------------------
term 4 Server1 start snapshot! index=49
term 4 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=50
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7288478393039747844 (index 51) to leader 2
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 1 not vote for server 0, 日志不够新
term 6 server 1 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 0 vote for server 2
term 6 server 2 get outdate rpc reply from server 0
flag 43594 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 47744 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 52->51
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 52->51
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 4
------------------------------------------------------
flag 4008 term 6 leader 2 nextIndex[1]: 51  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 4 rf.commitIndex 49 rf.lastApplied 49
flag 86695 term 6 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 6 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 16891 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90640 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 42617 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
flag 30828 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 54249 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
flag 93902 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 15885 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
flag 88985 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 91050 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
flag 71486 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 56589 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
flag 51359 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 40924 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
flag 91289 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 52726 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51727 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 1282 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
flag 25707 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 49715 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
flag 39974 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 5790 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17343 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 43398 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56034 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 47549 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88461 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 99014 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
flag 43620 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 66657 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
flag 46438 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 40554 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
flag 85817 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 41165 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
flag 23012 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 45041 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51}]
------------------------------------------------------
client write log 7288478393039747844 (index 52) to leader 2
flag 99585 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 94051 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43042 term 6 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 52780 term 6 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52}]
------------------------------------------------------
flag 17434 term 6 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 84512 term 6 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52}]
------------------------------------------------------
flag 4985 term 6 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 91898 term 6 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52}]
------------------------------------------------------
flag 68591 term 6 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 59770 term 6 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56936 term 6 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 47711 term 6 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52}]
------------------------------------------------------
flag 30658 term 6 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 7972 term 6 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2829180528811771940 (index 53) to leader 2
flag 44336 term 6 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 68666 term 6 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52} {2829180528811771940 6 53}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20518 term 6 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 21775 term 6 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 6 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52} {2829180528811771940 6 53}]
------------------------------------------------------
client write log 5569533627457507854 (index 54) to leader 2
client write log 6412765125285747750 (index 55) to leader 2
client write log 3029953471869627030 (index 56) to leader 2
client write log 6850178936621355810 (index 57) to leader 2
client write log 2926164331998616395 (index 58) to leader 2
client write log 5357182928949749604 (index 59) to leader 2
client write log 7080601417604339737 (index 60) to leader 2
client write log 8300670084717645619 (index 61) to leader 2
client write log 5328966268955952423 (index 62) to leader 2
client write log 5529341060251687498 (index 63) to leader 2
client write log 6689692942095464409 (index 64) to leader 2
client write log 8087675201459504776 (index 65) to leader 2
flag 68264 term 6 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 31536 term 6 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 6 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 4 49} {3790554981355261077 4 50} {7288478393039747844 4 51} {7288478393039747844 6 52} {2829180528811771940 6 53} {5569533627457507854 6 54} {6412765125285747750 6 55} {3029953471869627030 6 56} {6850178936621355810 6 57} {2926164331998616395 6 58} {5357182928949749604 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65}]
------------------------------------------------------
term 6 Server2 start snapshot! index=59
term 6 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=65
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 10297 term 6 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 6 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65}]
------------------------------------------------------
term 6 Server1 start snapshot! index=59
term 6 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=65
-------------------------------------------------------------
!!!!!!connect server 0
client write log 828473761310293171 (index 66) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 53->52
------------------------------------------------------
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 34150 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 19793 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 67->66
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 67->66
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 55502 term 8 leader 2 nextIndex[1]: 66  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 6 rf.commitIndex 59 rf.lastApplied 59
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84480 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 47418 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
flag 71965 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 30296 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94214 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 36831 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
flag 96649 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 61229 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
flag 11113 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 84028 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48904 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 27373 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
flag 11466 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 17104 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
flag 30327 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 37246 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
flag 6033 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 23772 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
flag 72280 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 34768 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
flag 78048 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 9374 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
flag 18900 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 50053 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
flag 2088 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 47524 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98186 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 52211 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42007 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 77967 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
flag 12876 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 87368 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
flag 68838 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 26887 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
flag 24616 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 29058 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66}]
------------------------------------------------------
client write log 828473761310293171 (index 67) to leader 2
flag 68756 term 8 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 44504 term 8 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 8 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:65 
term 8 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
flag 74653 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 4572 term 8 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
flag 59046 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 52131 term 8 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
flag 22001 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 37937 term 8 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
flag 92253 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 87238 term 8 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
flag 37988 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 18763 term 8 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
flag 21588 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 29747 term 8 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 39844 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 15351 term 8 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 65993 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 35417 term 8 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 1511 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 42803 term 8 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 26531 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 55728 term 8 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
term 9 server 1 vote for server 0
term 9 server 0 get vote from server 1
term 9 server 0 become leader
------------------------------------------------------
flag 15895 term 9 leader 0 nextIndex[1]: 68  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 85059 term 9 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67}]
------------------------------------------------------
client write log 2464124621852753941 (index 68) to leader 0
flag 19775 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 45438 term 8 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 68->67
------------------------------------------------------
flag 32780 term 9 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 9 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
flag 96134 term 9 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67} {2464124621852753941 9 68}]
------------------------------------------------------
flag 37625 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 67
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 59346 term 9 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 9 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 58652 term 9 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 68 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67} {2464124621852753941 9 68}]
------------------------------------------------------
client write log 2171685456113140810 (index 69) to leader 0
client write log 3595510949119858377 (index 70) to leader 0
client write log 3388331301840131142 (index 71) to leader 0
client write log 4084697350097492975 (index 72) to leader 0
client write log 8333782922391500306 (index 73) to leader 0
client write log 8884520474927590387 (index 74) to leader 0
client write log 3256637941853738040 (index 75) to leader 0
client write log 5041023948453806193 (index 76) to leader 0
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 70569 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 67
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 30524 term 9 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 9 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 97931 term 9 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 68 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 6 59} {7080601417604339737 6 60} {8300670084717645619 6 61} {5328966268955952423 6 62} {5529341060251687498 6 63} {6689692942095464409 6 64} {8087675201459504776 6 65} {828473761310293171 6 66} {828473761310293171 8 67} {2464124621852753941 9 68} {2171685456113140810 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
term 9 Server0 start snapshot! index=69
term 9 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=76
-------------------------------------------------------------
flag 43355 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 67
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 86905 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
term 9 Server1 start snapshot! index=69
term 9 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=76
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4038275540037589526 (index 68) to leader 2
flag 22151 term 8 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 8 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 8 leaderCommit: 67 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 67
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86255 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 9 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 70->69
------------------------------------------------------
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 0 not vote for server 2, 日志不够新
term 10 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 2 vote for server 0
term 11 server 1 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 0 get outdate rpc reply from server 1
flag 82651 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 14020 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 77->76
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79205 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 65784 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
term 11 server 2 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 2
flag 93647 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 36175 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
flag 35203 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 72441 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91511 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 7328 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
flag 97753 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 91417 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35963 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 94661 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
flag 29826 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 99513 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
flag 41345 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 70182 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
flag 31575 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 74861 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
flag 73840 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 84357 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
flag 38136 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 27190 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
flag 34403 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 87374 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74269 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 21089 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
flag 79572 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 80221 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
flag 17460 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 30274 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
flag 68499 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 42129 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
flag 97654 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 60346 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76}]
------------------------------------------------------
client write log 4038275540037589526 (index 77) to leader 0
flag 4465 term 11 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 65199 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14165 term 11 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 54893 term 11 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77}]
------------------------------------------------------
flag 21646 term 11 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 33698 term 11 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77}]
------------------------------------------------------
flag 81159 term 11 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 36974 term 11 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77}]
------------------------------------------------------
flag 79470 term 11 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 61309 term 11 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77}]
------------------------------------------------------
flag 39859 term 11 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 25132 term 11 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77}]
------------------------------------------------------
flag 90944 term 11 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 53168 term 11 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2849907743325240207 (index 78) to leader 0
flag 68140 term 11 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 72488 term 11 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77} {2849907743325240207 11 78}]
------------------------------------------------------
flag 79212 term 11 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 97978 term 11 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 11 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77} {2849907743325240207 11 78}]
------------------------------------------------------
client write log 6502823414570437790 (index 79) to leader 0
client write log 6075021228173120907 (index 80) to leader 0
client write log 2435808835662497974 (index 81) to leader 0
client write log 3553272334650394307 (index 82) to leader 0
client write log 1155556880300039299 (index 83) to leader 0
client write log 8122168333621859103 (index 84) to leader 0
client write log 2886879245589732891 (index 85) to leader 0
client write log 894116402601684230 (index 86) to leader 0
flag 69463 term 11 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 11 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 27256 term 11 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 11 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 9 69} {3595510949119858377 9 70} {3388331301840131142 9 71} {4084697350097492975 9 72} {8333782922391500306 9 73} {8884520474927590387 9 74} {3256637941853738040 9 75} {5041023948453806193 9 76} {4038275540037589526 11 77} {2849907743325240207 11 78} {6502823414570437790 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86}]
------------------------------------------------------
term 11 Server0 start snapshot! index=79
term 11 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=86
-------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 46826 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86}]
------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=86
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2169480972422224404 (index 87) to leader 0
term 11 server 2 not vote for server 1, 日志不够新
term 11 server 0 not vote for server 1, 日志不够新
term 13 server 2 vote for server 0
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 1
flag 23895 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 84477 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 88->87
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 88->87
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 84298 term 13 leader 0 nextIndex[2]: 87  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
flag 69669 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 48222 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
flag 82783 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 31886 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
flag 34189 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 50184 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42838 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 4803 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26914 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 97459 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
flag 26103 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 8813 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34619 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 94925 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
flag 56 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 76643 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
flag 81180 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 90350 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
flag 68885 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 35347 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
flag 20057 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 85374 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81324 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 47722 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
flag 65944 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 60769 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18272 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 73739 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
flag 1596 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 86827 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
flag 85447 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 87030 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
update nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
flag 69817 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 31276 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
flag 16253 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 11305 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87}]
------------------------------------------------------
client write log 2169480972422224404 (index 88) to leader 0
flag 68328 term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 55704 term 13 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 13 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87} {2169480972422224404 13 88}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87} {2169480972422224404 13 88}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50569 term 13 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 54731 term 13 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87} {2169480972422224404 13 88}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87} {2169480972422224404 13 88}]
------------------------------------------------------
flag 62288 term 13 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 71600 term 13 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87} {2169480972422224404 13 88}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87} {2169480972422224404 13 88}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86812 term 13 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 95937 term 13 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87} {2169480972422224404 13 88}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87} {2169480972422224404 13 88}]
------------------------------------------------------
flag 31244 term 13 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 12079 term 13 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87} {2169480972422224404 13 88}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87} {2169480972422224404 13 88}]
------------------------------------------------------
flag 81338 term 13 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 27937 term 13 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87} {2169480972422224404 13 88}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87} {2169480972422224404 13 88}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1015629903461671385 (index 89) to leader 0
flag 93187 term 13 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 84871 term 13 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 79} {6075021228173120907 11 80} {2435808835662497974 11 81} {3553272334650394307 11 82} {1155556880300039299 11 83} {8122168333621859103 11 84} {2886879245589732891 11 85} {894116402601684230 11 86} {2169480972422224404 11 87} {2169480972422224404 13 88} {1015629903461671385 13 89}]
------------------------------------------------------
term 13 Server0 start snapshot! index=89
term 13 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 13 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 66766 term 13 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 13 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 13 89}]
------------------------------------------------------
term 13 Server2 start snapshot! index=89
term 13 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
client write log 4581840683062107575 (index 90) to leader 0
client write log 1100938467003528342 (index 91) to leader 0
client write log 2119840467192031062 (index 92) to leader 0
client write log 6296325870616361914 (index 93) to leader 0
client write log 139494769324975567 (index 94) to leader 0
client write log 6733483879422919637 (index 95) to leader 0
client write log 7713859488380221739 (index 96) to leader 0
client write log 7651574566511973245 (index 97) to leader 0
client write log 2077608972679974957 (index 98) to leader 0
term 13 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 91592 term 13 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 13 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98}]
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 53462 term 13 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 13 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4330430667675668141 (index 99) to leader 0
term 13 server 2 not vote for server 1, 日志不够新
term 13 server 0 not vote for server 1, 日志不够新
term 15 server 1 vote for server 0
term 15 server 2 vote for server 0
term 15 server 0 get vote from server 1
term 15 server 0 become leader
------------------------------------------------------
term 15 server 0 get outdate rpc reply from server 2
flag 75536 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 46661 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 15 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 100->99
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 100->99
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 89  matchIndex[1]: 0
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 17004 term 15 leader 0 nextIndex[2]: 99  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 server 1 InstallSnapshot success
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 13 rf.commitIndex 89 rf.lastApplied 89
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58433 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 85007 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
flag 94566 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 67374 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
flag 36561 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 9810 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
flag 8954 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 94324 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
flag 32671 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 50215 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9345 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 50923 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70915 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 11777 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
flag 52855 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 21401 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
flag 88795 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 79976 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
flag 11947 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 80969 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
flag 47460 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 15824 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
flag 81243 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 83944 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
flag 11078 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 57214 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75327 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 41115 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26995 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 87125 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
flag 97207 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 28545 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
flag 67175 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 19745 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
flag 90641 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 49044 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99}]
------------------------------------------------------
client write log 4330430667675668141 (index 100) to leader 0
flag 41053 term 15 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 96475 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99} {4330430667675668141 15 100}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 13 89} {4581840683062107575 13 90} {1100938467003528342 13 91} {2119840467192031062 13 92} {6296325870616361914 13 93} {139494769324975567 13 94} {6733483879422919637 13 95} {7713859488380221739 13 96} {7651574566511973245 13 97} {2077608972679974957 13 98} {4330430667675668141 13 99} {4330430667675668141 15 100}]
------------------------------------------------------
term 15 Server0 start snapshot! index=99
term 15 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52014 term 15 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 42492 term 15 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 13 99} {4330430667675668141 15 100}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 13 99} {4330430667675668141 15 100}]
------------------------------------------------------
term 15 Server1 start snapshot! index=99
term 15 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
term 15 Server2 start snapshot! index=99
term 15 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
flag 9899 term 15 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 81045 term 15 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 13 99} {4330430667675668141 15 100}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 13 99} {4330430667675668141 15 100}]
------------------------------------------------------
flag 36183 term 15 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 8344 term 15 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 13 99} {4330430667675668141 15 100}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 13 99} {4330430667675668141 15 100}]
------------------------------------------------------
flag 31781 term 15 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 93548 term 15 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 13 99} {4330430667675668141 15 100}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 13 99} {4330430667675668141 15 100}]
------------------------------------------------------
flag 9051 term 15 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 81776 term 15 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 13 99} {4330430667675668141 15 100}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 13 99} {4330430667675668141 15 100}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 66903 term 15 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 52164 term 15 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 94058 term 15 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 57992 term 15 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 58994 term 15 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 83609 term 15 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 29235 term 15 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 49633 term 15 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
flag 90709 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 91609 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 13 99} {4330430667675668141 15 100}]
------------------------------------------------------
client write log 1470089341419579925 (index 101) to leader 1
flag 1664 term 15 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 58102 term 15 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 98191 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 69112 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {4330430667675668141 15 100} {1470089341419579925 16 101}]
------------------------------------------------------
flag 7842 term 15 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 6669 term 15 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 15863 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 6934 term 16 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 16 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 99} {4330430667675668141 15 100} {1470089341419579925 16 101}]
------------------------------------------------------
client write log 7869914850181647139 (index 102) to leader 1
client write log 4408306680664775560 (index 103) to leader 1
client write log 405506067025834952 (index 104) to leader 1
client write log 6228637132830338606 (index 105) to leader 1
client write log 3243340031581645197 (index 106) to leader 1
client write log 5642770085527756501 (index 107) to leader 1
client write log 4590875981076477624 (index 108) to leader 1
client write log 2858513311514846133 (index 109) to leader 1
flag 94884 term 15 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 47895 term 15 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 34800 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 65457 term 16 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 16 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 13 99} {4330430667675668141 15 100} {1470089341419579925 16 101} {7869914850181647139 16 102} {4408306680664775560 16 103} {405506067025834952 16 104} {6228637132830338606 16 105} {3243340031581645197 16 106} {5642770085527756501 16 107} {4590875981076477624 16 108} {2858513311514846133 16 109}]
------------------------------------------------------
term 16 Server1 start snapshot! index=109
term 16 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 101->100
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 0  matchIndex[1]: 100
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 13
------------------------------------------------------
flag 15101 term 15 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 15 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 101->100
------------------------------------------------------
term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 20993 term 16 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 16 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 109}]
------------------------------------------------------
term 16 Server2 start snapshot! index=109
term 16 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3430301737250033118 (index 110) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 101->100
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 0  matchIndex[1]: 100
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 13
------------------------------------------------------
term 15 leader 0 nextIndex[2]: 0  matchIndex[2]: 100
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 14074 term 16 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 16 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3430301737250033118 16 110}]
------------------------------------------------------
term 16 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 16 rf.commitIndex 109 rf.lastApplied 109
term 16 server 1 not vote for server 0, 日志不够新
term 16 server 2 not vote for server 0, 日志不够新
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 0 vote for server 1
term 18 server 1 get outdate rpc reply from server 0
flag 37272 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 23498 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3430301737250033118 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 111->110
------------------------------------------------------
flag 38605 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 9316 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3430301737250033118 16 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3430301737250033118 16 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38147 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 77458 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3430301737250033118 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3430301737250033118 16 110}]
------------------------------------------------------
flag 40638 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 97638 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3430301737250033118 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3430301737250033118 16 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36386 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 81705 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3430301737250033118 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3430301737250033118 16 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16311 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 9670 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3430301737250033118 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3430301737250033118 16 110}]
------------------------------------------------------
flag 34184 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 51728 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3430301737250033118 16 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3430301737250033118 16 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6380512643991792664 (index 111) to leader 1
flag 38843 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 88435 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25572 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 9945 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 111 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111}]
------------------------------------------------------
client write log 4640634571989801112 (index 112) to leader 1
client write log 2950982261083958504 (index 113) to leader 1
client write log 8387078619476073543 (index 114) to leader 1
client write log 6216645736326756045 (index 115) to leader 1
client write log 2341925283405579610 (index 116) to leader 1
client write log 2285538973035766539 (index 117) to leader 1
client write log 3248640755757131877 (index 118) to leader 1
flag 18382 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 4002 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 111 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118}]
------------------------------------------------------
flag 43102 term 18 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 69123 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 118 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5087918850763710577 (index 119) to leader 1
flag 74416 term 18 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 7317 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 1 not vote for server 2, 日志不够新
term 18 server 0 not vote for server 2, 日志不够新
term 21 server 2 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 0 vote for server 1
term 21 server 1 get outdate rpc reply from server 0
flag 76416 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 41573 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 120->119
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54001 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 11268 term 21 leader 1 nextIndex[2]: 111  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74344 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 77944 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94503 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 59509 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
flag 22867 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 46088 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44871 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 75321 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22190 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 21562 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30108 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 92074 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
flag 24023 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 94081 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
flag 39388 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 68913 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
flag 71382 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 67353 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
flag 68968 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 85238 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94648 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 52693 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
flag 70810 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 87105 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
flag 64918 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 51626 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
flag 45473 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 12713 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119}]
------------------------------------------------------
client write log 5087918850763710577 (index 120) to leader 1
flag 3696 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 7912 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119} {5087918850763710577 21 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 109} {3430301737250033118 16 110} {6380512643991792664 18 111} {4640634571989801112 18 112} {2950982261083958504 18 113} {8387078619476073543 18 114} {6216645736326756045 18 115} {2341925283405579610 18 116} {2285538973035766539 18 117} {3248640755757131877 18 118} {5087918850763710577 18 119} {5087918850763710577 21 120}]
------------------------------------------------------
term 21 Server1 start snapshot! index=119
term 21 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
flag 6832 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 27703 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {5087918850763710577 21 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {5087918850763710577 21 120}]
------------------------------------------------------
term 21 Server0 start snapshot! index=119
term 21 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
flag 62275 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 50434 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {5087918850763710577 21 120}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {5087918850763710577 21 120}]
------------------------------------------------------
flag 26097 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 9740 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {5087918850763710577 21 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {5087918850763710577 21 120}]
------------------------------------------------------
flag 20796 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 20107 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {5087918850763710577 21 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {5087918850763710577 21 120}]
------------------------------------------------------
flag 54258 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 89216 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {5087918850763710577 21 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {5087918850763710577 21 120}]
------------------------------------------------------
term 21 server 0 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 0
!!!!!!diconnect server 2
client write log 2761719372232069673 (index 121) to leader 1
flag 38346 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 66279 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {5087918850763710577 21 120} {2761719372232069673 21 121}]
------------------------------------------------------
flag 51930 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 5115 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {5087918850763710577 21 120} {2761719372232069673 21 121}]
------------------------------------------------------
client write log 5533860494129653462 (index 122) to leader 1
client write log 177145928266665239 (index 123) to leader 1
client write log 2631693818323965855 (index 124) to leader 1
client write log 1887667274542082321 (index 125) to leader 1
client write log 5605488104724226466 (index 126) to leader 1
client write log 816698925653668461 (index 127) to leader 1
client write log 4567278519108011527 (index 128) to leader 1
client write log 8128349840912940777 (index 129) to leader 1
client write log 2710350309148451280 (index 130) to leader 1
client write log 5111179500352246532 (index 131) to leader 1
client write log 7809230867909219540 (index 132) to leader 1
flag 28199 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 14947 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 119} {5087918850763710577 21 120} {2761719372232069673 21 121} {5533860494129653462 21 122} {177145928266665239 21 123} {2631693818323965855 21 124} {1887667274542082321 21 125} {5605488104724226466 21 126} {816698925653668461 21 127} {4567278519108011527 21 128} {8128349840912940777 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=132
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58712 term 21 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132}]
------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=132
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6844468990844594155 (index 133) to leader 1
flag 1410 term 21 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 22 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 vote for server 1
term 23 server 0 vote for server 1
term 23 server 1 get vote from server 2
term 23 server 1 become leader
------------------------------------------------------
term 23 server 1 get outdate rpc reply from server 0
flag 99762 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 70020 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 134->133
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
flag 88210 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 121  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
flag 43669 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 55229 term 23 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
flag 61965 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 23193 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
flag 23886 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 91345 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
flag 82241 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 59345 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66479 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 91970 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
flag 15692 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 43577 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83449 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 81330 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60935 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 97589 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
flag 83760 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 32003 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97789 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 76342 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9345 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 13518 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
flag 71906 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 11951 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
flag 91282 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 48109 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40694 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 19064 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
term 23 server 1 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 1
flag 85247 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 13876 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
flag 59862 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 43138 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
update nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
flag 40904 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 25938 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133}]
------------------------------------------------------
client write log 6844468990844594155 (index 134) to leader 1
flag 31940 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 40437 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
flag 51621 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 70123 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
flag 62411 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 44586 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
term 23 server 0 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 0
flag 66971 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 28877 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
flag 73171 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 29783 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
flag 87319 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 18886 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
flag 8961 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 36887 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 5109 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 79333 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 73573 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 17154 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 90939 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 72900 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 60532 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 72550 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 24 server 0 vote for server 2
term 24 server 2 get vote from server 0
term 24 server 2 become leader
------------------------------------------------------
flag 72632 term 24 leader 2 nextIndex[0]: 135  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 6160 term 24 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 135->134
------------------------------------------------------
client write log 1350754599611605489 (index 135) to leader 2
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 134
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 933 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 15819 term 24 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 24 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 48564 term 24 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134} {1350754599611605489 24 135}]
------------------------------------------------------
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 134
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 26643 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 32724 term 24 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 24 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 135 
------------------------------------------------------
flag 68000 term 24 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134} {1350754599611605489 24 135}]
------------------------------------------------------
client write log 157298142405634247 (index 136) to leader 2
client write log 6334598159824356924 (index 137) to leader 2
client write log 3281422138296002477 (index 138) to leader 2
client write log 4103469153035798024 (index 139) to leader 2
client write log 7226333606492878088 (index 140) to leader 2
client write log 2534519336627154782 (index 141) to leader 2
client write log 5005952339881985025 (index 142) to leader 2
client write log 1491294259209425652 (index 143) to leader 2
client write log 749106494345849742 (index 144) to leader 2
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 134
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 37245 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 38960 term 24 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 24 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 135 
------------------------------------------------------
flag 18332 term 24 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 129} {2710350309148451280 21 130} {5111179500352246532 21 131} {7809230867909219540 21 132} {6844468990844594155 21 133} {6844468990844594155 23 134} {1350754599611605489 24 135} {157298142405634247 24 136} {6334598159824356924 24 137} {3281422138296002477 24 138} {4103469153035798024 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 Server2 start snapshot! index=139
term 24 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=144
-------------------------------------------------------------
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 134
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 60783 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 33433 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 Server0 start snapshot! index=139
term 24 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=144
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8585261811770303603 (index 135) to leader 1
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 134
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 96235 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
term 24 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83940 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 24 rf.commitIndex 139 rf.lastApplied 139
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
flag 38438 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 66373 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
flag 60812 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 73214 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51529 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 52557 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
flag 73831 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 13434 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60013 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 87044 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
flag 65123 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 39877 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70962 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 74725 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26177 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 71731 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
flag 47295 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 10693 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16821 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 19595 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11484 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 89052 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
flag 36311 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 38069 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
flag 13365 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 12815 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
flag 8570 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 65938 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
flag 3697 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 35095 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 server 0 not vote for server 2, 任期不够新
term 24 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57491 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 50053 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
flag 23541 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 38637 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
flag 95306 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 44600 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
flag 16264 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 97004 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144}]
------------------------------------------------------
client write log 8585261811770303603 (index 145) to leader 2
flag 39675 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 69305 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145}]
------------------------------------------------------
flag 91794 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 3405 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145}]
------------------------------------------------------
term 24 server 1 not vote for server 2, 日志不够新
term 24 server 2 get outdate rpc reply from server 1
flag 9683 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 59784 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145}]
------------------------------------------------------
flag 39459 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 86619 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145}]
------------------------------------------------------
term 24 server 1 not vote for server 2, 任期不够新
term 24 server 2 get outdate rpc reply from server 1
flag 7490 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 54391 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145}]
------------------------------------------------------
flag 42778 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 91292 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 291899586388193274 (index 146) to leader 2
flag 45843 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 4853 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145} {291899586388193274 24 146}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9197 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 36953 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145} {291899586388193274 24 146}]
------------------------------------------------------
client write log 2567790769936610423 (index 147) to leader 2
client write log 1007573432127087825 (index 148) to leader 2
client write log 7497766892387713574 (index 149) to leader 2
client write log 582488292512406339 (index 150) to leader 2
client write log 4801994597882529415 (index 151) to leader 2
client write log 6311172719671135958 (index 152) to leader 2
client write log 7281875770438211291 (index 153) to leader 2
client write log 431805752752202229 (index 154) to leader 2
client write log 2775574539187619905 (index 155) to leader 2
client write log 8936543162733775623 (index 156) to leader 2
client write log 2219952913205747755 (index 157) to leader 2
client write log 1148458834727089861 (index 158) to leader 2
client write log 1080428834819800161 (index 159) to leader 2
client write log 3437020294520715123 (index 160) to leader 2
flag 93400 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 88426 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 139} {7226333606492878088 24 140} {2534519336627154782 24 141} {5005952339881985025 24 142} {1491294259209425652 24 143} {749106494345849742 24 144} {8585261811770303603 24 145} {291899586388193274 24 146} {2567790769936610423 24 147} {1007573432127087825 24 148} {7497766892387713574 24 149} {582488292512406339 24 150} {4801994597882529415 24 151} {6311172719671135958 24 152} {7281875770438211291 24 153} {431805752752202229 24 154} {2775574539187619905 24 155} {8936543162733775623 24 156} {2219952913205747755 24 157} {1148458834727089861 24 158} {1080428834819800161 24 159} {3437020294520715123 24 160}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=160
-------------------------------------------------------------
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 96740 term 24 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 24 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=160
-------------------------------------------------------------
term 24 Server1 start snapshot! index=159
term 24 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 161->160
------------------------------------------------------
!!!!!!connect server 0
client write log 1849448679128053261 (index 161) to leader 2
term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 160
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 160 args.LastIncludedIndex 159
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
term 25 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 1 vote for server 2
term 26 server 0 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
term 26 server 2 get outdate rpc reply from server 0
flag 94796 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 83221 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 162->161
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 162->161
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 146  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 99179 term 26 leader 2 nextIndex[1]: 161  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
flag 71699 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 28238 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 14798 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
flag 91306 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 40624 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
flag 25992 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 73140 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
flag 34087 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 28399 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
flag 6291 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 88062 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95980 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 93728 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 2 not vote for server 0, 任期不够新
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 2
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
flag 11177 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 60843 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
term 26 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70050 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 84104 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
flag 44303 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 9614 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
term 26 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97110 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 79596 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63404 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 73281 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
flag 72267 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 89274 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
flag 13322 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 25797 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46432 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 84199 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
flag 86764 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 70072 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
flag 86002 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 41702 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161}]
------------------------------------------------------
client write log 1849448679128053261 (index 162) to leader 2
flag 40440 term 26 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 10466 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162}]
------------------------------------------------------
flag 30240 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 1216 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162}]
------------------------------------------------------
flag 82341 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 16819 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162}]
------------------------------------------------------
flag 81018 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 1502 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162}]
------------------------------------------------------
flag 82496 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 29099 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162}]
------------------------------------------------------
flag 67558 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 92542 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4853692316101401497 (index 163) to leader 2
flag 33700 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 65329 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162} {4853692316101401497 26 163}]
------------------------------------------------------
flag 39708 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
flag 24134 term 26 leader 2 nextIndex[1]: 164  matchIndex[1]: 163
term 26 leader 2 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162} {4853692316101401497 26 163}]
------------------------------------------------------
client write log 6977945128441242300 (index 164) to leader 2
client write log 2726107369354532914 (index 165) to leader 2
client write log 3751082110694553911 (index 166) to leader 2
client write log 6415921297549793641 (index 167) to leader 2
client write log 5983176923843463966 (index 168) to leader 2
client write log 4345849588172911865 (index 169) to leader 2
client write log 4335997526185052933 (index 170) to leader 2
client write log 3304251725276843386 (index 171) to leader 2
client write log 4128332110258957036 (index 172) to leader 2
client write log 5577659759810350109 (index 173) to leader 2
client write log 164782175775094870 (index 174) to leader 2
client write log 6865828732487281523 (index 175) to leader 2
client write log 309718648990767534 (index 176) to leader 2
flag 83389 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
flag 71415 term 26 leader 2 nextIndex[1]: 164  matchIndex[1]: 163
term 26 leader 2 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 24 159} {3437020294520715123 24 160} {1849448679128053261 24 161} {1849448679128053261 26 162} {4853692316101401497 26 163} {6977945128441242300 26 164} {2726107369354532914 26 165} {3751082110694553911 26 166} {6415921297549793641 26 167} {5983176923843463966 26 168} {4345849588172911865 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176}]
------------------------------------------------------
term 26 Server2 start snapshot! index=169
term 26 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=176
-------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 96454 term 26 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 26 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176}]
------------------------------------------------------
term 26 Server1 start snapshot! index=169
term 26 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=176
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1848717372894273028 (index 177) to leader 2
term 26 server 2 not vote for server 0, 日志不够新
term 26 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get outdate rpc reply from server 0
flag 16666 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 14720 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 178->177
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 178->177
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 163  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 49247 term 28 leader 2 nextIndex[1]: 177  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 26 rf.commitIndex 169 rf.lastApplied 169
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31092 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 3095 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
term 28 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9960 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 84837 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
flag 15518 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 27147 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
flag 35070 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 54063 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
flag 33352 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 50253 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
term 28 server 1 not vote for server 0, 任期不够新
term 28 server 0 get outdate rpc reply from server 1
flag 82668 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 38729 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
flag 91996 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 57970 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
flag 38656 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 96061 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83358 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 38659 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
flag 59887 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 86856 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
flag 61683 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 64591 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
flag 20326 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 63062 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
flag 96390 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 29137 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
flag 35712 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 21241 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
flag 22068 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 90034 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
flag 26150 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 35127 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
flag 13999 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 10741 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29981 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 9177 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177}]
------------------------------------------------------
client write log 1848717372894273028 (index 178) to leader 2
flag 67627 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
flag 85133 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177} {1848717372894273028 28 178}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177} {1848717372894273028 28 178}]
------------------------------------------------------
flag 43652 term 28 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 82284 term 28 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177} {1848717372894273028 28 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177} {1848717372894273028 28 178}]
------------------------------------------------------
flag 75811 term 28 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 7055 term 28 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177} {1848717372894273028 28 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177} {1848717372894273028 28 178}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2592 term 28 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 56494 term 28 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177} {1848717372894273028 28 178}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177} {1848717372894273028 28 178}]
------------------------------------------------------
flag 91637 term 28 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 35093 term 28 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177} {1848717372894273028 28 178}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177} {1848717372894273028 28 178}]
------------------------------------------------------
flag 72582 term 28 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 84716 term 28 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177} {1848717372894273028 28 178}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177} {1848717372894273028 28 178}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 35803 term 28 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 45187 term 28 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 70019 term 28 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 14825 term 28 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 56246 term 28 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 60325 term 28 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 1 vote for server 0
term 29 server 0 get vote from server 1
term 29 server 0 become leader
------------------------------------------------------
flag 62661 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 38245 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177} {1848717372894273028 28 178}]
------------------------------------------------------
client write log 4686705034540900738 (index 179) to leader 0
flag 8753 term 28 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 97905 term 28 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 44762 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 42890 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 26 169} {4335997526185052933 26 170} {3304251725276843386 26 171} {4128332110258957036 26 172} {5577659759810350109 26 173} {164782175775094870 26 174} {6865828732487281523 26 175} {309718648990767534 26 176} {1848717372894273028 26 177} {1848717372894273028 28 178} {4686705034540900738 29 179}]
------------------------------------------------------
term 29 Server0 start snapshot! index=179
term 29 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 77576 term 28 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 81023 term 28 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 179->178
------------------------------------------------------
flag 69543 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 79281 term 28 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 178
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
client write log 6522432627296275796 (index 180) to leader 0
client write log 4099694877575783123 (index 181) to leader 0
client write log 1990706266493179875 (index 182) to leader 0
client write log 4039579446795262525 (index 183) to leader 0
client write log 3559312312166180632 (index 184) to leader 0
client write log 8848409353447941951 (index 185) to leader 0
client write log 4646548148452388283 (index 186) to leader 0
client write log 1569572736608525699 (index 187) to leader 0
client write log 8067864560559672309 (index 188) to leader 0
client write log 8987320933322062850 (index 189) to leader 0
client write log 2904698989815282507 (index 190) to leader 0
client write log 3406623623782923893 (index 191) to leader 0
client write log 4819076924374192920 (index 192) to leader 0
flag 24533 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 179} {6522432627296275796 29 180} {4099694877575783123 29 181} {1990706266493179875 29 182} {4039579446795262525 29 183} {3559312312166180632 29 184} {8848409353447941951 29 185} {4646548148452388283 29 186} {1569572736608525699 29 187} {8067864560559672309 29 188} {8987320933322062850 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=192
-------------------------------------------------------------
flag 27118 term 28 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 178
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 38814 term 29 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 29 Server1 start snapshot! index=189
term 29 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=192
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5528494806175368387 (index 179) to leader 2
flag 22405 term 28 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 178
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 0 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74435 term 29 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 2 InstallSnapshot success
------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 29 rf.commitIndex 189 rf.lastApplied 189
term 29 server 1 not vote for server 2, 日志不够新
term 29 server 0 not vote for server 2, 日志不够新
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
term 31 server 1 vote for server 0
term 31 server 0 get outdate rpc reply from server 1
flag 91556 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 25171 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 193->192
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
flag 9787 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 23487 term 31 leader 0 nextIndex[2]: 190  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85024 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 29576 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57484 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 56814 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
flag 6743 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 36182 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
flag 97981 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 44244 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
flag 18175 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 26021 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
flag 50844 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 1108 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
flag 83434 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 86152 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5645 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 51153 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
flag 19307 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 24073 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
flag 43080 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 85483 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
flag 78021 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 46024 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
flag 49628 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 71456 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
flag 61904 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 60807 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43028 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 46966 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47392 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 62083 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
flag 5766 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 25949 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
flag 94258 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 78406 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192}]
------------------------------------------------------
client write log 5528494806175368387 (index 193) to leader 0
flag 41867 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 82272 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33905 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 92186 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193}]
------------------------------------------------------
flag 96247 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 88052 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193}]
------------------------------------------------------
flag 18627 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 59744 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193}]
------------------------------------------------------
flag 33341 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 49538 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193}]
------------------------------------------------------
flag 75651 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 45324 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4034720590794564202 (index 194) to leader 0
flag 48227 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 85060 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193} {4034720590794564202 31 194}]
------------------------------------------------------
flag 19774 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 43427 term 31 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193} {4034720590794564202 31 194}]
------------------------------------------------------
client write log 4598116871716495462 (index 195) to leader 0
client write log 586784445226734422 (index 196) to leader 0
client write log 2148571083525323634 (index 197) to leader 0
client write log 5616614077270969969 (index 198) to leader 0
client write log 5996842251631920451 (index 199) to leader 0
client write log 2421571847060203953 (index 200) to leader 0
client write log 5221196307925769261 (index 201) to leader 0
client write log 5505892955314551957 (index 202) to leader 0
client write log 6449546699222217498 (index 203) to leader 0
client write log 1099818069374649075 (index 204) to leader 0
client write log 2380120653409984929 (index 205) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93309 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 49172 term 31 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 189} {2904698989815282507 29 190} {3406623623782923893 29 191} {4819076924374192920 29 192} {5528494806175368387 31 193} {4034720590794564202 31 194} {4598116871716495462 31 195} {586784445226734422 31 196} {2148571083525323634 31 197} {5616614077270969969 31 198} {5996842251631920451 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205}]
------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=205
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 94870 term 31 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 31 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205}]
------------------------------------------------------
term 31 Server2 start snapshot! index=199
term 31 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=205
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1511050823220762512 (index 206) to leader 0
term 31 server 2 not vote for server 1, 日志不够新
term 31 server 0 not vote for server 1, 日志不够新
term 33 server 2 vote for server 0
term 33 server 1 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 0 get outdate rpc reply from server 1
flag 79162 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 62483 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 207->206
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 207->206
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 194  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 69680 term 33 leader 0 nextIndex[2]: 206  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 31 rf.commitIndex 199 rf.lastApplied 199
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68780 term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 8515 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
flag 40453 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 60437 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
term 33 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99276 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 22016 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99190 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 25267 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
term 33 server 2 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 2
flag 19411 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 78171 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
flag 5182 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 42758 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77115 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 967 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70886 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 81255 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
flag 41594 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 6950 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55782 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 10108 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37085 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 11181 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
flag 90576 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 33698 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
flag 15377 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 76661 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
flag 71168 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 40048 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
flag 95162 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 65253 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2579 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 46959 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86209 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 85010 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206}]
------------------------------------------------------
client write log 1511050823220762512 (index 207) to leader 0
flag 51842 term 33 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 43914 term 33 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207}]
------------------------------------------------------
flag 20739 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 24805 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207}]
------------------------------------------------------
flag 83126 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 73612 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207}]
------------------------------------------------------
flag 14616 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 50664 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207}]
------------------------------------------------------
flag 82101 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 6158 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
term 33 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207}]
------------------------------------------------------
flag 64261 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 89312 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207}]
------------------------------------------------------
flag 67741 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 62795 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1899695745448007628 (index 208) to leader 0
flag 50814 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 64938 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207} {1899695745448007628 33 208}]
------------------------------------------------------
flag 42743 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
flag 17178 term 33 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207} {1899695745448007628 33 208}]
------------------------------------------------------
client write log 5091283785916870326 (index 209) to leader 0
client write log 4565544587972695427 (index 210) to leader 0
client write log 38037566415752855 (index 211) to leader 0
client write log 6066636977727276588 (index 212) to leader 0
client write log 3385301426564772930 (index 213) to leader 0
client write log 4645980751252820331 (index 214) to leader 0
client write log 134581588507877290 (index 215) to leader 0
client write log 5888124254131637682 (index 216) to leader 0
client write log 6067226592659182540 (index 217) to leader 0
client write log 4861382964109297247 (index 218) to leader 0
flag 18503 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
flag 26357 term 33 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 199} {2421571847060203953 31 200} {5221196307925769261 31 201} {5505892955314551957 31 202} {6449546699222217498 31 203} {1099818069374649075 31 204} {2380120653409984929 31 205} {1511050823220762512 31 206} {1511050823220762512 33 207} {1899695745448007628 33 208} {5091283785916870326 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218}]
------------------------------------------------------
term 33 Server0 start snapshot! index=209
term 33 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=218
-------------------------------------------------------------
term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 74963 term 33 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 33 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218}]
------------------------------------------------------
term 33 Server2 start snapshot! index=209
term 33 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=218
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4271678237238356519 (index 219) to leader 0
term 33 server 2 not vote for server 1, 日志不够新
term 33 server 0 not vote for server 1, 日志不够新
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 server 2 vote for server 0
term 35 server 1 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 0 get outdate rpc reply from server 1
flag 52441 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 26506 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 220->219
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 220->219
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 51934 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 33 rf.commitIndex 209 rf.lastApplied 209
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51508 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 91719 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
flag 85719 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 38701 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97097 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 38537 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
flag 6955 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 49688 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
flag 52626 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 14465 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
flag 97097 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 63865 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
flag 22055 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 54556 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
flag 11822 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 35006 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
flag 14918 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 46758 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
update nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
flag 95797 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 36676 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
flag 86895 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 27778 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
flag 25095 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 52455 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
flag 69470 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 85914 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85256 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 91164 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
flag 97260 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 99042 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
flag 24488 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 10642 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
flag 45152 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 49745 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43273 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 17297 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219}]
------------------------------------------------------
client write log 4271678237238356519 (index 220) to leader 0
flag 96327 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
flag 20352 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219} {4271678237238356519 35 220}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 33 209} {4565544587972695427 33 210} {38037566415752855 33 211} {6066636977727276588 33 212} {3385301426564772930 33 213} {4645980751252820331 33 214} {134581588507877290 33 215} {5888124254131637682 33 216} {6067226592659182540 33 217} {4861382964109297247 33 218} {4271678237238356519 33 219} {4271678237238356519 35 220}]
------------------------------------------------------
term 35 Server0 start snapshot! index=219
term 35 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
flag 64436 term 35 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 36365 term 35 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 33 219} {4271678237238356519 35 220}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 33 219} {4271678237238356519 35 220}]
------------------------------------------------------
term 35 Server2 start snapshot! index=219
term 35 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
term 35 Server1 start snapshot! index=219
term 35 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
flag 87054 term 35 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 963 term 35 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 33 219} {4271678237238356519 35 220}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 33 219} {4271678237238356519 35 220}]
------------------------------------------------------
flag 23514 term 35 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 82304 term 35 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 33 219} {4271678237238356519 35 220}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 33 219} {4271678237238356519 35 220}]
------------------------------------------------------
flag 95267 term 35 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 31081 term 35 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 33 219} {4271678237238356519 35 220}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 33 219} {4271678237238356519 35 220}]
------------------------------------------------------
flag 88851 term 35 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 39497 term 35 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
[{snapshot 33 219} {4271678237238356519 35 220}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 33 219} {4271678237238356519 35 220}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 97 term 35 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 12381 term 35 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 33274 term 35 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 87669 term 35 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 64923 term 35 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 87353 term 35 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 36 server 2 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
flag 29660 term 36 leader 1 nextIndex[0]: 221  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 17633 term 36 leader 1 nextIndex[2]: 221  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 33 219} {4271678237238356519 35 220}]
------------------------------------------------------
flag 50957 term 35 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 448 term 35 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
client write log 148907181385943883 (index 221) to leader 1
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 221->220
------------------------------------------------------
flag 33083 term 36 leader 1 nextIndex[0]: 221  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 7711 term 36 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 36 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 33 219} {4271678237238356519 35 220} {148907181385943883 36 221}]
------------------------------------------------------
flag 13969 term 35 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 220
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
flag 20406 term 36 leader 1 nextIndex[0]: 221  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
flag 41425 term 36 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 33 219} {4271678237238356519 35 220} {148907181385943883 36 221}]
------------------------------------------------------
flag 61286 term 35 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 220
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
client write log 7605059996354494919 (index 222) to leader 1
client write log 2341094234492511451 (index 223) to leader 1
client write log 6649003934477678610 (index 224) to leader 1
client write log 5266024188403384580 (index 225) to leader 1
client write log 3871913081763744497 (index 226) to leader 1
client write log 8815110837290172809 (index 227) to leader 1
client write log 9045078761291136992 (index 228) to leader 1
client write log 7497993529812145713 (index 229) to leader 1
flag 71721 term 36 leader 1 nextIndex[0]: 221  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
flag 83336 term 36 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 36 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 33 219} {4271678237238356519 35 220} {148907181385943883 36 221} {7605059996354494919 36 222} {2341094234492511451 36 223} {6649003934477678610 36 224} {5266024188403384580 36 225} {3871913081763744497 36 226} {8815110837290172809 36 227} {9045078761291136992 36 228} {7497993529812145713 36 229}]
------------------------------------------------------
term 36 Server1 start snapshot! index=229
term 36 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 64093 term 35 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 220
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 221  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 64159 term 36 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 36 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 Server2 start snapshot! index=229
term 36 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
!!!!!!connect server 0
client write log 872130479921846599 (index 230) to leader 1
flag 16227 term 35 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 220
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
term 36 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 1 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 221  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 53689 term 36 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 36 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 36 rf.commitIndex 229 rf.lastApplied 229
term 36 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {872130479921846599 36 230}]
------------------------------------------------------
term 36 server 2 not vote for server 0, 日志不够新
term 36 server 1 not vote for server 0, 日志不够新
term 38 server 2 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 0 vote for server 1
term 38 server 1 get outdate rpc reply from server 0
flag 43061 term 38 leader 1 nextIndex[0]: 231  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
flag 95673 term 38 leader 1 nextIndex[2]: 231  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {872130479921846599 36 230}]
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 231->230
------------------------------------------------------
flag 1979 term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
flag 703 term 38 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {872130479921846599 36 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {872130479921846599 36 230}]
------------------------------------------------------
flag 51554 term 38 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
flag 8139 term 38 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {872130479921846599 36 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {872130479921846599 36 230}]
------------------------------------------------------
flag 53608 term 38 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
flag 42716 term 38 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {872130479921846599 36 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {872130479921846599 36 230}]
------------------------------------------------------
flag 81596 term 38 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
flag 12482 term 38 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {872130479921846599 36 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {872130479921846599 36 230}]
------------------------------------------------------
flag 83952 term 38 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
flag 41387 term 38 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {872130479921846599 36 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {872130479921846599 36 230}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31743 term 38 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
flag 29910 term 38 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {872130479921846599 36 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {872130479921846599 36 230}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3434317574873139461 (index 231) to leader 1
flag 2586 term 38 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
flag 43658 term 38 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 36 229} {872130479921846599 36 230} {3434317574873139461 38 231}]
------------------------------------------------------
flag 77570 term 38 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 38 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 74719 term 38 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 231 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 36 229} {872130479921846599 36 230} {3434317574873139461 38 231}]
------------------------------------------------------
client write log 5702197952919994951 (index 232) to leader 1
client write log 6164335052095633813 (index 233) to leader 1
client write log 359438164092944939 (index 234) to leader 1
client write log 2636586512700138411 (index 235) to leader 1
client write log 702925042077166868 (index 236) to leader 1
client write log 1791129687814013273 (index 237) to leader 1
client write log 2459405039755154195 (index 238) to leader 1
client write log 7521071226319951657 (index 239) to leader 1
client write log 3955526737540273573 (index 240) to leader 1
client write log 4950555680632653705 (index 241) to leader 1
client write log 2122161468259906372 (index 242) to leader 1
client write log 7257005789785079079 (index 243) to leader 1
client write log 210214773203027793 (index 244) to leader 1
client write log 6250064497976831321 (index 245) to leader 1
client write log 8139445194418765648 (index 246) to leader 1
flag 23398 term 38 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 38 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 99705 term 38 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 231 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 229} {872130479921846599 36 230} {3434317574873139461 38 231} {5702197952919994951 38 232} {6164335052095633813 38 233} {359438164092944939 38 234} {2636586512700138411 38 235} {702925042077166868 38 236} {1791129687814013273 38 237} {2459405039755154195 38 238} {7521071226319951657 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246}]
------------------------------------------------------
term 38 Server1 start snapshot! index=239
term 38 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=246
-------------------------------------------------------------
flag 99829 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246}]
------------------------------------------------------
term 38 Server0 start snapshot! index=239
term 38 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=246
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7324587785199619503 (index 247) to leader 1
term 38 server 1 not vote for server 2, 日志不够新
term 38 server 0 not vote for server 2, 日志不够新
term 40 server 2 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
term 40 server 0 vote for server 1
term 40 server 1 get outdate rpc reply from server 0
flag 93045 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 91301 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 248->247
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 248->247
------------------------------------------------------
flag 5845 term 40 leader 1 nextIndex[0]: 247  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 231  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 38 rf.commitIndex 239 rf.lastApplied 239
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
flag 7404 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 16560 term 40 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 40 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
flag 30170 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 37423 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57748 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 49835 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
flag 98848 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 32122 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46142 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 37310 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 server 0 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 0
flag 48071 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 26493 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69862 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 47545 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
flag 904 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 32759 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21713 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 12579 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
flag 73911 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 76113 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
flag 85867 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 92347 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
flag 32751 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 2844 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53966 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 23179 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
flag 23289 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 70907 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35714 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 10815 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
flag 23827 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 96045 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
flag 50190 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 1789 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32427 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 50680 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247}]
------------------------------------------------------
client write log 7324587785199619503 (index 248) to leader 1
flag 43956 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 44234 term 40 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248}]
------------------------------------------------------
flag 99127 term 40 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 30300 term 40 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 40 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64283 term 40 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 58652 term 40 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 40 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68129 term 40 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 23971 term 40 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 40 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69373 term 40 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 59879 term 40 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 40 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248}]
------------------------------------------------------
flag 79485 term 40 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 40389 term 40 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 40 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 895 term 40 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 58498 term 40 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 40 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1807007067255805514 (index 249) to leader 1
flag 58463 term 40 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 84992 term 40 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 40 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 239} {3955526737540273573 38 240} {4950555680632653705 38 241} {2122161468259906372 38 242} {7257005789785079079 38 243} {210214773203027793 38 244} {6250064497976831321 38 245} {8139445194418765648 38 246} {7324587785199619503 38 247} {7324587785199619503 40 248} {1807007067255805514 40 249}]
------------------------------------------------------
term 40 Server1 start snapshot! index=249
term 40 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21004 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 40 249}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 Server0 start snapshot! index=249
term 40 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
client write log 5611091435745250550 (index 250) to leader 1
client write log 3888032638356335100 (index 251) to leader 1
client write log 1273673666332049125 (index 252) to leader 1
client write log 7881615290543576615 (index 253) to leader 1
client write log 7417354563444325962 (index 254) to leader 1
client write log 9122942690821091722 (index 255) to leader 1
client write log 9138185809740191642 (index 256) to leader 1
client write log 7341976896874674891 (index 257) to leader 1
client write log 5397247336429115833 (index 258) to leader 1
client write log 2596694171263309358 (index 259) to leader 1
client write log 4842171485214548401 (index 260) to leader 1
client write log 2253682448484496016 (index 261) to leader 1
client write log 923708394122994322 (index 262) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60099 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 249} {5611091435745250550 40 250} {3888032638356335100 40 251} {1273673666332049125 40 252} {7881615290543576615 40 253} {7417354563444325962 40 254} {9122942690821091722 40 255} {9138185809740191642 40 256} {7341976896874674891 40 257} {5397247336429115833 40 258} {2596694171263309358 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262}]
------------------------------------------------------
term 40 Server1 start snapshot! index=259
term 40 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=262
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22725 term 40 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 40 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262}]
------------------------------------------------------
term 40 Server0 start snapshot! index=259
term 40 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=262
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2567239695958153322 (index 263) to leader 1
flag 58018 term 40 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 40 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 41 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 0 vote for server 1
term 42 server 2 vote for server 1
term 42 server 1 get vote from server 0
term 42 server 1 become leader
------------------------------------------------------
term 42 server 1 get outdate rpc reply from server 2
flag 31688 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 12741 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 264->263
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30750 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 249  matchIndex[2]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 42 server 2 InstallSnapshot success
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 40 rf.commitIndex 259 rf.lastApplied 259
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 43747 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 44239 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16586 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 12086 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 8625 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 20735 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 52237 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 22114 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 46394 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 57510 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 5423 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 92409 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 40395 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 8399 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 39152 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 53801 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
term 42 server 1 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 1
flag 79509 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 54950 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 1393 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 69289 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 87740 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 72317 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 28621 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 82773 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 81322 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 61128 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 71690 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 51759 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
update nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 67742 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 44473 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 82366 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 61758 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
flag 5882 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 50417 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263}]
------------------------------------------------------
client write log 2567239695958153322 (index 264) to leader 1
flag 72172 term 42 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 52645 term 42 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58530 term 42 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
flag 56969 term 42 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89453 term 42 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
flag 99121 term 42 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264}]
------------------------------------------------------
flag 23709 term 42 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
flag 41163 term 42 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264}]
------------------------------------------------------
flag 39513 term 42 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
flag 75379 term 42 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264}]
------------------------------------------------------
flag 96301 term 42 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
flag 78646 term 42 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264}]
------------------------------------------------------
flag 97553 term 42 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
flag 70751 term 42 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
!!!!!!diconnect server 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 265->264
------------------------------------------------------
flag 28673 term 42 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 264
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 46874 term 42 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 264
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 48540 term 42 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 264
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
client write log 5228261446510827583 (index 265) to leader 0
flag 48027 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
flag 1570 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265}]
------------------------------------------------------
flag 41041 term 42 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 264
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 11724 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 81955 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265}]
------------------------------------------------------
client write log 1456308985359055320 (index 266) to leader 0
flag 57630 term 42 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 264
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 62379 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 90089 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 83840 term 42 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 264
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 265->264
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 48655 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3097193925519351560 (index 265) to leader 1
flag 43056 term 42 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 264
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 43 server 0 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 43 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 4617 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 264 args.LastIncludedIndex 259
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 58844 term 43 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 43 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 266 
------------------------------------------------------
flag 7599 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 87463 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 28819 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 56792 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 60045 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 32898 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 29787 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 50580 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 45599 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 16238 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 57288 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 server 0 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 0
flag 13173 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 28434 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 89678 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 19593 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 22454 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 22774 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3526 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 84008 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 75158 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 89162 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 27071 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 77875 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96807 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 55772 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58186 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 5378 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 77156 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 10696 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 98934 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 35453 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 84088 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 74311 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9182 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 40661 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
flag 26784 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 68802 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266}]
------------------------------------------------------
client write log 3097193925519351560 (index 267) to leader 0
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36095 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 59238 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267}]
------------------------------------------------------
flag 61188 term 43 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
flag 52579 term 43 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267}]
------------------------------------------------------
flag 53603 term 43 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
flag 73566 term 43 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267}]
------------------------------------------------------
flag 83144 term 43 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
flag 18661 term 43 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267}]
------------------------------------------------------
flag 47312 term 43 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
flag 19352 term 43 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2297 term 43 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
flag 83445 term 43 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267}]
------------------------------------------------------
term 43 server 1 not vote for server 0, 日志不够新
term 43 server 0 get outdate rpc reply from server 1
flag 7967 term 43 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
flag 91101 term 43 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3768734151035523484 (index 268) to leader 0
flag 46989 term 43 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
flag 4777 term 43 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267} {3768734151035523484 43 268}]
------------------------------------------------------
flag 61671 term 43 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 75004 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267} {3768734151035523484 43 268}]
------------------------------------------------------
client write log 142870189696981699 (index 269) to leader 0
client write log 3224175479815348067 (index 270) to leader 0
client write log 3186157369051126223 (index 271) to leader 0
client write log 3648870396744166519 (index 272) to leader 0
client write log 2091205380704823045 (index 273) to leader 0
client write log 83553189462059658 (index 274) to leader 0
client write log 4222837956478536571 (index 275) to leader 0
client write log 3972425600403704877 (index 276) to leader 0
client write log 5394540568546713594 (index 277) to leader 0
client write log 1455150847164613672 (index 278) to leader 0
client write log 2680432293356252473 (index 279) to leader 0
client write log 5011411796630165695 (index 280) to leader 0
client write log 893904034920580853 (index 281) to leader 0
flag 18182 term 43 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 71156 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 40 259} {4842171485214548401 40 260} {2253682448484496016 40 261} {923708394122994322 40 262} {2567239695958153322 40 263} {2567239695958153322 42 264} {5228261446510827583 43 265} {1456308985359055320 43 266} {3097193925519351560 43 267} {3768734151035523484 43 268} {142870189696981699 43 269} {3224175479815348067 43 270} {3186157369051126223 43 271} {3648870396744166519 43 272} {2091205380704823045 43 273} {83553189462059658 43 274} {4222837956478536571 43 275} {3972425600403704877 43 276} {5394540568546713594 43 277} {1455150847164613672 43 278} {2680432293356252473 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
term 43 Server0 start snapshot! index=269
term 43 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=281
-------------------------------------------------------------
term 43 Server0 start snapshot! index=279
term 43 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=281
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 84505 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
term 43 Server2 start snapshot! index=269
term 43 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=281
-------------------------------------------------------------
term 43 Server2 start snapshot! index=279
term 43 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=281
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2505112378321086478 (index 282) to leader 0
term 43 server 2 not vote for server 1, 日志不够新
term 43 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 58506 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 44 server 2 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 44 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 1 vote for server 2
term 45 server 2 get vote from server 1
term 45 server 2 become leader
------------------------------------------------------
term 44 server 0 not vote for server 2, 日志不够新
term 45 server 2 get outdate rpc reply from server 0
flag 42049 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 18145 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 282->281
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
flag 74154 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 leader 2 nextIndex[1]: 268  matchIndex[1]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 43 rf.commitIndex 279 rf.lastApplied 279
term 45 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70331 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 60297 term 45 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
flag 55143 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 47124 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1060 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 5467 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
flag 70954 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 34798 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
flag 48707 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 33978 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
flag 34296 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 19369 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
flag 5181 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 72762 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
flag 15947 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 65086 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
flag 99605 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 89820 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
flag 38802 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 30616 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
flag 99738 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 60330 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
flag 58771 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 94912 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
flag 71019 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 57091 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33111 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 51951 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
term 45 server 0 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 0
flag 1584 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 459 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281}]
------------------------------------------------------
client write log 2505112378321086478 (index 282) to leader 2
flag 85773 term 45 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 51765 term 45 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282}]
------------------------------------------------------
flag 23580 term 45 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 99492 term 45 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282}]
------------------------------------------------------
flag 39468 term 45 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 46562 term 45 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282}]
------------------------------------------------------
flag 12634 term 45 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 91051 term 45 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282}]
------------------------------------------------------
flag 60119 term 45 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 38223 term 45 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282}]
------------------------------------------------------
flag 36543 term 45 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 3057 term 45 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282}]
------------------------------------------------------
flag 35982 term 45 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 47591 term 45 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5770589347089815597 (index 283) to leader 2
flag 88772 term 45 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 4958 term 45 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282} {5770589347089815597 45 283}]
------------------------------------------------------
flag 97659 term 45 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 283 
------------------------------------------------------
flag 4336 term 45 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 45 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 283 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282} {5770589347089815597 45 283}]
------------------------------------------------------
client write log 5590227842026799519 (index 284) to leader 2
client write log 8981805143902107927 (index 285) to leader 2
client write log 6896585329555087426 (index 286) to leader 2
client write log 2078487044887768291 (index 287) to leader 2
client write log 1150173865713112100 (index 288) to leader 2
client write log 3146969873559408692 (index 289) to leader 2
client write log 4488609506557323080 (index 290) to leader 2
client write log 3215700121652771666 (index 291) to leader 2
client write log 1807309548446349264 (index 292) to leader 2
client write log 5972915989887336467 (index 293) to leader 2
flag 20118 term 45 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 283 
------------------------------------------------------
flag 83751 term 45 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 45 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 283 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 279} {5011411796630165695 43 280} {893904034920580853 43 281} {2505112378321086478 45 282} {5770589347089815597 45 283} {5590227842026799519 45 284} {8981805143902107927 45 285} {6896585329555087426 45 286} {2078487044887768291 45 287} {1150173865713112100 45 288} {3146969873559408692 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293}]
------------------------------------------------------
term 45 Server2 start snapshot! index=289
term 45 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=293
-------------------------------------------------------------
term 45 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
flag 30102 term 45 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293}]
------------------------------------------------------
term 45 Server1 start snapshot! index=289
term 45 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=293
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 2760716409740739194 (index 294) to leader 2
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 2 not vote for server 0, 日志不够新
term 45 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 server 1 vote for server 2
term 47 server 2 get vote from server 1
term 47 server 2 become leader
------------------------------------------------------
term 47 server 0 vote for server 2
term 47 server 2 get outdate rpc reply from server 0
flag 70056 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 79336 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 295->294
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 295->294
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
flag 14511 term 47 leader 2 nextIndex[1]: 294  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 45 rf.commitIndex 289 rf.lastApplied 289
term 47 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
flag 81419 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 75682 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10651 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 81650 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
flag 54270 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 37119 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25388 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 62844 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
flag 83416 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 52097 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
flag 31325 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 18013 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
flag 65683 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 5419 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
flag 30763 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 17289 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97225 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 36439 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
flag 94502 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 28933 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
flag 38877 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 76907 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
flag 58120 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 45282 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
flag 3132 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 95496 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
flag 23983 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 3649 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
flag 41750 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 46480 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
flag 64223 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 16848 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
flag 68833 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 21761 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294}]
------------------------------------------------------
client write log 2760716409740739194 (index 295) to leader 2
flag 72298 term 47 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 2897 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20557 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 28443 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
flag 64032 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 54201 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
flag 87988 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 84674 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
flag 841 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 8560 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
flag 4976 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 85673 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
flag 6519 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 14792 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 47187 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 53872 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 52671 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 95236 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21029 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 18451 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 48 server 0 vote for server 1
term 48 server 1 get vote from server 0
term 48 server 1 become leader
------------------------------------------------------
flag 51135 term 48 leader 1 nextIndex[0]: 296  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 93723 term 48 leader 1 nextIndex[2]: 296  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295}]
------------------------------------------------------
flag 21872 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 30051 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
client write log 1889797894349621437 (index 296) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73081 term 48 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 48 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 46655 term 48 leader 1 nextIndex[2]: 296  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296}]
------------------------------------------------------
flag 97667 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 27898 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 8021 term 48 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 48 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 50814 term 48 leader 1 nextIndex[2]: 296  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296}]
------------------------------------------------------
flag 47401 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 37782 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
client write log 5422071572854322063 (index 297) to leader 1
flag 36612 term 48 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 48 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 74121 term 48 leader 1 nextIndex[2]: 296  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297}]
------------------------------------------------------
flag 73327 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 99715 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 98056 term 48 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 68680 term 48 leader 1 nextIndex[2]: 296  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297}]
------------------------------------------------------
flag 41858 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 93680 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
!!!!!!connect server 2
client write log 2263405766134477542 (index 298) to leader 1
flag 33265 term 48 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 72786 term 48 leader 1 nextIndex[2]: 296  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298}]
------------------------------------------------------
flag 44897 term 48 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 18202 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298}]
------------------------------------------------------
flag 85503 term 48 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 47467 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 not vote for server 1, 日志不够新
term 48 server 1 get outdate rpc reply from server 2
flag 33289 term 48 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 50150 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298}]
------------------------------------------------------
flag 19782 term 48 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 64560 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298}]
------------------------------------------------------
flag 76870 term 48 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 7283 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298}]
------------------------------------------------------
flag 22937 term 48 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 60163 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8774994355818055535 (index 299) to leader 1
flag 85283 term 48 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 97048 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 45 289} {4488609506557323080 45 290} {3215700121652771666 45 291} {1807309548446349264 45 292} {5972915989887336467 45 293} {2760716409740739194 45 294} {2760716409740739194 47 295} {1889797894349621437 48 296} {5422071572854322063 48 297} {2263405766134477542 48 298} {8774994355818055535 48 299}]
------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 299->298
------------------------------------------------------
flag 59455 term 48 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 298
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
term 48 Server0 start snapshot! index=299
term 48 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
client write log 7817002344832467176 (index 300) to leader 1
client write log 4200981389365643386 (index 301) to leader 1
client write log 7505737034813634980 (index 302) to leader 1
client write log 6126654271305342219 (index 303) to leader 1
client write log 8431344598580222832 (index 304) to leader 1
client write log 7703648739087700624 (index 305) to leader 1
client write log 4009299670061430224 (index 306) to leader 1
client write log 5796236196467400107 (index 307) to leader 1
client write log 3479661779530933437 (index 308) to leader 1
client write log 7940251723851140471 (index 309) to leader 1
client write log 5927336790949368220 (index 310) to leader 1
client write log 7329825745917221822 (index 311) to leader 1
client write log 6757628361013686041 (index 312) to leader 1
flag 2176 term 48 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 298
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 299} {7817002344832467176 48 300} {4200981389365643386 48 301} {7505737034813634980 48 302} {6126654271305342219 48 303} {8431344598580222832 48 304} {7703648739087700624 48 305} {4009299670061430224 48 306} {5796236196467400107 48 307} {3479661779530933437 48 308} {7940251723851140471 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312}]
------------------------------------------------------
term 48 Server1 start snapshot! index=309
term 48 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=312
-------------------------------------------------------------
flag 11706 term 48 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 48 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 298
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312}]
------------------------------------------------------
term 48 Server0 start snapshot! index=309
term 48 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=312
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1699105490848615688 (index 313) to leader 1
flag 24054 term 48 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 48 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 298
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 49 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 0 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
term 50 server 1 get outdate rpc reply from server 0
flag 74747 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 32460 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 314->313
------------------------------------------------------
flag 31685 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 299  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 48 rf.commitIndex 309 rf.lastApplied 309
flag 43364 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 98309 term 50 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68951 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 18992 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
flag 99531 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 83181 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25564 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 49966 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
flag 63967 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 79698 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
flag 93347 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 73770 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88320 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 78949 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
flag 71110 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 19352 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
flag 99369 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 12000 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
flag 47918 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 29939 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
flag 20707 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 61878 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
flag 22137 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 70123 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
flag 40531 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 94416 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27223 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 86920 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9490 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 16056 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99969 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 30038 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92046 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 3293 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313}]
------------------------------------------------------
client write log 1699105490848615688 (index 314) to leader 1
flag 70071 term 50 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 90471 term 50 leader 1 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314}]
------------------------------------------------------
flag 25133 term 50 leader 1 nextIndex[0]: 315  matchIndex[0]: 314
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
flag 61980 term 50 leader 1 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314}]
------------------------------------------------------
flag 36830 term 50 leader 1 nextIndex[0]: 315  matchIndex[0]: 314
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
flag 85671 term 50 leader 1 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314}]
------------------------------------------------------
flag 15669 term 50 leader 1 nextIndex[0]: 315  matchIndex[0]: 314
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
flag 78716 term 50 leader 1 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93585 term 50 leader 1 nextIndex[0]: 315  matchIndex[0]: 314
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
flag 39191 term 50 leader 1 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78991 term 50 leader 1 nextIndex[0]: 315  matchIndex[0]: 314
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
flag 98354 term 50 leader 1 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 599783197228165182 (index 315) to leader 1
flag 72916 term 50 leader 1 nextIndex[0]: 315  matchIndex[0]: 314
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
flag 46367 term 50 leader 1 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314} {599783197228165182 50 315}]
------------------------------------------------------
flag 19411 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 93843 term 50 leader 1 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314} {599783197228165182 50 315}]
------------------------------------------------------
client write log 2729018131552328856 (index 316) to leader 1
client write log 3056739111634502459 (index 317) to leader 1
client write log 2057833434303152722 (index 318) to leader 1
client write log 5315288119685877839 (index 319) to leader 1
client write log 3592673579527263602 (index 320) to leader 1
client write log 3283142159107335210 (index 321) to leader 1
client write log 6939350497704509847 (index 322) to leader 1
client write log 5357088854574874164 (index 323) to leader 1
client write log 6190262763726436303 (index 324) to leader 1
client write log 4186507739895109208 (index 325) to leader 1
flag 77274 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 11299 term 50 leader 1 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 309} {5927336790949368220 48 310} {7329825745917221822 48 311} {6757628361013686041 48 312} {1699105490848615688 48 313} {1699105490848615688 50 314} {599783197228165182 50 315} {2729018131552328856 50 316} {3056739111634502459 50 317} {2057833434303152722 50 318} {5315288119685877839 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325}]
------------------------------------------------------
term 50 Server1 start snapshot! index=319
term 50 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=325
-------------------------------------------------------------
flag 70440 term 50 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 50 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325}]
------------------------------------------------------
term 50 Server0 start snapshot! index=319
term 50 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=325
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3434738528573579534 (index 326) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 1 not vote for server 2, 日志不够新
term 50 server 0 not vote for server 2, 日志不够新
term 52 server 2 vote for server 1
term 52 server 0 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
term 52 server 1 get outdate rpc reply from server 0
flag 14591 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 84887 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 327->326
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 327->326
------------------------------------------------------
flag 24479 term 52 leader 1 nextIndex[0]: 326  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 315  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 50 rf.commitIndex 319 rf.lastApplied 319
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 0 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27524 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 96340 term 52 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
flag 62461 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 67192 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64167 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 31685 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
flag 15922 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 19442 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
flag 91520 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 25562 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
flag 46655 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 27047 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
flag 58446 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 93760 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55596 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 36400 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45232 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 44787 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
flag 93294 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 6409 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
flag 89589 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 65739 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43861 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 12529 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54510 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 49228 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97980 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 84214 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
flag 92366 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 41352 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
flag 97952 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 88257 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57018 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 39001 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326}]
------------------------------------------------------
client write log 3434738528573579534 (index 327) to leader 1
flag 81125 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 56002 term 52 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327}]
------------------------------------------------------
flag 61743 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 86344 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327}]
------------------------------------------------------
flag 54482 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 75142 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327}]
------------------------------------------------------
flag 64665 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 49901 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327}]
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99803 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 35075 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327}]
------------------------------------------------------
flag 26903 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 8595 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 82350 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 10445 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79900 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 72518 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 83404 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 42734 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 53 server 0 vote for server 2
term 53 server 2 get vote from server 0
term 53 server 2 become leader
------------------------------------------------------
flag 82 term 53 leader 2 nextIndex[0]: 328  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 21800 term 53 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327}]
------------------------------------------------------
client write log 7348485948632761376 (index 328) to leader 2
flag 26522 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 28088 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 1761 term 53 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 53 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 63190 term 53 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327} {7348485948632761376 53 328}]
------------------------------------------------------
flag 43710 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 41200 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89883 term 53 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 53 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 99013 term 53 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327} {7348485948632761376 53 328}]
------------------------------------------------------
client write log 8692037829674382609 (index 329) to leader 2
client write log 8012561607351138417 (index 330) to leader 2
client write log 2600889996685541591 (index 331) to leader 2
client write log 8916390955881610273 (index 332) to leader 2
client write log 1204379839479674063 (index 333) to leader 2
client write log 6164111798043952059 (index 334) to leader 2
client write log 2237122738978781645 (index 335) to leader 2
client write log 7893197607747622647 (index 336) to leader 2
client write log 6582253488928297700 (index 337) to leader 2
flag 4448 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 42195 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 52577 term 53 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 53 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 73119 term 53 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 50 319} {3592673579527263602 50 320} {3283142159107335210 50 321} {6939350497704509847 50 322} {5357088854574874164 50 323} {6190262763726436303 50 324} {4186507739895109208 50 325} {3434738528573579534 50 326} {3434738528573579534 52 327} {7348485948632761376 53 328} {8692037829674382609 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 Server2 start snapshot! index=329
term 53 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=337
-------------------------------------------------------------
flag 9715 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 2727 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 22263 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 Server0 start snapshot! index=329
term 53 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=337
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7951915936058102815 (index 328) to leader 1
flag 70689 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 60617 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 53 server 0 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
term 53 server 2 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38469 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 1 InstallSnapshot success
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 53 rf.commitIndex 329 rf.lastApplied 329
term 53 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
flag 41739 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 32885 term 53 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
flag 72344 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 72604 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41153 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 63559 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
flag 20716 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 7414 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
flag 58702 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 26887 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 338->337
------------------------------------------------------
flag 271 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 0  matchIndex[1]: 337
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 1 InstallSnapshot fail
rf.commitIndex 337 args.LastIncludedIndex 329
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
flag 79461 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 16271 term 53 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
flag 94708 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 41214 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
flag 69876 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 45447 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
flag 37423 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 97351 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
flag 12132 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 18142 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
flag 43349 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 77769 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94650 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 33297 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44111 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 48071 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
flag 17805 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 77223 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
flag 47851 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 87864 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93544 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 98835 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57094 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 69294 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 1 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74722 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 85865 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337}]
------------------------------------------------------
client write log 7951915936058102815 (index 338) to leader 2
flag 84982 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 59325 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337} {7951915936058102815 53 338}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337} {7951915936058102815 53 338}]
------------------------------------------------------
flag 99701 term 53 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
flag 33923 term 53 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337} {7951915936058102815 53 338}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337} {7951915936058102815 53 338}]
------------------------------------------------------
flag 1769 term 53 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
flag 91752 term 53 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337} {7951915936058102815 53 338}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337} {7951915936058102815 53 338}]
------------------------------------------------------
flag 74206 term 53 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
flag 64541 term 53 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337} {7951915936058102815 53 338}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337} {7951915936058102815 53 338}]
------------------------------------------------------
flag 93914 term 53 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
flag 5962 term 53 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337} {7951915936058102815 53 338}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337} {7951915936058102815 53 338}]
------------------------------------------------------
flag 80297 term 53 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
flag 95364 term 53 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337} {7951915936058102815 53 338}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337} {7951915936058102815 53 338}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6185148735543682589 (index 339) to leader 2
flag 73313 term 53 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
flag 43707 term 53 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=339
leader log:
[{snapshot 53 329} {8012561607351138417 53 330} {2600889996685541591 53 331} {8916390955881610273 53 332} {1204379839479674063 53 333} {6164111798043952059 53 334} {2237122738978781645 53 335} {7893197607747622647 53 336} {6582253488928297700 53 337} {7951915936058102815 53 338} {6185148735543682589 53 339}]
------------------------------------------------------
term 53 Server2 start snapshot! index=339
term 53 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
flag 99510 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 53 leaderCommit: 339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=339
leader log:
[{snapshot 53 339}]
------------------------------------------------------
term 53 Server1 start snapshot! index=339
term 53 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
client write log 2170230992476104259 (index 340) to leader 2
client write log 2620068492288742198 (index 341) to leader 2
client write log 1571778164454537316 (index 342) to leader 2
client write log 207360091409382520 (index 343) to leader 2
client write log 5591708957691330070 (index 344) to leader 2
client write log 3597077704235832417 (index 345) to leader 2
client write log 2400333142926778366 (index 346) to leader 2
client write log 8009084988985329280 (index 347) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
flag 9599 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 53 leaderCommit: 339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347}]
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
flag 89353 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 53 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8017389314861313497 (index 348) to leader 2
term 53 leader 2 nextIndex[0]: 339  matchIndex[0]: 338
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
flag 79471 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 53 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
term 54 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 server 1 vote for server 2
term 55 server 0 vote for server 2
term 55 server 2 get vote from server 1
term 55 server 2 become leader
------------------------------------------------------
term 55 server 2 get outdate rpc reply from server 0
flag 16047 term 55 leader 2 nextIndex[0]: 349  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 92791 term 55 leader 2 nextIndex[1]: 349  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 349->348
------------------------------------------------------
term 55 server 1 not vote for server 2, 任期不够新
term 55 server 2 get outdate rpc reply from server 1
term 55 leader 2 nextIndex[0]: 339  matchIndex[0]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
flag 52378 term 55 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 55 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 53 rf.commitIndex 339 rf.lastApplied 339
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
flag 35510 term 55 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 55 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 91818 term 55 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:339 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
flag 16976 term 55 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 63943 term 55 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58842 term 55 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 90556 term 55 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
flag 96848 term 55 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 82594 term 55 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
flag 18673 term 55 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 54203 term 55 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61265 term 55 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 12357 term 55 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52122 term 55 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 59603 term 55 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4748966369354341400 (index 349) to leader 2
flag 85325 term 55 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 57660 term 55 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 55 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 53 339} {2170230992476104259 53 340} {2620068492288742198 53 341} {1571778164454537316 53 342} {207360091409382520 53 343} {5591708957691330070 53 344} {3597077704235832417 53 345} {2400333142926778366 53 346} {8009084988985329280 53 347} {8017389314861313497 53 348} {4748966369354341400 55 349}]
------------------------------------------------------
term 55 Server2 start snapshot! index=349
term 55 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
term 55 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 55
------------------------------------------------------
flag 86437 term 55 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 55 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 55 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 55 349}]
------------------------------------------------------
term 55 Server1 start snapshot! index=349
term 55 server1 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3566536587732153858 (index 350) to leader 2
client write log 7262247065480148609 (index 351) to leader 2
client write log 2193810597895934413 (index 352) to leader 2
client write log 4267898740875761792 (index 353) to leader 2
client write log 238569521912900181 (index 354) to leader 2
client write log 8314348007698259001 (index 355) to leader 2
client write log 5688917020480720059 (index 356) to leader 2
client write log 7407819342579620542 (index 357) to leader 2
term 55 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 55
------------------------------------------------------
flag 18607 term 55 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 55 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 55 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 55
------------------------------------------------------
flag 37355 term 55 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 55 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6977699056120403576 (index 358) to leader 2
term 55 server 2 not vote for server 0, 任期不够新
term 56 server 0 get outdate rpc reply from server 2
term 55 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 350 matchIndex[0] 349 
------------------------------------------------------------------------
flag 2136 term 55 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 55 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 17389 term 55 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 55 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 56 server 0 AppendEntries false 领导者任期过期 args.Term 55
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 server 2 not vote for server 0, 日志不够新
term 55 server 1 not vote for server 0, 日志不够新
term 58 server 1 vote for server 2
term 58 server 0 vote for server 2
term 58 server 2 get vote from server 1
term 58 server 2 become leader
------------------------------------------------------
term 58 server 2 get outdate rpc reply from server 0
flag 89839 term 58 leader 2 nextIndex[0]: 359  matchIndex[0]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 98029 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 359->358
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 58 leader 2 nextIndex[0]: 349  matchIndex[0]: 0
term 58 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 55
------------------------------------------------------
flag 62917 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 0 InstallSnapshot success
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 58 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 350 matchIndex[0] 349 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 55 rf.commitIndex 349 rf.lastApplied 349
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
flag 38344 term 58 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 58 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 22369 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30714 term 58 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 25766 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
flag 21187 term 58 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 94654 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
term 58 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33039 term 58 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 59637 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21126 term 58 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 32195 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
term 58 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2209 term 58 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 25810 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
flag 79257 term 58 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 99889 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
flag 26233 term 58 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 5338 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
term 58 server 1 not vote for server 0, 任期不够新
term 58 server 0 get outdate rpc reply from server 1
flag 9045 term 58 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 45611 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
flag 22380 term 58 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 59014 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
flag 61430 term 58 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 12320 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
flag 3538 term 58 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 6303 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77306 term 58 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 85866 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358}]
------------------------------------------------------
client write log 6977699056120403576 (index 359) to leader 2
flag 16282 term 58 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
flag 45849 term 58 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 58 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 55 leaderCommit: 357 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358} {6977699056120403576 58 359}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 55 349} {3566536587732153858 55 350} {7262247065480148609 55 351} {2193810597895934413 55 352} {4267898740875761792 55 353} {238569521912900181 55 354} {8314348007698259001 55 355} {5688917020480720059 55 356} {7407819342579620542 55 357} {6977699056120403576 55 358} {6977699056120403576 58 359}]
------------------------------------------------------
term 58 Server2 start snapshot! index=359
term 58 server2 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
flag 43223 term 58 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 15485 term 58 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 58 359}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 58 359}]
------------------------------------------------------
term 58 Server0 start snapshot! index=359
term 58 server0 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
term 58 Server1 start snapshot! index=359
term 58 server1 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
flag 9979 term 58 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 37133 term 58 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 58 359}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 58 359}]
------------------------------------------------------
flag 77938 term 58 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 43374 term 58 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 58 359}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 58 359}]
------------------------------------------------------
flag 49811 term 58 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 48151 term 58 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 58 359}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 58 359}]
------------------------------------------------------
flag 55016 term 58 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 95192 term 58 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 58 359}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 58 359}]
------------------------------------------------------
term 58 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
flag 12458 term 58 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 69260 term 58 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 30594 term 58 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 77159 term 58 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 99584 term 58 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 55771 term 58 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
term 59 server 0 vote for server 1
term 59 server 1 get vote from server 0
term 59 server 1 become leader
------------------------------------------------------
flag 69273 term 59 leader 1 nextIndex[0]: 360  matchIndex[0]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 19872 term 59 leader 1 nextIndex[2]: 360  matchIndex[2]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 58 359}]
------------------------------------------------------
client write log 7168083391816189170 (index 360) to leader 1
flag 85853 term 58 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 38652 term 58 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 79588 term 59 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 59 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 54266 term 59 leader 1 nextIndex[2]: 360  matchIndex[2]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 58 359} {7168083391816189170 59 360}]
------------------------------------------------------
flag 63277 term 58 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 38679 term 58 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 92431 term 59 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 59 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 59 leaderCommit: 360 
------------------------------------------------------
flag 68129 term 59 leader 1 nextIndex[2]: 360  matchIndex[2]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 360 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 58 359} {7168083391816189170 59 360}]
------------------------------------------------------
client write log 8884284023843574424 (index 361) to leader 1
flag 3243 term 58 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 72606 term 58 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 45414 term 59 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 59 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 59 leaderCommit: 360 
------------------------------------------------------
flag 48244 term 59 leader 1 nextIndex[2]: 360  matchIndex[2]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 360 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=362
update matchIndex[0]=361
update leader CommitIndex=361
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361}]
------------------------------------------------------
flag 45832 term 58 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 5217 term 58 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 84352 term 59 leader 1 nextIndex[0]: 362  matchIndex[0]: 361
term 59 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 59 leaderCommit: 361 
------------------------------------------------------
flag 71326 term 59 leader 1 nextIndex[2]: 360  matchIndex[2]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 361 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=362
update matchIndex[0]=361
update leader CommitIndex=361
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3786647696090896336 (index 362) to leader 1
flag 80214 term 58 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
flag 78105 term 58 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 58 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 359 
------------------------------------------------------
term 59 server 1 AppendEntries false 领导者任期过期 args.Term 58
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 59 server 0 AppendEntries false 领导者任期过期 args.Term 58
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93323 term 59 leader 1 nextIndex[0]: 362  matchIndex[0]: 361
term 59 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 59 leaderCommit: 361 
------------------------------------------------------
flag 63647 term 59 leader 1 nextIndex[2]: 360  matchIndex[2]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=362
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=362
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362}]
------------------------------------------------------
flag 46823 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 362 
------------------------------------------------------
flag 60682 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 362 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=362
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362}]
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=362
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362}]
------------------------------------------------------
flag 88330 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 362 
------------------------------------------------------
flag 74938 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 362 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=362
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362}]
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=362
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362}]
------------------------------------------------------
flag 83570 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 362 
------------------------------------------------------
flag 56172 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 362 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=362
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=362
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362}]
------------------------------------------------------
flag 24570 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 362 
------------------------------------------------------
flag 55473 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 362 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=362
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=362
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362}]
------------------------------------------------------
term 59 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66716 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 362 
------------------------------------------------------
flag 7248 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 362 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=362
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=362
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362}]
------------------------------------------------------
flag 17172 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 362 
------------------------------------------------------
flag 22835 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 362 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=362
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=362
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2851730532685759305 (index 363) to leader 1
term 59 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57488 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 362 
------------------------------------------------------
flag 90666 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 362 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=363
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362} {2851730532685759305 59 363}]
------------------------------------------------------
flag 50421 term 59 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 59 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 59 leaderCommit: 363 
------------------------------------------------------
flag 6447 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 363 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=363
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362} {2851730532685759305 59 363}]
------------------------------------------------------
client write log 5783102265968834342 (index 364) to leader 1
client write log 8563834182628044012 (index 365) to leader 1
client write log 4057141559581124671 (index 366) to leader 1
client write log 5966685943450402481 (index 367) to leader 1
client write log 4152695768356389181 (index 368) to leader 1
client write log 1580998759239743111 (index 369) to leader 1
client write log 3979554921513930852 (index 370) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69712 term 59 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 59 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 59 leaderCommit: 363 
------------------------------------------------------
flag 1859 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 59 leaderCommit: 363 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=370
leader log:
[{snapshot 58 359} {7168083391816189170 59 360} {8884284023843574424 59 361} {3786647696090896336 59 362} {2851730532685759305 59 363} {5783102265968834342 59 364} {8563834182628044012 59 365} {4057141559581124671 59 366} {5966685943450402481 59 367} {4152695768356389181 59 368} {1580998759239743111 59 369} {3979554921513930852 59 370}]
------------------------------------------------------
term 59 Server1 start snapshot! index=369
term 59 server1 snapshot success
lastIncludedIndex=369 lastApplied=369 lastIndex=370
-------------------------------------------------------------
flag 7497 term 59 leader 1 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 1 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 59
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370}]
------------------------------------------------------
term 59 Server0 start snapshot! index=369
term 59 server0 snapshot success
lastIncludedIndex=369 lastApplied=369 lastIndex=370
-------------------------------------------------------------
!!!!!!connect server 2
client write log 375451604746049290 (index 371) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 363->362
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 59 server 1 not vote for server 2, 日志不够新
term 59 server 0 not vote for server 2, 日志不够新
term 61 server 2 vote for server 1
term 61 server 1 get vote from server 2
term 61 server 1 become leader
------------------------------------------------------
term 61 server 0 vote for server 1
term 61 server 1 get outdate rpc reply from server 0
flag 3172 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 0
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 10820 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 0
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 372->371
------------------------------------------------------
term 61 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 372->371
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 61 server 2 not vote for server 1, 任期不够新
term 61 server 1 get outdate rpc reply from server 2
flag 6044 term 61 leader 1 nextIndex[0]: 371  matchIndex[0]: 0
term 61 leader 1 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 leader 1 nextIndex[2]: 363  matchIndex[2]: 0
term 61 leader 1 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 59
------------------------------------------------------
term 61 server 2 InstallSnapshot success
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 369 rf.lastIncludedTerm 59 rf.commitIndex 369 rf.lastApplied 369
term 61 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 370 matchIndex[2] 369 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 61 server 1 not vote for server 0, 任期不够新
term 61 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77729 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 17239 term 61 leader 1 nextIndex[2]: 370  matchIndex[2]: 369
term 61 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:369 
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
flag 12950 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 92389 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 61 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65965 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 47829 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8748 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 99150 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
flag 64504 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 73803 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
flag 60958 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 16269 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
flag 323 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 27269 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
flag 14718 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 33680 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
flag 81155 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 68641 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
flag 15382 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 31053 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
flag 73149 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 53955 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
flag 85629 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 55858 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
term 61 server 2 not vote for server 0, 任期不够新
term 61 server 0 get outdate rpc reply from server 2
flag 44437 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 49314 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50708 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 17603 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
flag 34430 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 73749 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57510 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 91776 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
flag 20974 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 24665 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=370
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 61 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 375451604746049290 (index 372) to leader 1
flag 86055 term 61 leader 1 nextIndex[0]: 372  matchIndex[0]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
flag 11417 term 61 leader 1 nextIndex[2]: 372  matchIndex[2]: 371
term 61 leader 1 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 370 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:370 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=372
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371} {375451604746049290 61 372}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=372
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371} {375451604746049290 61 372}]
------------------------------------------------------
flag 63849 term 61 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 61 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 61 leaderCommit: 372 
------------------------------------------------------
flag 30272 term 61 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 61 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 61 leaderCommit: 372 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=372
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371} {375451604746049290 61 372}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=372
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371} {375451604746049290 61 372}]
------------------------------------------------------
flag 85260 term 61 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 61 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 61 leaderCommit: 372 
------------------------------------------------------
flag 90771 term 61 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 61 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 61 leaderCommit: 372 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=372
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371} {375451604746049290 61 372}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=372
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371} {375451604746049290 61 372}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22616 term 61 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 61 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 61 leaderCommit: 372 
------------------------------------------------------
flag 86223 term 61 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 61 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 61 leaderCommit: 372 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=372
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371} {375451604746049290 61 372}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=372
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371} {375451604746049290 61 372}]
------------------------------------------------------
flag 89485 term 61 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 61 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 61 leaderCommit: 372 
------------------------------------------------------
flag 653 term 61 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 61 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 61 leaderCommit: 372 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=372
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371} {375451604746049290 61 372}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=372
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371} {375451604746049290 61 372}]
------------------------------------------------------
flag 5388 term 61 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 61 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 61 leaderCommit: 372 
------------------------------------------------------
flag 89554 term 61 leader 1 nextIndex[2]: 373  matchIndex[2]: 372
term 61 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 61 leaderCommit: 372 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=373
update matchIndex[2]=372
update leader CommitIndex=372
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371} {375451604746049290 61 372}]
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=372
leader log:
[{snapshot 59 369} {3979554921513930852 59 370} {375451604746049290 59 371} {375451604746049290 61 372}]
------------------------------------------------------
  ... Passed --  87.0  3 1957  892839  372
--- PASS: TestSnapshotInstall2D (86.97s)
PASS
