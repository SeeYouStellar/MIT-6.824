=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 1 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 0 get outdate rpc reply from server 1
flag 59951 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 3897 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 4515971413531849521 (index 1) to leader 0
flag 75532 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 68491 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4515971413531849521 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4515971413531849521 1 1}]
------------------------------------------------------
flag 50259 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 49264 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4515971413531849521 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4515971413531849521 1 1}]
------------------------------------------------------
flag 28932 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 40925 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4515971413531849521 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4515971413531849521 1 1}]
------------------------------------------------------
flag 88378 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 79156 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4515971413531849521 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4515971413531849521 1 1}]
------------------------------------------------------
flag 76981 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 58990 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4515971413531849521 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4515971413531849521 1 1}]
------------------------------------------------------
flag 9089 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 62167 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4515971413531849521 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4515971413531849521 1 1}]
------------------------------------------------------
flag 81820 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 10722 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4515971413531849521 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4515971413531849521 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9095645341964708407 (index 2) to leader 0
flag 40105 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 21609 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {4515971413531849521 1 1} {9095645341964708407 1 2}]
------------------------------------------------------
flag 65264 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 28013 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {4515971413531849521 1 1} {9095645341964708407 1 2}]
------------------------------------------------------
client write log 1750836055874757862 (index 3) to leader 0
client write log 4905784405425649712 (index 4) to leader 0
client write log 474631743461478521 (index 5) to leader 0
client write log 4901665588082836515 (index 6) to leader 0
client write log 8006977402815240747 (index 7) to leader 0
client write log 4671982249662182801 (index 8) to leader 0
client write log 976774709863635044 (index 9) to leader 0
flag 83976 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 23413 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {4515971413531849521 1 1} {9095645341964708407 1 2} {1750836055874757862 1 3} {4905784405425649712 1 4} {474631743461478521 1 5} {4901665588082836515 1 6} {8006977402815240747 1 7} {4671982249662182801 1 8} {976774709863635044 1 9}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 2214 term 1 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 1 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8897681903633832740 (index 10) to leader 0
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 44418 term 1 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 1 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 2 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 2 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 1 vote for server 0
term 3 server 0 get outdate rpc reply from server 1
flag 79647 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 2607 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 11->10
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 56531 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 88944 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 60305 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 26233 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 2769 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 72977 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 62265 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 55797 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 90095 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 11367 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 54007 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 24668 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 31373 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 6472 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 83865 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 64976 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 15789 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 67566 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 18775 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 92212 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 77724 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 75073 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 52230 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 45001 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 37793 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 65351 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 27308 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 31337 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 64115 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 65096 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 15541 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
flag 92544 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 86939 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8897681903633832740 1 10}]
------------------------------------------------------
client write log 8897681903633832740 (index 11) to leader 0
flag 71138 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 81695 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
flag 32636 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 20474 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
flag 78722 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 48854 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20624 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 93955 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46878 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 28098 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
flag 122 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 59537 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
flag 49700 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 84822 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 22665 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 23001 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 49956 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 52556 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 91666 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 14492 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 31248 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 20184 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
term 4 server 1 vote for server 2
term 4 server 2 get vote from server 1
term 4 server 2 become leader
------------------------------------------------------
flag 58354 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 54148 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11}]
------------------------------------------------------
client write log 6765455147734511547 (index 12) to leader 2
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 70450 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 88576 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 74198 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12}]
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 46813 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 83067 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 49310 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12}]
------------------------------------------------------
client write log 5726699101015256672 (index 13) to leader 2
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 89079 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 18493 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 56839 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13}]
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 542 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 78988 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 77589 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8401501279205386254 (index 14) to leader 2
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 30504 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43922 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 26783 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32475 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 55776 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14}]
------------------------------------------------------
term 4 server 0 not vote for server 1, 任期不够新
term 4 server 1 get outdate rpc reply from server 0
flag 47615 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 56918 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14}]
------------------------------------------------------
flag 40224 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 9335 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14}]
------------------------------------------------------
flag 57992 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 93501 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14}]
------------------------------------------------------
flag 45062 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 32703 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14}]
------------------------------------------------------
term 4 server 2 not vote for server 1, 任期不够新
term 4 server 1 get outdate rpc reply from server 2
flag 41585 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 2399 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5614202286321511028 (index 15) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 15->14
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 0  matchIndex[0]: 14
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 58365 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14} {5614202286321511028 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 0  matchIndex[0]: 14
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 92379 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14} {5614202286321511028 4 15}]
------------------------------------------------------
client write log 304679628411255741 (index 16) to leader 2
client write log 6513670332164985604 (index 17) to leader 2
client write log 6126886936171425514 (index 18) to leader 2
client write log 6637095173225803029 (index 19) to leader 2
client write log 5133662917986865630 (index 20) to leader 2
client write log 3408023184656477537 (index 21) to leader 2
client write log 844571680325244450 (index 22) to leader 2
client write log 7968428590614888953 (index 23) to leader 2
term 4 leader 2 nextIndex[0]: 0  matchIndex[0]: 14
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 56164 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 1 9} {8897681903633832740 1 10} {8897681903633832740 3 11} {6765455147734511547 4 12} {5726699101015256672 4 13} {8401501279205386254 4 14} {5614202286321511028 4 15} {304679628411255741 4 16} {6513670332164985604 4 17} {6126886936171425514 4 18} {6637095173225803029 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=23
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 0  matchIndex[0]: 14
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 95275 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=23
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7696178716117941942 (index 24) to leader 2
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 1 not vote for server 0, 日志不够新
term 6 server 0 vote for server 2
term 6 server 1 vote for server 2
term 6 server 2 get vote from server 0
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 1
flag 62161 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 32139 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 25->24
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 25->24
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 15  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 89093 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
flag 34180 term 6 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 6 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 67728 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
flag 69213 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 42661 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95358 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 7216 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
flag 6535 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 27504 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
flag 77067 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 61117 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
flag 61908 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 23907 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
term 6 server 0 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 0
flag 5293 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 79175 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42296 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 28320 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17982 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 79657 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
flag 12733 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 61272 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
flag 21120 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 30413 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62526 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 52530 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
flag 69480 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 30684 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
flag 13119 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 5025 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
flag 12126 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 90592 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
flag 71722 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 58346 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58288 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 75974 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7696178716117941942 (index 25) to leader 2
flag 15864 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 90880 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20407 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 12410 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25}]
------------------------------------------------------
flag 66175 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 21163 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25}]
------------------------------------------------------
flag 82657 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 38387 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25}]
------------------------------------------------------
flag 63980 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 6083 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25}]
------------------------------------------------------
flag 20794 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 61651 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25}]
------------------------------------------------------
flag 40760 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 81356 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 392929508935363619 (index 26) to leader 2
flag 44003 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 84928 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25} {392929508935363619 6 26}]
------------------------------------------------------
flag 89558 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 6917 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25} {392929508935363619 6 26}]
------------------------------------------------------
client write log 6469711531002514148 (index 27) to leader 2
client write log 4138890433925828786 (index 28) to leader 2
client write log 2048710935231035516 (index 29) to leader 2
client write log 6188808535659713439 (index 30) to leader 2
client write log 1879427769840865434 (index 31) to leader 2
client write log 4302886907724245792 (index 32) to leader 2
client write log 8147456178313477838 (index 33) to leader 2
client write log 1068777996241844474 (index 34) to leader 2
client write log 1878641414533958734 (index 35) to leader 2
client write log 1545713901339848558 (index 36) to leader 2
flag 56549 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 74284 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 19} {5133662917986865630 4 20} {3408023184656477537 4 21} {844571680325244450 4 22} {7968428590614888953 4 23} {7696178716117941942 4 24} {7696178716117941942 6 25} {392929508935363619 6 26} {6469711531002514148 6 27} {4138890433925828786 6 28} {2048710935231035516 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=36
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 27878 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=36
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1629579823635167061 (index 37) to leader 2
term 6 server 1 not vote for server 0, 日志不够新
term 6 server 2 not vote for server 0, 日志不够新
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 12043 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 95271 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 38->37
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 38->37
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 26  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 97895 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
flag 63038 term 8 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 8 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 78040 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
flag 20512 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 40583 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
flag 59925 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 93561 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70114 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 77427 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12518 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 84962 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
flag 1301 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 49999 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11866 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 12736 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
flag 79979 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 26433 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
flag 88755 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 8756 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
flag 26979 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 58824 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
flag 6765 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 11399 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
flag 38892 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 15976 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97086 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 18034 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
flag 55855 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 234 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
flag 81580 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 14273 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
flag 18599 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 11428 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
flag 99357 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 11693 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
flag 93880 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 21899 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37}]
------------------------------------------------------
client write log 1629579823635167061 (index 38) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73727 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 82753 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53162 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 60205 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
flag 82823 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 2036 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
flag 15430 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 85445 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81583 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 37804 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11919 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 22853 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51460 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 15161 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 48766 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 7902 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 29095 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 84319 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14500 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 54159 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 0 vote for server 1
term 9 server 1 get vote from server 0
term 9 server 1 become leader
------------------------------------------------------
flag 51347 term 9 leader 1 nextIndex[0]: 39  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 26665 term 9 leader 1 nextIndex[2]: 39  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38}]
------------------------------------------------------
flag 59605 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 36822 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
client write log 3620097338507043072 (index 39) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1563 term 9 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 89628 term 9 leader 1 nextIndex[2]: 39  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 29} {6188808535659713439 6 30} {1879427769840865434 6 31} {4302886907724245792 6 32} {8147456178313477838 6 33} {1068777996241844474 6 34} {1878641414533958734 6 35} {1545713901339848558 6 36} {1629579823635167061 6 37} {1629579823635167061 8 38} {3620097338507043072 9 39}]
------------------------------------------------------
flag 87060 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 54249 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 9 Server1 start snapshot! index=39
term 9 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 11794 term 9 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 39  matchIndex[2]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
term 9 Server0 start snapshot! index=39
term 9 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 13083 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 53078 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
client write log 2953069198320388056 (index 40) to leader 1
flag 87477 term 9 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 39  matchIndex[2]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2953069198320388056 9 40}]
------------------------------------------------------
flag 89234 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 72158 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 39->38
------------------------------------------------------
flag 11139 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 39  matchIndex[2]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2953069198320388056 9 40}]
------------------------------------------------------
flag 44975 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 38
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
!!!!!!connect server 2
client write log 5648679283229251001 (index 41) to leader 1
flag 11915 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 39  matchIndex[2]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot success
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 9 rf.commitIndex 39 rf.lastApplied 39
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
flag 49454 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 5464 term 9 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
flag 7728 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 7679 term 9 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7839 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 60051 term 9 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
flag 50663 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 62744 term 9 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
flag 21022 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 94975 term 9 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 1 get outdate rpc reply from server 2
flag 96301 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 55460 term 9 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
flag 50310 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 96328 term 9 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3102164560747918458 (index 42) to leader 1
flag 31000 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 47256 term 9 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41} {3102164560747918458 9 42}]
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
flag 35544 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 15397 term 9 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41} {3102164560747918458 9 42}]
------------------------------------------------------
client write log 459973538596675438 (index 43) to leader 1
client write log 8379346278086615275 (index 44) to leader 1
client write log 1705054997671274090 (index 45) to leader 1
client write log 6699872807700491051 (index 46) to leader 1
client write log 3126851449944868938 (index 47) to leader 1
client write log 5495494231609275891 (index 48) to leader 1
client write log 9077300515408566529 (index 49) to leader 1
client write log 1593298864029124839 (index 50) to leader 1
client write log 8569739483822495077 (index 51) to leader 1
client write log 3218095132511447035 (index 52) to leader 1
client write log 4812441772892951711 (index 53) to leader 1
client write log 7380413513454518570 (index 54) to leader 1
client write log 1016285215170301174 (index 55) to leader 1
flag 40444 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 54664 term 9 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 39} {2953069198320388056 9 40} {5648679283229251001 9 41} {3102164560747918458 9 42} {459973538596675438 9 43} {8379346278086615275 9 44} {1705054997671274090 9 45} {6699872807700491051 9 46} {3126851449944868938 9 47} {5495494231609275891 9 48} {9077300515408566529 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=55
-------------------------------------------------------------
flag 12787 term 9 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 9 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=55
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4457373980131565596 (index 56) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 0 not vote for server 2, 日志不够新
term 9 server 1 not vote for server 2, 日志不够新
term 11 server 2 vote for server 1
term 11 server 0 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
term 11 server 1 get outdate rpc reply from server 0
flag 77176 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 70589 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 57->56
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 57->56
------------------------------------------------------
flag 79381 term 11 leader 1 nextIndex[0]: 56  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 42  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31484 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 34665 term 11 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
flag 87912 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 47046 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
flag 61051 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 66059 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17158 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 38167 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
flag 57638 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 41006 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
flag 98361 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 6690 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
flag 83470 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 28204 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
flag 89482 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 42051 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
flag 48068 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 96113 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
flag 2160 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 34021 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65345 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 85748 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83322 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 83360 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34479 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 23691 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
flag 1387 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 65024 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
flag 49890 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 21921 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
flag 50916 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 8354 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90992 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 71206 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56}]
------------------------------------------------------
client write log 4457373980131565596 (index 57) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41104 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 48223 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57}]
------------------------------------------------------
flag 51511 term 11 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 33031 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38961 term 11 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 82538 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57}]
------------------------------------------------------
flag 33537 term 11 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 64965 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57}]
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27795 term 11 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 39481 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57}]
------------------------------------------------------
flag 44993 term 11 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 29443 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 224114129941975408 (index 58) to leader 1
flag 16565 term 11 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 26262 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57} {224114129941975408 11 58}]
------------------------------------------------------
flag 39917 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 12350 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57} {224114129941975408 11 58}]
------------------------------------------------------
client write log 1577546416474504142 (index 59) to leader 1
client write log 7965527829464805572 (index 60) to leader 1
client write log 327747879275164826 (index 61) to leader 1
client write log 8133831911028426651 (index 62) to leader 1
client write log 2074369063416535091 (index 63) to leader 1
client write log 8299137542295468019 (index 64) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13080 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 25848 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 49} {1593298864029124839 9 50} {8569739483822495077 9 51} {3218095132511447035 9 52} {4812441772892951711 9 53} {7380413513454518570 9 54} {1016285215170301174 9 55} {4457373980131565596 9 56} {4457373980131565596 11 57} {224114129941975408 11 58} {1577546416474504142 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
flag 22070 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4733108669951404788 (index 65) to leader 1
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 vote for server 1
term 13 server 0 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 1 get outdate rpc reply from server 0
flag 50826 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 73165 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 66->65
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 66->65
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29168 term 13 leader 1 nextIndex[0]: 65  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 58  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
flag 96159 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 61961 term 13 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
flag 93304 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 22611 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
flag 5712 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 94189 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
flag 68474 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 21178 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
flag 72337 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 55085 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
flag 84470 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 68340 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89661 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 20119 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
flag 92469 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 77499 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67643 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 62272 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
flag 14992 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 11219 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
flag 33238 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 45750 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89460 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 98115 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58599 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 97358 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
flag 59983 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 43202 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
flag 4077 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 76493 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
flag 52116 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 93639 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
flag 91540 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 30176 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4586 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 94031 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65}]
------------------------------------------------------
client write log 4733108669951404788 (index 66) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27218 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 14315 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
flag 7786 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 63829 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
flag 50249 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 51531 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
flag 89895 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 87080 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
flag 42894 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 4912 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
flag 75655 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 59521 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
flag 69123 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 78057 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 4601 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 18096 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 2987 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 36350 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 19625 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 23263 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 14 server 0 vote for server 2
term 14 server 2 get vote from server 0
term 14 server 2 become leader
------------------------------------------------------
flag 84410 term 14 leader 2 nextIndex[0]: 67  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 42914 term 14 leader 2 nextIndex[1]: 67  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66}]
------------------------------------------------------
client write log 936933754817842686 (index 67) to leader 2
flag 96608 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 96304 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 77335 term 14 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 14 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 63898 term 14 leader 2 nextIndex[1]: 67  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66} {936933754817842686 14 67}]
------------------------------------------------------
flag 32925 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 32332 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 67->66
------------------------------------------------------
flag 94439 term 14 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 14 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 14 leaderCommit: 67 
------------------------------------------------------
flag 59564 term 14 leader 2 nextIndex[1]: 67  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 67 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66} {936933754817842686 14 67}]
------------------------------------------------------
client write log 7224522829376019304 (index 68) to leader 2
client write log 8322969125037787489 (index 69) to leader 2
client write log 3488316232983031796 (index 70) to leader 2
client write log 5105448775720212064 (index 71) to leader 2
client write log 4643947179616076534 (index 72) to leader 2
client write log 8441812745290135077 (index 73) to leader 2
client write log 1028645907292263808 (index 74) to leader 2
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 66
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 978 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 67->66
------------------------------------------------------
flag 88145 term 14 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 14 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 14 leaderCommit: 67 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 59} {7965527829464805572 11 60} {327747879275164826 11 61} {8133831911028426651 11 62} {2074369063416535091 11 63} {8299137542295468019 11 64} {4733108669951404788 11 65} {4733108669951404788 13 66} {936933754817842686 14 67} {7224522829376019304 14 68} {8322969125037787489 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 Server2 start snapshot! index=69
term 14 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=74
-------------------------------------------------------------
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 66
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 528 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 29933 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 Server0 start snapshot! index=69
term 14 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=74
-------------------------------------------------------------
!!!!!!connect server 1
client write log 518321728555927641 (index 67) to leader 1
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 66
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 47843 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41611 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 InstallSnapshot success
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 14 rf.commitIndex 69 rf.lastApplied 69
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79016 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 96409 term 14 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
flag 88954 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 42182 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
flag 58168 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 4758 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65457 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 77871 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
flag 55301 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 21088 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 75->74
------------------------------------------------------
flag 30922 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 0  matchIndex[1]: 74
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 74 args.LastIncludedIndex 69
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
flag 60862 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 58440 term 14 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99886 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 74137 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47128 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 30203 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
flag 13189 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 66552 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
flag 91333 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 26503 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
flag 58728 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 6383 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
flag 63016 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 21098 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
flag 81040 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 92769 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
flag 37304 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 82702 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
flag 56098 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 24866 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
flag 87827 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 21719 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
flag 64816 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 17044 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
flag 66389 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 66608 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74}]
------------------------------------------------------
client write log 518321728555927641 (index 75) to leader 2
flag 71396 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 76953 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75}]
------------------------------------------------------
flag 9639 term 14 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 78800 term 14 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6743 term 14 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 70618 term 14 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75}]
------------------------------------------------------
flag 41731 term 14 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 99895 term 14 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70245 term 14 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 25469 term 14 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81474 term 14 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 71638 term 14 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75}]
------------------------------------------------------
flag 43626 term 14 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 48569 term 14 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 46713305858472867 (index 76) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42103 term 14 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 5569 term 14 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75} {46713305858472867 14 76}]
------------------------------------------------------
flag 9090 term 14 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 28361 term 14 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75} {46713305858472867 14 76}]
------------------------------------------------------
client write log 2620265449559117251 (index 77) to leader 2
client write log 8158466934606032387 (index 78) to leader 2
client write log 2534539281960074506 (index 79) to leader 2
client write log 3880628576816035754 (index 80) to leader 2
client write log 450910511820932158 (index 81) to leader 2
client write log 2662878520639316969 (index 82) to leader 2
client write log 4478210085962845403 (index 83) to leader 2
client write log 9036919723579331555 (index 84) to leader 2
flag 16248 term 14 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 39524 term 14 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 14 69} {3488316232983031796 14 70} {5105448775720212064 14 71} {4643947179616076534 14 72} {8441812745290135077 14 73} {1028645907292263808 14 74} {518321728555927641 14 75} {46713305858472867 14 76} {2620265449559117251 14 77} {8158466934606032387 14 78} {2534539281960074506 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84}]
------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=84
-------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 65370 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=84
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1924655834696361204 (index 85) to leader 2
term 14 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 40107 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 15 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 vote for server 2
term 16 server 0 vote for server 2
term 16 server 2 get vote from server 0
term 16 server 2 become leader
------------------------------------------------------
term 16 server 2 get outdate rpc reply from server 1
flag 53329 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 47065 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 86->85
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
term 16 leader 2 nextIndex[0]: 76  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 50173 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
flag 95423 term 16 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 74501 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
flag 26685 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 62666 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
flag 71489 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 17157 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
flag 72214 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 79965 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
term 16 server 2 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 2
flag 18804 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 35764 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
flag 59158 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 61591 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
flag 35860 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 61938 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
flag 50051 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 31443 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
flag 19812 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 69381 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
flag 72399 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 9193 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
flag 13163 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 79434 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
term 16 server 1 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79900 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 9277 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48833 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 64750 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42838 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 15135 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
flag 22813 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 85912 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
flag 86532 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 28829 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
flag 48398 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 75103 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85}]
------------------------------------------------------
client write log 1924655834696361204 (index 86) to leader 2
flag 57140 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 1138 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86}]
------------------------------------------------------
flag 60232 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 90853 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86}]
------------------------------------------------------
flag 17674 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 68400 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86}]
------------------------------------------------------
flag 91189 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 82847 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86}]
------------------------------------------------------
flag 40872 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 62489 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86}]
------------------------------------------------------
flag 24852 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 64256 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86}]
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 716447290041983609 (index 87) to leader 2
flag 573 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 9893 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86} {716447290041983609 16 87}]
------------------------------------------------------
flag 77307 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
flag 68209 term 16 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86} {716447290041983609 16 87}]
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 3973980224811285983 (index 88) to leader 2
client write log 2050575638280839829 (index 89) to leader 2
client write log 8331600822146392714 (index 90) to leader 2
client write log 850026070318098146 (index 91) to leader 2
client write log 8489205456225437291 (index 92) to leader 2
client write log 413569844533447641 (index 93) to leader 2
client write log 8931009340350501906 (index 94) to leader 2
client write log 5330315935642185371 (index 95) to leader 2
client write log 7343633986110506379 (index 96) to leader 2
client write log 2284939282465218906 (index 97) to leader 2
client write log 6263388687468337356 (index 98) to leader 2
client write log 2885002324925697680 (index 99) to leader 2
client write log 7139356180087789084 (index 100) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32837 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
flag 22785 term 16 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 79} {3880628576816035754 14 80} {450910511820932158 14 81} {2662878520639316969 14 82} {4478210085962845403 14 83} {9036919723579331555 14 84} {1924655834696361204 14 85} {1924655834696361204 16 86} {716447290041983609 16 87} {3973980224811285983 16 88} {2050575638280839829 16 89} {8331600822146392714 16 90} {850026070318098146 16 91} {8489205456225437291 16 92} {413569844533447641 16 93} {8931009340350501906 16 94} {5330315935642185371 16 95} {7343633986110506379 16 96} {2284939282465218906 16 97} {6263388687468337356 16 98} {2885002324925697680 16 99} {7139356180087789084 16 100}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=100
-------------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=100
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 99166 term 16 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {7139356180087789084 16 100}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=100
-------------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=100
-------------------------------------------------------------
!!!!!!connect server 0
client write log 53517425604331927 (index 101) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 87->86
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 0  matchIndex[0]: 86
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 92185 term 16 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 17 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 0 vote for server 2
term 18 server 1 vote for server 2
term 18 server 2 get vote from server 0
term 18 server 2 become leader
------------------------------------------------------
term 18 server 2 get outdate rpc reply from server 1
flag 47560 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 71392 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 102->101
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 99575 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot success
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
flag 26199 term 18 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 56654 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66873 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 75858 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
flag 73139 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 42960 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
flag 15164 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 75174 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
flag 9692 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 22227 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
flag 30172 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 81414 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26515 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 26442 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 46044 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 3680 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 80149 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 2116 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 1
flag 97681 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 86117 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 19 server 1 vote for server 0
term 19 server 0 get vote from server 1
term 19 server 0 become leader
------------------------------------------------------
client write log 7700468375475674019 (index 102) to leader 0
flag 7030 term 19 leader 0 nextIndex[1]: 102  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 3363 term 19 leader 0 nextIndex[2]: 102  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101} {7700468375475674019 19 102}]
------------------------------------------------------
flag 10816 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 94265 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 40869 term 19 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 19 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 19 leaderCommit: 102 
------------------------------------------------------
flag 45186 term 19 leader 0 nextIndex[2]: 102  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101} {7700468375475674019 19 102}]
------------------------------------------------------
client write log 5545968892474158405 (index 103) to leader 0
client write log 6040270009576968521 (index 104) to leader 0
client write log 5512260310818957501 (index 105) to leader 0
client write log 1726643308867649842 (index 106) to leader 0
client write log 2183608385432579581 (index 107) to leader 0
client write log 7106688585855706057 (index 108) to leader 0
client write log 7692721920816835578 (index 109) to leader 0
client write log 2114567754834450827 (index 110) to leader 0
client write log 8497650551573624556 (index 111) to leader 0
client write log 7163563620832217651 (index 112) to leader 0
client write log 6097832224189901992 (index 113) to leader 0
client write log 2674219851300811252 (index 114) to leader 0
flag 5752 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 72359 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 102->101
------------------------------------------------------
flag 36978 term 19 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 19 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 19 leaderCommit: 102 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 99} {7139356180087789084 16 100} {53517425604331927 16 101} {7700468375475674019 19 102} {5545968892474158405 19 103} {6040270009576968521 19 104} {5512260310818957501 19 105} {1726643308867649842 19 106} {2183608385432579581 19 107} {7106688585855706057 19 108} {7692721920816835578 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=114
-------------------------------------------------------------
flag 97958 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 93298 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 54034 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=114
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1794764520625264204 (index 102) to leader 2
flag 58838 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 36006 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 19 server 1 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
term 19 server 0 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23284 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
flag 95588 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 3663 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
flag 87431 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 71290 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
flag 9739 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 18082 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
flag 24031 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 96715 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
term 19 server 2 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 2
flag 5682 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 92264 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
flag 32751 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 32258 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
flag 78486 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 62411 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
flag 93855 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 69632 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39396 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 58337 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57799 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 35691 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 115->114
------------------------------------------------------
flag 27702 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 114
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 114 args.LastIncludedIndex 109
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
flag 66793 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 53759 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
flag 3204 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 1680 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
flag 63813 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 91955 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
flag 93842 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 52227 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
flag 84012 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 7601 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
flag 94428 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 37572 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
flag 87880 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 20669 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1794764520625264204 (index 115) to leader 0
flag 72844 term 19 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 21157 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115}]
------------------------------------------------------
flag 27602 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 25592 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115}]
------------------------------------------------------
flag 92885 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 11496 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115}]
------------------------------------------------------
flag 8679 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 1021 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
flag 14059 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 33502 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115}]
------------------------------------------------------
flag 13784 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 51725 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90383 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 89306 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4998412317613359435 (index 116) to leader 0
flag 1341 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 71947 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115} {4998412317613359435 19 116}]
------------------------------------------------------
flag 9152 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 25481 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115} {4998412317613359435 19 116}]
------------------------------------------------------
client write log 6292125693549020049 (index 117) to leader 0
client write log 1842498431006902470 (index 118) to leader 0
client write log 8942551204766284440 (index 119) to leader 0
client write log 4442017013694517746 (index 120) to leader 0
client write log 8079870022814105625 (index 121) to leader 0
client write log 8677270077818185608 (index 122) to leader 0
client write log 4928265446600086478 (index 123) to leader 0
client write log 3743752241790946116 (index 124) to leader 0
client write log 520777852503304435 (index 125) to leader 0
client write log 5914514913645209261 (index 126) to leader 0
client write log 1625151480412076164 (index 127) to leader 0
client write log 3843186366674674749 (index 128) to leader 0
client write log 5620826284749108802 (index 129) to leader 0
client write log 329751584382192860 (index 130) to leader 0
flag 65759 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 51192 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 109} {2114567754834450827 19 110} {8497650551573624556 19 111} {7163563620832217651 19 112} {6097832224189901992 19 113} {2674219851300811252 19 114} {1794764520625264204 19 115} {4998412317613359435 19 116} {6292125693549020049 19 117} {1842498431006902470 19 118} {8942551204766284440 19 119} {4442017013694517746 19 120} {8079870022814105625 19 121} {8677270077818185608 19 122} {4928265446600086478 19 123} {3743752241790946116 19 124} {520777852503304435 19 125} {5914514913645209261 19 126} {1625151480412076164 19 127} {3843186366674674749 19 128} {5620826284749108802 19 129} {329751584382192860 19 130}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=130
-------------------------------------------------------------
term 19 Server0 start snapshot! index=129
term 19 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 44950 term 19 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 19 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {329751584382192860 19 130}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=130
-------------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6261100102878663217 (index 131) to leader 0
term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 93321 term 19 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 19 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 20 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
update nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 server 0 not vote for server 1, 日志不够新
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 1 vote for server 0
term 21 server 0 get outdate rpc reply from server 1
flag 47102 term 21 leader 0 nextIndex[1]: 132  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 24640 term 21 leader 0 nextIndex[2]: 132  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 132->131
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 87690 term 21 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 19 rf.commitIndex 129 rf.lastApplied 129
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26454 term 21 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 21 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 23643 term 21 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
flag 5834 term 21 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 76120 term 21 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 2 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 2
flag 29112 term 21 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 11139 term 21 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
flag 55414 term 21 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 23195 term 21 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
flag 94252 term 21 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 28235 term 21 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
flag 8319 term 21 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 42963 term 21 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8381474526437737261 (index 132) to leader 0
flag 29619 term 21 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 86594 term 21 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131} {8381474526437737261 21 132}]
------------------------------------------------------
flag 76216 term 21 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 13690 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131} {8381474526437737261 21 132}]
------------------------------------------------------
client write log 7209000261285647623 (index 133) to leader 0
client write log 578756624958657891 (index 134) to leader 0
client write log 3131749320184725011 (index 135) to leader 0
client write log 628046242907067720 (index 136) to leader 0
client write log 8908519290656870073 (index 137) to leader 0
client write log 4308007226218900643 (index 138) to leader 0
client write log 9077683236285064922 (index 139) to leader 0
client write log 728657760630487627 (index 140) to leader 0
client write log 1971460886631222778 (index 141) to leader 0
client write log 7648401351177826202 (index 142) to leader 0
client write log 3306749003872478698 (index 143) to leader 0
client write log 8774741727310450270 (index 144) to leader 0
client write log 1983125583499401543 (index 145) to leader 0
client write log 8631167241998896188 (index 146) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51550 term 21 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 33957 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 129} {329751584382192860 19 130} {6261100102878663217 19 131} {8381474526437737261 21 132} {7209000261285647623 21 133} {578756624958657891 21 134} {3131749320184725011 21 135} {628046242907067720 21 136} {8908519290656870073 21 137} {4308007226218900643 21 138} {9077683236285064922 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146}]
------------------------------------------------------
term 21 Server0 start snapshot! index=139
term 21 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=146
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 20981 term 21 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 21 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 21 leaderCommit: 146 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146}]
------------------------------------------------------
term 21 Server2 start snapshot! index=139
term 21 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=146
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2596576186599038929 (index 147) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 50069 term 21 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 21 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 21 leaderCommit: 146 
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 1 vote for server 0
term 23 server 0 get outdate rpc reply from server 1
flag 32820 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 17644 term 23 leader 0 nextIndex[2]: 148  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 148->147
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 132  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 90594 term 23 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 21 rf.commitIndex 139 rf.lastApplied 139
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
flag 46394 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 9196 term 23 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:147 
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
flag 9302 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 14876 term 23 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44968 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 15873 term 23 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
flag 7554 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 73722 term 23 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
flag 30990 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 15702 term 23 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
flag 57947 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 29141 term 23 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 12273 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 17686 term 23 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 35960 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 12065 term 23 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 10973 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 76820 term 23 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 24 server 2 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 1 become leader
------------------------------------------------------
flag 83343 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 68470 term 23 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 16562 term 24 leader 1 nextIndex[0]: 148  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 79881 term 24 leader 1 nextIndex[2]: 148  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147}]
------------------------------------------------------
client write log 1018895269990703454 (index 148) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 148->147
------------------------------------------------------
flag 3056 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 leader 0 nextIndex[2]: 0  matchIndex[2]: 147
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 73650 term 24 leader 1 nextIndex[0]: 148  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 82132 term 24 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 24 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147} {1018895269990703454 24 148}]
------------------------------------------------------
flag 33926 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 leader 0 nextIndex[2]: 0  matchIndex[2]: 147
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 79485 term 24 leader 1 nextIndex[0]: 148  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 95853 term 24 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 24 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 24 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147} {1018895269990703454 24 148}]
------------------------------------------------------
client write log 1552672702360418495 (index 149) to leader 1
client write log 1355828616205648834 (index 150) to leader 1
client write log 188538116969756632 (index 151) to leader 1
client write log 1716148572794151269 (index 152) to leader 1
client write log 8257875728114272562 (index 153) to leader 1
client write log 4511868077368268042 (index 154) to leader 1
client write log 7934427046279867256 (index 155) to leader 1
client write log 5012603969249790201 (index 156) to leader 1
client write log 6375060693388692365 (index 157) to leader 1
client write log 1601815192719903825 (index 158) to leader 1
client write log 1542949480241420584 (index 159) to leader 1
client write log 4825612581065757522 (index 160) to leader 1
client write log 8437926448939863678 (index 161) to leader 1
client write log 854882150386868782 (index 162) to leader 1
client write log 7094376973435671763 (index 163) to leader 1
flag 77639 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 leader 0 nextIndex[2]: 0  matchIndex[2]: 147
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 66591 term 24 leader 1 nextIndex[0]: 148  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 41868 term 24 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 24 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 24 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 21 139} {728657760630487627 21 140} {1971460886631222778 21 141} {7648401351177826202 21 142} {3306749003872478698 21 143} {8774741727310450270 21 144} {1983125583499401543 21 145} {8631167241998896188 21 146} {2596576186599038929 21 147} {1018895269990703454 24 148} {1552672702360418495 24 149} {1355828616205648834 24 150} {188538116969756632 24 151} {1716148572794151269 24 152} {8257875728114272562 24 153} {4511868077368268042 24 154} {7934427046279867256 24 155} {5012603969249790201 24 156} {6375060693388692365 24 157} {1601815192719903825 24 158} {1542949480241420584 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163}]
------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=163
-------------------------------------------------------------
term 24 Server1 start snapshot! index=159
term 24 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=163
-------------------------------------------------------------
flag 50801 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 leader 0 nextIndex[2]: 0  matchIndex[2]: 147
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 148  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 55047 term 24 leader 1 nextIndex[2]: 164  matchIndex[2]: 163
term 24 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=163
-------------------------------------------------------------
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=163
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6397045481157748369 (index 164) to leader 1
flag 4487 term 23 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 23 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 leader 0 nextIndex[2]: 0  matchIndex[2]: 147
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
term 23 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 148  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 7087 term 24 leader 1 nextIndex[2]: 164  matchIndex[2]: 163
term 24 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164}]
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 2 not vote for server 0, 日志不够新
term 24 server 1 not vote for server 0, 日志不够新
term 26 server 2 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
term 26 server 0 vote for server 1
term 26 server 1 get outdate rpc reply from server 0
flag 55241 term 26 leader 1 nextIndex[0]: 165  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 40908 term 26 leader 1 nextIndex[2]: 165  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 165->164
------------------------------------------------------
flag 88650 term 26 leader 1 nextIndex[0]: 160  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 15660 term 26 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 2
flag 91850 term 26 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 74892 term 26 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164}]
------------------------------------------------------
flag 3977 term 26 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 26730 term 26 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164}]
------------------------------------------------------
flag 82591 term 26 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 51062 term 26 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164}]
------------------------------------------------------
flag 42033 term 26 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 88876 term 26 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93825 term 26 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 10410 term 26 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3437654350839897811 (index 165) to leader 1
flag 75723 term 26 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 50195 term 26 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164} {3437654350839897811 26 165}]
------------------------------------------------------
flag 45975 term 26 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 26 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 165 
------------------------------------------------------
flag 97450 term 26 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164} {3437654350839897811 26 165}]
------------------------------------------------------
client write log 7489545905682152828 (index 166) to leader 1
client write log 2259139343185054765 (index 167) to leader 1
client write log 6215321346622712268 (index 168) to leader 1
client write log 3179931285686873053 (index 169) to leader 1
client write log 5174266424697301228 (index 170) to leader 1
client write log 6901951023471956047 (index 171) to leader 1
client write log 6101882799635065412 (index 172) to leader 1
client write log 1755977158427636087 (index 173) to leader 1
client write log 4134776327250812472 (index 174) to leader 1
client write log 1657408581579726334 (index 175) to leader 1
client write log 6269288411818688517 (index 176) to leader 1
client write log 5682852669361121904 (index 177) to leader 1
client write log 3532114227220430711 (index 178) to leader 1
client write log 912022749106457651 (index 179) to leader 1
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32722 term 26 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 26 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 165 
------------------------------------------------------
flag 79890 term 26 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 24 159} {4825612581065757522 24 160} {8437926448939863678 24 161} {854882150386868782 24 162} {7094376973435671763 24 163} {6397045481157748369 24 164} {3437654350839897811 26 165} {7489545905682152828 26 166} {2259139343185054765 26 167} {6215321346622712268 26 168} {3179931285686873053 26 169} {5174266424697301228 26 170} {6901951023471956047 26 171} {6101882799635065412 26 172} {1755977158427636087 26 173} {4134776327250812472 26 174} {1657408581579726334 26 175} {6269288411818688517 26 176} {5682852669361121904 26 177} {3532114227220430711 26 178} {912022749106457651 26 179}]
------------------------------------------------------
term 26 Server1 start snapshot! index=169
term 26 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=179
-------------------------------------------------------------
term 26 Server1 start snapshot! index=179
term 26 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71022 term 26 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 26 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 26 179}]
------------------------------------------------------
term 26 Server0 start snapshot! index=169
term 26 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=179
-------------------------------------------------------------
term 26 Server0 start snapshot! index=179
term 26 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7792571365036867047 (index 180) to leader 1
term 26 server 1 not vote for server 2, 日志不够新
term 26 server 0 not vote for server 2, 日志不够新
term 28 server 2 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
term 28 server 0 vote for server 1
term 28 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72798 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 50309 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 181->180
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 181->180
------------------------------------------------------
term 28 server 2 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 2
flag 94312 term 28 leader 1 nextIndex[0]: 180  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 165  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 26 rf.commitIndex 179 rf.lastApplied 179
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5867 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 84726 term 28 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 28 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
flag 52528 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 65030 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
flag 95078 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 1523 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26683 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 20345 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
flag 97163 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 920 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43372 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 5691 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
flag 22236 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 16483 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
flag 69434 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 13235 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
flag 53158 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 97934 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56021 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 1575 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
flag 77945 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 92241 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14604 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 38331 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
flag 33417 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 30499 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
flag 94851 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 71793 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28858 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 4723 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
flag 78387 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 93707 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
flag 12766 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 19826 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {7792571365036867047 26 180}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7792571365036867047 (index 181) to leader 1
flag 54458 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 46085 term 28 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181}]
------------------------------------------------------
flag 67425 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 45044 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181}]
------------------------------------------------------
flag 85988 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 94895 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75162 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 8429 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181}]
------------------------------------------------------
term 28 server 0 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 0
flag 36359 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 90517 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
term 28 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62370 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 56164 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181}]
------------------------------------------------------
flag 94822 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 90264 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 77678684711174715 (index 182) to leader 1
flag 23777 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 68177 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181} {77678684711174715 28 182}]
------------------------------------------------------
flag 7284 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 32224 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181} {77678684711174715 28 182}]
------------------------------------------------------
client write log 1979087098941470254 (index 183) to leader 1
client write log 60659763117096513 (index 184) to leader 1
client write log 5716466656628424447 (index 185) to leader 1
client write log 1144115072850212819 (index 186) to leader 1
client write log 2299201621637073973 (index 187) to leader 1
client write log 270977855892327483 (index 188) to leader 1
client write log 6671503345395860176 (index 189) to leader 1
flag 4271 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 23072 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 179} {7792571365036867047 26 180} {7792571365036867047 28 181} {77678684711174715 28 182} {1979087098941470254 28 183} {60659763117096513 28 184} {5716466656628424447 28 185} {1144115072850212819 28 186} {2299201621637073973 28 187} {270977855892327483 28 188} {6671503345395860176 28 189}]
------------------------------------------------------
term 28 Server1 start snapshot! index=189
term 28 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
flag 54348 term 28 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 28 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 28 189}]
------------------------------------------------------
term 28 Server0 start snapshot! index=189
term 28 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
!!!!!!connect server 2
client write log 641638283186419611 (index 190) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79136 term 28 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 28 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
term 29 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 2 vote for server 1
term 30 server 1 get vote from server 2
term 30 server 1 become leader
------------------------------------------------------
term 30 server 0 vote for server 1
term 30 server 1 get outdate rpc reply from server 0
flag 16193 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 72359 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 191->190
------------------------------------------------------
flag 84854 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 0
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
term 30 server 2 InstallSnapshot success
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 28 rf.commitIndex 189 rf.lastApplied 189
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
flag 4401 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 76379 term 30 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 30 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 0 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 0
flag 31444 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 14971 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
flag 59997 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 41983 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
flag 2109 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 18032 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
flag 92620 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 82076 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
flag 23449 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 84634 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57393 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 99518 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26520 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 52599 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
flag 95132 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 58093 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
flag 38547 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 65758 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49284 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 41586 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
flag 98975 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 68083 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
flag 11777 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 95736 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
flag 38660 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 22185 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52025 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 44788 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36887 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 26220 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71404 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 50657 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 28 189} {641638283186419611 28 190}]
------------------------------------------------------
client write log 641638283186419611 (index 191) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91628 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
flag 17555 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 28 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191}]
------------------------------------------------------
flag 65515 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 85540 term 30 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191}]
------------------------------------------------------
flag 28165 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 70227 term 30 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191}]
------------------------------------------------------
flag 49303 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 18876 term 30 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191}]
------------------------------------------------------
flag 58070 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 55476 term 30 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191}]
------------------------------------------------------
flag 35460 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 23223 term 30 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191}]
------------------------------------------------------
flag 14569 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 64775 term 30 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 58897 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 51266 term 30 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6267 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 50930 term 30 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 49641 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 5163 term 30 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
client write log 1458413109571433767 (index 192) to leader 0
flag 88618 term 31 leader 0 nextIndex[1]: 192  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 24341 term 31 leader 0 nextIndex[2]: 192  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192}]
------------------------------------------------------
flag 42766 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 53793 term 30 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 46737 term 31 leader 0 nextIndex[1]: 192  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 3336 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192}]
------------------------------------------------------
client write log 2672339901997548774 (index 193) to leader 0
flag 56300 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 99028 term 30 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 99199 term 31 leader 0 nextIndex[1]: 192  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 66943 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
flag 4758 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 31928 term 30 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 66402 term 31 leader 0 nextIndex[1]: 192  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 8225 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5011823921669109128 (index 192) to leader 1
flag 73764 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 80133 term 30 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 31 server 2 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 31 server 0 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66270 term 31 leader 0 nextIndex[1]: 192  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 33293 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
flag 27104 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 11873 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
flag 98222 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 44492 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
flag 82730 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 45843 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
flag 57347 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 99542 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
flag 24941 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 57813 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98041 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 43128 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 server 1 not vote for server 0, 日志不够新
term 31 server 0 get outdate rpc reply from server 1
flag 21716 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 8881 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36685 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 68266 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44886 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 11171 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
flag 36077 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 44436 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
flag 65809 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 140 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55060 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 22359 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
flag 47393 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 12569 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
flag 47909 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 47291 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 server 0 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 0
flag 97409 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 68483 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87184 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 55135 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
flag 36189 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 59405 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
flag 38522 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 34817 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
flag 91852 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 62098 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193}]
------------------------------------------------------
client write log 5011823921669109128 (index 194) to leader 0
flag 75278 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 73338 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194}]
------------------------------------------------------
flag 31335 term 31 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 23108 term 31 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 195->194
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 194
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
flag 79215 term 31 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 1 InstallSnapshot fail
rf.commitIndex 194 args.LastIncludedIndex 189
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194}]
------------------------------------------------------
flag 9131 term 31 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 31 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 28 leaderCommit: 194 
------------------------------------------------------
flag 84180 term 31 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194}]
------------------------------------------------------
flag 98112 term 31 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 86468 term 31 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 195->194
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 194
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
flag 26123 term 31 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 1 InstallSnapshot fail
rf.commitIndex 194 args.LastIncludedIndex 189
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194}]
------------------------------------------------------
flag 75596 term 31 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 31 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 28 leaderCommit: 194 
------------------------------------------------------
flag 58132 term 31 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8004596343755633522 (index 195) to leader 0
flag 24739 term 31 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 95747 term 31 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194} {8004596343755633522 31 195}]
------------------------------------------------------
flag 44604 term 31 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 64991 term 31 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194} {8004596343755633522 31 195}]
------------------------------------------------------
client write log 2053853518759714533 (index 196) to leader 0
client write log 5458057167556435215 (index 197) to leader 0
client write log 8172416003981961793 (index 198) to leader 0
client write log 1027362414643808928 (index 199) to leader 0
client write log 9075045732126553071 (index 200) to leader 0
client write log 8156778639622863508 (index 201) to leader 0
client write log 9103898387671531271 (index 202) to leader 0
client write log 6580747505990138311 (index 203) to leader 0
client write log 4835457494053170023 (index 204) to leader 0
client write log 2086938701815487295 (index 205) to leader 0
client write log 2831341498980710906 (index 206) to leader 0
flag 52151 term 31 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 32551 term 31 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 28 189} {641638283186419611 28 190} {641638283186419611 30 191} {1458413109571433767 31 192} {2672339901997548774 31 193} {5011823921669109128 31 194} {8004596343755633522 31 195} {2053853518759714533 31 196} {5458057167556435215 31 197} {8172416003981961793 31 198} {1027362414643808928 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206}]
------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=206
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 3983 term 31 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 206 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206}]
------------------------------------------------------
term 31 Server2 start snapshot! index=199
term 31 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=206
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 8496554636923390756 (index 207) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 33806 term 31 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 206 
------------------------------------------------------
term 32 server 1 InstallSnapshot false 领导者任期过期
term 31 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 0
term 33 server 1 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 0 get outdate rpc reply from server 1
flag 88666 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 46640 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 208->207
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 77499 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 31 rf.commitIndex 199 rf.lastApplied 199
term 33 server 2 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 2
flag 26361 term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 32356 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83515 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 97984 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
flag 15308 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 53529 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
flag 83785 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 59774 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
flag 41230 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 47840 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
flag 34458 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 93247 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5171128171025784447 (index 208) to leader 0
flag 58030 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 58640 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207} {5171128171025784447 33 208}]
------------------------------------------------------
flag 56257 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
flag 55922 term 33 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207} {5171128171025784447 33 208}]
------------------------------------------------------
client write log 5358188064868456637 (index 209) to leader 0
client write log 4683624572173239506 (index 210) to leader 0
client write log 3775286466795016884 (index 211) to leader 0
client write log 3220891627382251847 (index 212) to leader 0
client write log 507701673727366345 (index 213) to leader 0
client write log 8889646337483288834 (index 214) to leader 0
flag 81774 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
flag 8261 term 33 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 199} {9075045732126553071 31 200} {8156778639622863508 31 201} {9103898387671531271 31 202} {6580747505990138311 31 203} {4835457494053170023 31 204} {2086938701815487295 31 205} {2831341498980710906 31 206} {8496554636923390756 31 207} {5171128171025784447 33 208} {5358188064868456637 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214}]
------------------------------------------------------
term 33 Server0 start snapshot! index=209
term 33 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=214
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 23019 term 33 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214}]
------------------------------------------------------
term 33 Server2 start snapshot! index=209
term 33 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=214
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2362065458569469856 (index 215) to leader 0
term 33 server 2 not vote for server 1, 日志不够新
term 33 server 0 not vote for server 1, 日志不够新
term 35 server 2 vote for server 0
term 35 server 1 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 0 get outdate rpc reply from server 1
flag 69418 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 51314 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 216->215
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 216->215
------------------------------------------------------
term 35 server 1 not vote for server 2, 任期不够新
term 35 server 2 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 81831 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 33 rf.commitIndex 209 rf.lastApplied 209
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76447 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 98598 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
flag 13502 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 17255 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
flag 77103 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 3320 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
flag 75128 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 20372 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42169 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 58355 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
flag 17676 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 57176 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
flag 54373 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 53040 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
flag 40140 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 58529 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92988 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 66678 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
flag 1030 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 18614 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
flag 79480 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 81720 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10822 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 47545 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
flag 65211 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 3176 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40984 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 3701 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
flag 16094 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 23402 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
flag 51860 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 91553 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
flag 10382 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 80254 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2362065458569469856 (index 216) to leader 0
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66241 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 11615 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216}]
------------------------------------------------------
flag 58990 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 50754 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216}]
------------------------------------------------------
flag 88629 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 84530 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216}]
------------------------------------------------------
flag 78876 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 2639 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216}]
------------------------------------------------------
flag 58804 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 83538 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47194 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 94283 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216}]
------------------------------------------------------
flag 23550 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 57081 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 36067 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 92868 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 95195 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 27951 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 66655 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 71450 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 36 server 1 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
client write log 1008937332479020525 (index 217) to leader 2
flag 54881 term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 33789 term 36 leader 2 nextIndex[1]: 217  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216} {1008937332479020525 36 217}]
------------------------------------------------------
flag 9337 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 55604 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 217->216
------------------------------------------------------
flag 57380 term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 44454 term 36 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 36 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216} {1008937332479020525 36 217}]
------------------------------------------------------
client write log 7182073088155845143 (index 218) to leader 2
term 35 leader 0 nextIndex[1]: 0  matchIndex[1]: 216
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 74441 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 17652 term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 2678 term 36 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 36 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216} {1008937332479020525 36 217} {7182073088155845143 36 218}]
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 0  matchIndex[1]: 216
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 43369 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 37713 term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 4130 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 218 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216} {1008937332479020525 36 217} {7182073088155845143 36 218}]
------------------------------------------------------
!!!!!!connect server 0
client write log 146153376846854397 (index 219) to leader 2
term 35 leader 0 nextIndex[1]: 0  matchIndex[1]: 216
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 60136 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 36 server 2 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
term 36 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10879 term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 49941 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 218 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216} {1008937332479020525 36 217} {7182073088155845143 36 218} {146153376846854397 36 219}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 209} {4683624572173239506 33 210} {3775286466795016884 33 211} {3220891627382251847 33 212} {507701673727366345 33 213} {8889646337483288834 33 214} {2362065458569469856 33 215} {2362065458569469856 35 216} {1008937332479020525 36 217} {7182073088155845143 36 218} {146153376846854397 36 219}]
------------------------------------------------------
term 36 Server2 start snapshot! index=219
term 36 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8519 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 90025 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
term 36 Server1 start snapshot! index=219
term 36 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 36 Server0 start snapshot! index=219
term 36 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 70336 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 51839 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
flag 44437 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 44565 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
flag 5099 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 90689 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
flag 76159 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 83754 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8729229147728039565 (index 220) to leader 2
flag 87441 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 59986 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 36 219} {8729229147728039565 36 220}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91191 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 220 
------------------------------------------------------
flag 51109 term 36 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 36 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 36 219} {8729229147728039565 36 220}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1216074552236276506 (index 221) to leader 2
client write log 5286617998709642095 (index 222) to leader 2
client write log 6832219726815150351 (index 223) to leader 2
client write log 5382547527563529267 (index 224) to leader 2
client write log 885485892447015538 (index 225) to leader 2
client write log 2462207344497273783 (index 226) to leader 2
client write log 1848123137018536213 (index 227) to leader 2
client write log 4523904226171846380 (index 228) to leader 2
client write log 4708289388385527940 (index 229) to leader 2
client write log 1249363886393773053 (index 230) to leader 2
client write log 4233634411825896358 (index 231) to leader 2
client write log 8170042754014718412 (index 232) to leader 2
client write log 2053974134764361088 (index 233) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62930 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 220 
------------------------------------------------------
flag 5143 term 36 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 36 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 36 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 219} {8729229147728039565 36 220} {1216074552236276506 36 221} {5286617998709642095 36 222} {6832219726815150351 36 223} {5382547527563529267 36 224} {885485892447015538 36 225} {2462207344497273783 36 226} {1848123137018536213 36 227} {4523904226171846380 36 228} {4708289388385527940 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233}]
------------------------------------------------------
term 36 Server2 start snapshot! index=229
term 36 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=233
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 84293 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233}]
------------------------------------------------------
term 36 Server1 start snapshot! index=229
term 36 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=233
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7691449204308610781 (index 234) to leader 2
term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 50934 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 37 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 2 get outdate rpc reply from server 0
flag 12615 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 66628 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 235->234
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 69494 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 36 rf.commitIndex 229 rf.lastApplied 229
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
flag 14123 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 37092 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
flag 43329 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 64172 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60326 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 76706 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
flag 87581 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 59846 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
flag 48988 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 12258 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
flag 63151 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 16095 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80606 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 18831 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
flag 42645 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 55006 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
flag 75037 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 46777 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26051 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 60953 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
flag 50832 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 16536 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 server 0 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 0
flag 42657 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 27776 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11197 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 20486 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
flag 45169 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 41334 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
flag 14688 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 65224 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
flag 11715 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 98762 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
flag 43453 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 90476 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234}]
------------------------------------------------------
client write log 7691449204308610781 (index 235) to leader 2
flag 92405 term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 13582 term 38 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4843 term 38 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
flag 86105 term 38 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72425 term 38 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
flag 26971 term 38 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235}]
------------------------------------------------------
flag 19726 term 38 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
flag 56971 term 38 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235}]
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235}]
------------------------------------------------------
flag 5721 term 38 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
flag 28044 term 38 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235}]
------------------------------------------------------
flag 15633 term 38 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
flag 92823 term 38 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235}]
------------------------------------------------------
flag 35438 term 38 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
flag 82343 term 38 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8141367607553078899 (index 236) to leader 2
flag 98037 term 38 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
flag 45994 term 38 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235} {8141367607553078899 38 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64291 term 38 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 24207 term 38 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 38 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235} {8141367607553078899 38 236}]
------------------------------------------------------
client write log 6518976635542392582 (index 237) to leader 2
client write log 7071197688692782148 (index 238) to leader 2
client write log 2609223706741965874 (index 239) to leader 2
client write log 5656291970197073179 (index 240) to leader 2
client write log 6142933256558372283 (index 241) to leader 2
client write log 4692000477475511517 (index 242) to leader 2
client write log 2039590781191048999 (index 243) to leader 2
client write log 5703393324562704350 (index 244) to leader 2
client write log 3256151039352979783 (index 245) to leader 2
flag 65258 term 38 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 1684 term 38 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 38 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 229} {1249363886393773053 36 230} {4233634411825896358 36 231} {8170042754014718412 36 232} {2053974134764361088 36 233} {7691449204308610781 36 234} {7691449204308610781 38 235} {8141367607553078899 38 236} {6518976635542392582 38 237} {7071197688692782148 38 238} {2609223706741965874 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245}]
------------------------------------------------------
term 38 Server2 start snapshot! index=239
term 38 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=245
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 72639 term 38 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 38 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245}]
------------------------------------------------------
term 38 Server1 start snapshot! index=239
term 38 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=245
-------------------------------------------------------------
!!!!!!connect server 0
client write log 351742888119811931 (index 246) to leader 2
term 38 server 2 not vote for server 0, 日志不够新
term 38 server 1 not vote for server 0, 日志不够新
term 40 server 1 vote for server 2
term 40 server 0 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 2 get outdate rpc reply from server 0
flag 46583 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 77085 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 247->246
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 247->246
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 236  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 3975 term 40 leader 2 nextIndex[1]: 246  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 38 rf.commitIndex 239 rf.lastApplied 239
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
flag 48325 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 17263 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
flag 20149 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 67844 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13773 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 36459 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61255 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 58455 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
flag 60851 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 82035 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84588 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 52316 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
flag 75991 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 65718 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
flag 90706 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 22006 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
flag 71460 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 50644 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12452 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 10830 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
flag 92291 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 20828 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
flag 31639 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 43415 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
flag 47517 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 87058 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
flag 89150 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 91819 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59898 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 8930 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70973 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 52107 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40188 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 50701 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
flag 46731 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 2978 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246}]
------------------------------------------------------
term 40 server 0 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 0
client write log 351742888119811931 (index 247) to leader 2
flag 5552 term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
flag 51264 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247}]
------------------------------------------------------
flag 72064 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
flag 6414 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247}]
------------------------------------------------------
flag 10246 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
flag 61058 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247}]
------------------------------------------------------
term 40 server 1 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 1
flag 76511 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
flag 13048 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247}]
------------------------------------------------------
flag 39904 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
flag 12675 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247}]
------------------------------------------------------
flag 96302 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
flag 34732 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 59675 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
flag 33786 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
flag 43646 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
flag 93392 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 248->247
------------------------------------------------------
flag 97763 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 0  matchIndex[1]: 247
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 248->247
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 247
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 0  matchIndex[1]: 247
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 41 server 1 vote for server 0
term 41 server 0 get vote from server 1
term 41 server 0 become leader
------------------------------------------------------
flag 14763 term 41 leader 0 nextIndex[1]: 248  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
flag 44196 term 41 leader 0 nextIndex[2]: 248  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247}]
------------------------------------------------------
client write log 3689384313898135216 (index 248) to leader 0
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 247
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 0  matchIndex[1]: 247
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
flag 23781 term 41 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 41 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
flag 8982 term 41 leader 0 nextIndex[2]: 248  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247} {3689384313898135216 41 248}]
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 247
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 91286 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 80571 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 33592 term 41 leader 0 nextIndex[2]: 248  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247} {3689384313898135216 41 248}]
------------------------------------------------------
client write log 6823960348386452549 (index 249) to leader 0
client write log 4171141020915231690 (index 250) to leader 0
client write log 2168938736728404004 (index 251) to leader 0
client write log 4083421175042785306 (index 252) to leader 0
client write log 1076370215837282405 (index 253) to leader 0
client write log 4195771267591403194 (index 254) to leader 0
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 247
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 6072 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 92996 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 41 leaderCommit: 248 
------------------------------------------------------
flag 75000 term 41 leader 0 nextIndex[2]: 248  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 38 239} {5656291970197073179 38 240} {6142933256558372283 38 241} {4692000477475511517 38 242} {2039590781191048999 38 243} {5703393324562704350 38 244} {3256151039352979783 38 245} {351742888119811931 38 246} {351742888119811931 40 247} {3689384313898135216 41 248} {6823960348386452549 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
term 41 Server0 start snapshot! index=249
term 41 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=254
-------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 247
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 10433 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 37784 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 248  matchIndex[2]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
term 41 Server1 start snapshot! index=249
term 41 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=254
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5598913165913692836 (index 248) to leader 2
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 247
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 44476 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 41 server 1 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 2 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 2
flag 54219 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 248  matchIndex[2]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 2 InstallSnapshot success
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 41 rf.commitIndex 249 rf.lastApplied 249
term 41 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 12374 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 51311 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65216 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 82008 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 73589 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 39679 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 20791 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 74681 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 13652 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 44397 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 82291 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 21564 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 79312 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 60421 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 14245 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 66218 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 49319 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 79434 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 74023 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 7166 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 18892 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 94406 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 65173 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 70992 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 82497 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 46781 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 16779 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 52657 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 74180 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 84327 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
term 41 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99246 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 25493 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7347 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 13897 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 36552 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 66667 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
flag 58116 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 38033 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254}]
------------------------------------------------------
client write log 5598913165913692836 (index 255) to leader 0
term 41 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35161 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
flag 50335 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 41 leaderCommit: 254 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255}]
------------------------------------------------------
flag 26300 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 63966 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255}]
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80366 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 22391 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255}]
------------------------------------------------------
flag 68052 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 45899 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255}]
------------------------------------------------------
flag 75355 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 20475 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44411 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 81 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255}]
------------------------------------------------------
flag 57416 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 50156 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 128159781036069206 (index 256) to leader 0
flag 69660 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 11908 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255} {128159781036069206 41 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46565 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 33156 term 41 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 41 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255} {128159781036069206 41 256}]
------------------------------------------------------
client write log 1689915146520475403 (index 257) to leader 0
client write log 6953908137884181012 (index 258) to leader 0
client write log 2873003295261759938 (index 259) to leader 0
client write log 1058296230362033509 (index 260) to leader 0
client write log 4498252347715154708 (index 261) to leader 0
client write log 349288203798219280 (index 262) to leader 0
client write log 2430535652667092660 (index 263) to leader 0
client write log 8955756851929345800 (index 264) to leader 0
flag 33950 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 41995 term 41 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 41 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 249} {4171141020915231690 41 250} {2168938736728404004 41 251} {4083421175042785306 41 252} {1076370215837282405 41 253} {4195771267591403194 41 254} {5598913165913692836 41 255} {128159781036069206 41 256} {1689915146520475403 41 257} {6953908137884181012 41 258} {2873003295261759938 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264}]
------------------------------------------------------
term 41 Server0 start snapshot! index=259
term 41 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=264
-------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 11314 term 41 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264}]
------------------------------------------------------
term 41 Server2 start snapshot! index=259
term 41 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=264
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1282094021549626903 (index 265) to leader 0
term 41 server 2 not vote for server 1, 日志不够新
term 41 server 0 not vote for server 1, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 1 vote for server 0
term 43 server 0 get outdate rpc reply from server 1
flag 25378 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 69986 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 266->265
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 266->265
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 9493 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 41 rf.commitIndex 259 rf.lastApplied 259
flag 79692 term 43 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 43 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 65061 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14108 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 77285 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
flag 63013 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 83596 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
flag 92706 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 52824 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
flag 3907 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 93909 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
flag 98746 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 86497 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
flag 36147 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 71588 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84378 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 10810 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
flag 18703 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 92468 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
flag 18168 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 46391 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63738 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 24135 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58259 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 39046 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
flag 91736 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 62811 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
flag 22945 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 94612 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
flag 94139 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 95636 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
term 43 server 2 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 2
flag 95568 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 47745 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
flag 62930 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 49241 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265}]
------------------------------------------------------
client write log 1282094021549626903 (index 266) to leader 0
flag 6973 term 43 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 70034 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2848 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 25198 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27712 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 37371 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97176 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 26604 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30732 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 42679 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266}]
------------------------------------------------------
flag 59955 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 65587 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 8755995089780628953 (index 267) to leader 0
flag 57516 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 64774 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266} {8755995089780628953 43 267}]
------------------------------------------------------
flag 38720 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
flag 49535 term 43 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266} {8755995089780628953 43 267}]
------------------------------------------------------
client write log 5301023475845323899 (index 268) to leader 0
client write log 6489018206384783311 (index 269) to leader 0
client write log 1081049048235036631 (index 270) to leader 0
client write log 6290259022706808738 (index 271) to leader 0
client write log 6575949454888714092 (index 272) to leader 0
client write log 9220950699719728632 (index 273) to leader 0
client write log 7514809650465418127 (index 274) to leader 0
client write log 8306833660899400165 (index 275) to leader 0
client write log 3228304166013575757 (index 276) to leader 0
client write log 4531747874041123854 (index 277) to leader 0
client write log 2098745753003282590 (index 278) to leader 0
flag 76408 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
flag 63417 term 43 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 41 259} {1058296230362033509 41 260} {4498252347715154708 41 261} {349288203798219280 41 262} {2430535652667092660 41 263} {8955756851929345800 41 264} {1282094021549626903 41 265} {1282094021549626903 43 266} {8755995089780628953 43 267} {5301023475845323899 43 268} {6489018206384783311 43 269} {1081049048235036631 43 270} {6290259022706808738 43 271} {6575949454888714092 43 272} {9220950699719728632 43 273} {7514809650465418127 43 274} {8306833660899400165 43 275} {3228304166013575757 43 276} {4531747874041123854 43 277} {2098745753003282590 43 278}]
------------------------------------------------------
term 43 Server0 start snapshot! index=269
term 43 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=278
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 8974 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {1081049048235036631 43 270} {6290259022706808738 43 271} {6575949454888714092 43 272} {9220950699719728632 43 273} {7514809650465418127 43 274} {8306833660899400165 43 275} {3228304166013575757 43 276} {4531747874041123854 43 277} {2098745753003282590 43 278}]
------------------------------------------------------
term 43 Server2 start snapshot! index=269
term 43 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=278
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7519543531781944998 (index 279) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 48249 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 44 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 269} {1081049048235036631 43 270} {6290259022706808738 43 271} {6575949454888714092 43 272} {9220950699719728632 43 273} {7514809650465418127 43 274} {8306833660899400165 43 275} {3228304166013575757 43 276} {4531747874041123854 43 277} {2098745753003282590 43 278} {7519543531781944998 43 279}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 Server0 start snapshot! index=279
term 44 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 45 server 2 vote for server 0
term 45 server 1 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 0 get outdate rpc reply from server 1
flag 86260 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 17504 term 45 leader 0 nextIndex[2]: 280  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 280->279
------------------------------------------------------
term 45 Server2 start snapshot! index=279
term 45 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 45 leader 0 nextIndex[1]: 267  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 50339 term 45 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 43 rf.commitIndex 279 rf.lastApplied 279
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
flag 69564 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 15098 term 45 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
flag 42702 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 65274 term 45 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
flag 52001 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 78720 term 45 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
flag 34595 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 96034 term 45 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 62440 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 38095 term 45 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 91661 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 66822 term 45 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 32065 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 78365 term 45 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 49439 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 14614 term 45 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
client write log 4638997812002635326 (index 280) to leader 2
flag 63900 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 70315 term 46 leader 2 nextIndex[1]: 280  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {4638997812002635326 46 280}]
------------------------------------------------------
flag 24106 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 35320 term 45 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 280->279
------------------------------------------------------
flag 35059 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 89522 term 46 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {4638997812002635326 46 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
client write log 6422217907877180127 (index 281) to leader 2
flag 20293 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 279
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 20081 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 17296 term 46 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 46 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281}]
------------------------------------------------------
flag 7705 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 279
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 29474 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 46738 term 46 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4020246396099698615 (index 282) to leader 2
flag 12608 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 279
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 server 1 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
term 45 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27328 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
flag 3605 term 46 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73717 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
flag 30266 term 46 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78792 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
flag 77998 term 46 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282}]
------------------------------------------------------
flag 57575 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
flag 75141 term 46 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282}]
------------------------------------------------------
flag 14023 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
flag 22777 term 46 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282}]
------------------------------------------------------
flag 58389 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
flag 64071 term 46 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34726 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
flag 33170 term 46 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4599484372199572271 (index 283) to leader 2
flag 29407 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
flag 40997 term 46 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282} {4599484372199572271 46 283}]
------------------------------------------------------
flag 90838 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 283 
------------------------------------------------------
flag 86488 term 46 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 46 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 46 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282} {4599484372199572271 46 283}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 283->282
------------------------------------------------------
client write log 4450132478027807310 (index 284) to leader 2
client write log 8602774991873735449 (index 285) to leader 2
client write log 5934345242769186943 (index 286) to leader 2
client write log 7254758760843647989 (index 287) to leader 2
client write log 5230349016056930295 (index 288) to leader 2
client write log 5049573548250712952 (index 289) to leader 2
client write log 6174280583081808398 (index 290) to leader 2
client write log 3635714348595077199 (index 291) to leader 2
client write log 2504711655647615017 (index 292) to leader 2
client write log 7822627970257250610 (index 293) to leader 2
client write log 7793126109369211299 (index 294) to leader 2
client write log 3089315745275180390 (index 295) to leader 2
client write log 2703878472347362841 (index 296) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 0  matchIndex[0]: 282
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 77350 term 46 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 46 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 46 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 43 279} {4638997812002635326 46 280} {6422217907877180127 46 281} {4020246396099698615 46 282} {4599484372199572271 46 283} {4450132478027807310 46 284} {8602774991873735449 46 285} {5934345242769186943 46 286} {7254758760843647989 46 287} {5230349016056930295 46 288} {5049573548250712952 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296}]
------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=296
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 0  matchIndex[0]: 282
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 34731 term 46 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296}]
------------------------------------------------------
term 46 Server1 start snapshot! index=289
term 46 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=296
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2573915747826319904 (index 297) to leader 2
term 46 server 2 not vote for server 0, 日志不够新
term 46 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 0 vote for server 2
term 48 server 2 get vote from server 0
term 48 server 2 become leader
------------------------------------------------------
term 48 server 1 vote for server 2
term 48 server 2 get outdate rpc reply from server 1
flag 27407 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 81167 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 298->297
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 298->297
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 41576 term 48 leader 2 nextIndex[1]: 297  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
flag 72788 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 21229 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
flag 94033 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 99941 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
flag 35285 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 83141 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11536 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 430 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
flag 44111 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 46293 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
flag 20563 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 60780 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98239 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 95788 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
flag 9940 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 77287 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
flag 22027 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 95747 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueterm 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
update nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
flag 47127 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 99224 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11504 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 85101 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
flag 42488 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 92798 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
flag 40781 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 15266 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
flag 15235 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 8368 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
flag 3513 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 3627 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20748 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 52818 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2632 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 78638 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297}]
------------------------------------------------------
client write log 2573915747826319904 (index 298) to leader 2
flag 60167 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 88658 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78879 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 61666 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298}]
------------------------------------------------------
flag 85729 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 94601 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298}]
------------------------------------------------------
flag 43933 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 65458 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298}]
------------------------------------------------------
flag 33804 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 40223 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298}]
------------------------------------------------------
flag 32006 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 36457 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298}]
------------------------------------------------------
term 48 server 0 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20096 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 52835 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2282311771407211459 (index 299) to leader 2
flag 48076 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 68035 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 46 289} {6174280583081808398 46 290} {3635714348595077199 46 291} {2504711655647615017 46 292} {7822627970257250610 46 293} {7793126109369211299 46 294} {3089315745275180390 46 295} {2703878472347362841 46 296} {2573915747826319904 46 297} {2573915747826319904 48 298} {2282311771407211459 48 299}]
------------------------------------------------------
term 48 Server2 start snapshot! index=299
term 48 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 99872 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
client write log 1088949191921015699 (index 300) to leader 2
client write log 8778409878888814949 (index 301) to leader 2
client write log 2647314959859874732 (index 302) to leader 2
client write log 2988447241435779789 (index 303) to leader 2
client write log 5972079100190520569 (index 304) to leader 2
client write log 8544964929312299694 (index 305) to leader 2
client write log 2932650436563116859 (index 306) to leader 2
client write log 8806256211481869445 (index 307) to leader 2
client write log 7288359722855218856 (index 308) to leader 2
term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 8930 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {1088949191921015699 48 300} {8778409878888814949 48 301} {2647314959859874732 48 302} {2988447241435779789 48 303} {5972079100190520569 48 304} {8544964929312299694 48 305} {2932650436563116859 48 306} {8806256211481869445 48 307} {7288359722855218856 48 308}]
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 50425 term 48 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {1088949191921015699 48 300} {8778409878888814949 48 301} {2647314959859874732 48 302} {2988447241435779789 48 303} {5972079100190520569 48 304} {8544964929312299694 48 305} {2932650436563116859 48 306} {8806256211481869445 48 307} {7288359722855218856 48 308}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3340490653368492506 (index 309) to leader 2
term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 98927 term 48 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 299} {1088949191921015699 48 300} {8778409878888814949 48 301} {2647314959859874732 48 302} {2988447241435779789 48 303} {5972079100190520569 48 304} {8544964929312299694 48 305} {2932650436563116859 48 306} {8806256211481869445 48 307} {7288359722855218856 48 308} {3340490653368492506 48 309}]
------------------------------------------------------
term 49 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 Server2 start snapshot! index=309
term 49 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 50 server 1 vote for server 2
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 2 get outdate rpc reply from server 0
flag 21851 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 13710 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 310->309
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
term 50 Server1 start snapshot! index=309
term 50 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 17594 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
term 50 server 0 InstallSnapshot success
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 48 rf.commitIndex 309 rf.lastApplied 309
flag 17498 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 66916 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
flag 23219 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 73354 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70959 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 86207 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
flag 87345 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 68497 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
flag 22904 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 92341 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 37488 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 39904 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 79565 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 82426 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 75870 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 90792 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74300 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 44669 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 51 server 0 vote for server 1
term 51 server 1 get vote from server 0
term 51 server 1 become leader
------------------------------------------------------
flag 47501 term 51 leader 1 nextIndex[0]: 310  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 79586 term 51 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
client write log 3452282591290915405 (index 310) to leader 1
flag 48935 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 73243 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 41568 term 51 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 51 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 17855 term 51 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {3452282591290915405 51 310}]
------------------------------------------------------
flag 1649 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 99305 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 97647 term 51 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 4615 term 51 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {3452282591290915405 51 310}]
------------------------------------------------------
client write log 7247360100005804240 (index 311) to leader 1
flag 5461 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 84069 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 32068 term 51 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 14520 term 51 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311}]
------------------------------------------------------
flag 9224 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 68613 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 83046 term 51 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 51 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
flag 77143 term 51 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5055917586872660137 (index 312) to leader 1
flag 9616 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
flag 98344 term 50 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 51 server 0 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
term 51 server 1 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56397 term 51 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 51 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
flag 55576 term 51 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85129 term 51 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 84575 term 51 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312}]
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 2 not vote for server 1, 日志不够新
term 51 server 1 get outdate rpc reply from server 2
flag 45854 term 51 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 29279 term 51 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312}]
------------------------------------------------------
flag 42456 term 51 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 29398 term 51 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29628 term 51 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 29411 term 51 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22912 term 51 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 23925 term 51 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 2 not vote for server 1, 任期不够新
term 51 server 1 get outdate rpc reply from server 2
flag 36555 term 51 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 92040 term 51 leader 1 nextIndex[2]: 313  matchIndex[2]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3816723446362646028 (index 313) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 313->312
------------------------------------------------------
flag 37973 term 51 leader 1 nextIndex[0]: 313  matchIndex[0]: 312
term 51 leader 1 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 0  matchIndex[2]: 312
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312} {3816723446362646028 51 313}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 31274 term 51 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 51 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 0  matchIndex[2]: 312
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312} {3816723446362646028 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4010501298458587518 (index 314) to leader 1
client write log 8588210063598420536 (index 315) to leader 1
client write log 9140214145842267691 (index 316) to leader 1
client write log 7768612647849477808 (index 317) to leader 1
client write log 4460915940194277171 (index 318) to leader 1
client write log 164877772675469549 (index 319) to leader 1
client write log 5973960643698743879 (index 320) to leader 1
client write log 1885164224708405211 (index 321) to leader 1
client write log 3401850316824662065 (index 322) to leader 1
client write log 313761890728051398 (index 323) to leader 1
client write log 3426606442665904787 (index 324) to leader 1
client write log 4842308418109510554 (index 325) to leader 1
flag 56187 term 51 leader 1 nextIndex[0]: 314  matchIndex[0]: 313
term 51 leader 1 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 0  matchIndex[2]: 312
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 309} {3452282591290915405 51 310} {7247360100005804240 51 311} {5055917586872660137 51 312} {3816723446362646028 51 313} {4010501298458587518 51 314} {8588210063598420536 51 315} {9140214145842267691 51 316} {7768612647849477808 51 317} {4460915940194277171 51 318} {164877772675469549 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 Server1 start snapshot! index=319
term 51 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=325
-------------------------------------------------------------
flag 56179 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 0  matchIndex[2]: 312
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325}]
------------------------------------------------------
term 51 Server0 start snapshot! index=319
term 51 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=325
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9030157189349802071 (index 326) to leader 1
term 51 server 0 not vote for server 2, 日志不够新
term 51 server 1 not vote for server 2, 日志不够新
term 53 server 2 vote for server 1
term 53 server 1 get vote from server 2
term 53 server 1 become leader
------------------------------------------------------
term 53 server 0 vote for server 1
term 53 server 1 get outdate rpc reply from server 0
flag 25055 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 32472 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 327->326
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 327->326
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5788 term 53 leader 1 nextIndex[0]: 326  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 313  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 51 rf.commitIndex 319 rf.lastApplied 319
term 53 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43599 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 41277 term 53 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
flag 60195 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 34274 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20744 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 63817 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
flag 57572 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 1560 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
term 53 server 2 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 2
flag 57948 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 83395 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
flag 57121 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 96564 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
flag 1605 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 693 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62153 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 19781 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60418 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 54055 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66874 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 4509 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
flag 81163 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 46709 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
flag 98804 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 23911 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
flag 24296 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 43913 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57200 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 30749 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
flag 16657 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 49836 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
flag 85460 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 75278 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
flag 21618 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 70978 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
flag 43563 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 32926 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326}]
------------------------------------------------------
client write log 9030157189349802071 (index 327) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16146 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 22688 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326} {9030157189349802071 53 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326} {9030157189349802071 53 327}]
------------------------------------------------------
flag 91785 term 53 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 7960 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326} {9030157189349802071 53 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326} {9030157189349802071 53 327}]
------------------------------------------------------
flag 80039 term 53 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 93786 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326} {9030157189349802071 53 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326} {9030157189349802071 53 327}]
------------------------------------------------------
flag 93512 term 53 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 41672 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326} {9030157189349802071 53 327}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326} {9030157189349802071 53 327}]
------------------------------------------------------
flag 65405 term 53 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 56675 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:327 
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326} {9030157189349802071 53 327}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326} {9030157189349802071 53 327}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63366 term 53 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 77971 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326} {9030157189349802071 53 327}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326} {9030157189349802071 53 327}]
------------------------------------------------------
flag 65514 term 53 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 68949 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326} {9030157189349802071 53 327}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {5973960643698743879 51 320} {1885164224708405211 51 321} {3401850316824662065 51 322} {313761890728051398 51 323} {3426606442665904787 51 324} {4842308418109510554 51 325} {9030157189349802071 51 326} {9030157189349802071 53 327}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  74.2  3 1708  761683  327
--- PASS: TestSnapshotInstall2D (74.22s)
PASS
