=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
flag 49931 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 75126 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 6884532565331301805 (index 1) to leader 2
flag 3151 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 70317 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6884532565331301805 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6884532565331301805 1 1}]
------------------------------------------------------
flag 49692 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 26608 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6884532565331301805 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6884532565331301805 1 1}]
------------------------------------------------------
flag 86582 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 69843 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6884532565331301805 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6884532565331301805 1 1}]
------------------------------------------------------
flag 91187 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 76547 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6884532565331301805 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6884532565331301805 1 1}]
------------------------------------------------------
flag 6705 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 80369 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6884532565331301805 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6884532565331301805 1 1}]
------------------------------------------------------
flag 12735 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 86180 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6884532565331301805 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6884532565331301805 1 1}]
------------------------------------------------------
flag 16428 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 86302 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6884532565331301805 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6884532565331301805 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2368417442343186935 (index 2) to leader 2
flag 86617 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 10983 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6884532565331301805 1 1} {2368417442343186935 1 2}]
------------------------------------------------------
flag 85857 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 27875 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6884532565331301805 1 1} {2368417442343186935 1 2}]
------------------------------------------------------
client write log 3598758132995700480 (index 3) to leader 2
client write log 8229148784061330803 (index 4) to leader 2
client write log 5576039766930315767 (index 5) to leader 2
client write log 5886707237221353575 (index 6) to leader 2
client write log 4829480960142319956 (index 7) to leader 2
client write log 7227505614451007376 (index 8) to leader 2
client write log 5371403782505420136 (index 9) to leader 2
client write log 8128274067597849535 (index 10) to leader 2
client write log 4354420587017575505 (index 11) to leader 2
client write log 6193592109133173944 (index 12) to leader 2
client write log 7338779477824513506 (index 13) to leader 2
client write log 6051333390104174656 (index 14) to leader 2
client write log 5806536197225012240 (index 15) to leader 2
client write log 2444205415291931111 (index 16) to leader 2
client write log 1959656618770574657 (index 17) to leader 2
flag 48431 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 65858 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{<nil> 0 0} {6884532565331301805 1 1} {2368417442343186935 1 2} {3598758132995700480 1 3} {8229148784061330803 1 4} {5576039766930315767 1 5} {5886707237221353575 1 6} {4829480960142319956 1 7} {7227505614451007376 1 8} {5371403782505420136 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 10338 term 1 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 1 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7393365603146628929 (index 18) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 1295 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 19019 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 19->18
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 19->18
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 72757 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 19436 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 72482 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 12656 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 70873 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 96334 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 35672 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 51190 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 6523 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 74704 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 59911 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 63143 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 18978 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 12542 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 74597 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 42270 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 8848 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 53328 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 70377 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 40202 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 59527 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 24181 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 1924 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 40678 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 56013 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 39220 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 79118 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 86583 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 8408 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 44136 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 90107 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41818 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 55877 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
flag 93527 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 66435 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18}]
------------------------------------------------------
client write log 7393365603146628929 (index 19) to leader 2
flag 91463 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 91299 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18} {7393365603146628929 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {8128274067597849535 1 10} {4354420587017575505 1 11} {6193592109133173944 1 12} {7338779477824513506 1 13} {6051333390104174656 1 14} {5806536197225012240 1 15} {2444205415291931111 1 16} {1959656618770574657 1 17} {7393365603146628929 1 18} {7393365603146628929 3 19}]
------------------------------------------------------
term 3 Server2 start snapshot! index=19
term 3 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 67130 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 84317 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 Server0 start snapshot! index=19
term 3 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 3 Server1 start snapshot! index=19
term 3 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 50094 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 33550 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 64671 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 69121 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 26447 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 26974 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51957 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 60500 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 81172 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 62411 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 41499 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 3066 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 17383 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 87309 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 43230 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 78425 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 57521 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 12155 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
client write log 7557245657079469814 (index 20) to leader 1
flag 44389 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 82125 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 83648 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 57806 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {7557245657079469814 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 20->19
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 42026 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 20->19
------------------------------------------------------
flag 31635 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 1973 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {7557245657079469814 4 20}]
------------------------------------------------------
client write log 7812740207025145897 (index 21) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 77899 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 48287 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 20->19
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 25339 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4150911695168078883 (index 22) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72280 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 19 args.LastIncludedIndex 19
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 0
flag 38006 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 81472 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 23->22
------------------------------------------------------
flag 79745 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 30016 term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
flag 70997 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 1302 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
flag 78665 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 83423 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
flag 17677 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 78242 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84399 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 66831 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
flag 57840 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 17560 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
flag 60035 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 72802 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5544972835193556375 (index 23) to leader 1
flag 42839 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 9508 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22} {5544972835193556375 6 23}]
------------------------------------------------------
flag 43945 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 6 leaderCommit: 23 
------------------------------------------------------
flag 96442 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22} {5544972835193556375 6 23}]
------------------------------------------------------
client write log 3549389569082176671 (index 24) to leader 1
client write log 5041077523168626940 (index 25) to leader 1
client write log 4292988797237228549 (index 26) to leader 1
client write log 7230916532051665460 (index 27) to leader 1
client write log 3845895578207741635 (index 28) to leader 1
client write log 4797602026718512259 (index 29) to leader 1
client write log 899144641116233840 (index 30) to leader 1
client write log 122538705551179687 (index 31) to leader 1
client write log 4301765985283563449 (index 32) to leader 1
client write log 4123411110367542434 (index 33) to leader 1
client write log 4244369910132205786 (index 34) to leader 1
client write log 2518340374662638272 (index 35) to leader 1
client write log 4414333275760772434 (index 36) to leader 1
client write log 5168282434481567727 (index 37) to leader 1
flag 43238 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 6 leaderCommit: 23 
------------------------------------------------------
flag 8802 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 19} {7557245657079469814 4 20} {7812740207025145897 4 21} {4150911695168078883 4 22} {5544972835193556375 6 23} {3549389569082176671 6 24} {5041077523168626940 6 25} {4292988797237228549 6 26} {7230916532051665460 6 27} {3845895578207741635 6 28} {4797602026718512259 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=37
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76898 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=37
-------------------------------------------------------------
!!!!!!connect server 2
client write log 615609943698553829 (index 38) to leader 1
flag 39266 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 7 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 1
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 40972 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 15831 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 39->38
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74260 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 23  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
flag 25813 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 66971 term 8 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 8 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
flag 40848 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 31046 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
flag 66754 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 16207 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87876 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 88933 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67273 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 20634 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
flag 71711 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 94825 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
flag 3537 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 25727 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
flag 88394 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 21349 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
flag 972 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 37236 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 17203 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 19126 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
flag 11734 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 41522 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
flag 30006 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 17239 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
flag 33663 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 53713 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
flag 39957 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 34648 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
flag 41472 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 85670 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51488 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 2198 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 615609943698553829 (index 39) to leader 1
flag 38765 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 71299 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38} {615609943698553829 8 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 29} {899144641116233840 6 30} {122538705551179687 6 31} {4301765985283563449 6 32} {4123411110367542434 6 33} {4244369910132205786 6 34} {2518340374662638272 6 35} {4414333275760772434 6 36} {5168282434481567727 6 37} {615609943698553829 6 38} {615609943698553829 8 39}]
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 54714 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 23532 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 49494 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 72437 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51316 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 46493 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
flag 7401 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 20578 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
flag 86428 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 8185 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
flag 81846 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 68495 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5301955938136211843 (index 40) to leader 1
flag 20615 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 30365 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 8 39} {5301955938136211843 8 40}]
------------------------------------------------------
flag 48999 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 59333 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 8 39} {5301955938136211843 8 40}]
------------------------------------------------------
client write log 904251264444410047 (index 41) to leader 1
client write log 2928198833370391029 (index 42) to leader 1
client write log 4036619524645797929 (index 43) to leader 1
client write log 3080706993390149296 (index 44) to leader 1
client write log 6511689051671973087 (index 45) to leader 1
client write log 401760555612021240 (index 46) to leader 1
client write log 1385095626293090387 (index 47) to leader 1
client write log 8159203033362824115 (index 48) to leader 1
flag 53559 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 14932 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48}]
------------------------------------------------------
flag 97757 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 76614 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3711336708945496307 (index 49) to leader 1
term 8 server 0 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 0
flag 7810 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 85123 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 1 not vote for server 2, 日志不够新
term 8 server 0 not vote for server 2, 日志不够新
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 2 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 1 vote for server 0
term 11 server 0 get outdate rpc reply from server 1
flag 95122 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 88827 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 50->49
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
flag 5219 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 46569 term 11 leader 0 nextIndex[2]: 40  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85285 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 11840 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22956 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 92572 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6719 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 2140 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
flag 54389 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 63925 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
term 11 server 1 not vote for server 2, 任期不够新
term 11 server 2 get outdate rpc reply from server 1
flag 96209 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 81409 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
flag 91243 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 57425 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
flag 75788 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 68807 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20415 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 65733 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
term 11 server 1 not vote for server 2, 任期不够新
term 11 server 2 get outdate rpc reply from server 1
flag 46755 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 44524 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
flag 78568 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 9192 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
flag 13252 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 77068 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94804 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 87075 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
flag 49381 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 66473 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3711336708945496307 (index 50) to leader 0
flag 20267 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 40242 term 11 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49} {3711336708945496307 11 50}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 39} {5301955938136211843 8 40} {904251264444410047 8 41} {2928198833370391029 8 42} {4036619524645797929 8 43} {3080706993390149296 8 44} {6511689051671973087 8 45} {401760555612021240 8 46} {1385095626293090387 8 47} {8159203033362824115 8 48} {3711336708945496307 8 49} {3711336708945496307 11 50}]
------------------------------------------------------
term 11 Server0 start snapshot! index=49
term 11 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
flag 33798 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 48917 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {3711336708945496307 11 50}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {3711336708945496307 11 50}]
------------------------------------------------------
term 11 Server2 start snapshot! index=49
term 11 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
flag 67872 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 56666 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {3711336708945496307 11 50}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {3711336708945496307 11 50}]
------------------------------------------------------
term 11 server 0 not vote for server 2, 任期不够新
term 11 server 2 get outdate rpc reply from server 0
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55346 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 70326 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {3711336708945496307 11 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {3711336708945496307 11 50}]
------------------------------------------------------
flag 49554 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 55726 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:50 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {3711336708945496307 11 50}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {3711336708945496307 11 50}]
------------------------------------------------------
flag 41315 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 71770 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {3711336708945496307 11 50}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {3711336708945496307 11 50}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 65886 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 76487 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59367 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 6409 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 31593 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 28800 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 56077 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 96256 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 12 server 2 vote for server 1
term 12 server 1 get vote from server 2
term 12 server 1 become leader
------------------------------------------------------
flag 81968 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 33811 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {3711336708945496307 11 50}]
------------------------------------------------------
client write log 1675243040313594960 (index 51) to leader 1
flag 49942 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 47977 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 72630 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 70419 term 12 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {3711336708945496307 11 50} {1675243040313594960 12 51}]
------------------------------------------------------
flag 92544 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 42907 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 46596 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 51 
------------------------------------------------------
flag 19766 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {3711336708945496307 11 50} {1675243040313594960 12 51}]
------------------------------------------------------
client write log 7257234037903221072 (index 52) to leader 1
client write log 4836470933660370598 (index 53) to leader 1
client write log 4729670431397325714 (index 54) to leader 1
client write log 8396940680017919746 (index 55) to leader 1
client write log 7243789605135910471 (index 56) to leader 1
client write log 6004216241796204006 (index 57) to leader 1
client write log 4234211184563453475 (index 58) to leader 1
client write log 5395015243762944142 (index 59) to leader 1
client write log 6740412072008284645 (index 60) to leader 1
client write log 3159495726371757866 (index 61) to leader 1
client write log 5700279406504382141 (index 62) to leader 1
client write log 3143559055488961746 (index 63) to leader 1
client write log 8029976932350294815 (index 64) to leader 1
flag 84787 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 94686 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 61752 term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 51 
------------------------------------------------------
flag 89685 term 12 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 49} {3711336708945496307 11 50} {1675243040313594960 12 51} {7257234037903221072 12 52} {4836470933660370598 12 53} {4729670431397325714 12 54} {8396940680017919746 12 55} {7243789605135910471 12 56} {6004216241796204006 12 57} {4234211184563453475 12 58} {5395015243762944142 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64}]
------------------------------------------------------
term 12 Server1 start snapshot! index=59
term 12 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=64
-------------------------------------------------------------
flag 20924 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 90690 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 12 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
flag 53025 term 12 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 12 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64}]
------------------------------------------------------
term 12 Server2 start snapshot! index=59
term 12 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=64
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 51->50
------------------------------------------------------
!!!!!!connect server 0
client write log 8320189575697355023 (index 65) to leader 1
flag 76452 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 14470 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 12 server 2 AppendEntries false 领导者任期过期 args.Term 11
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 12 server 1 AppendEntries false 领导者任期过期 args.Term 11
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
flag 19731 term 12 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 12 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
term 12 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 12 rf.commitIndex 59 rf.lastApplied 59
term 12 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37994 term 12 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 12 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 69952 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
term 12 server 0 not vote for server 1, 日志不够新
term 12 server 1 get outdate rpc reply from server 0
flag 23040 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 12396 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
flag 64310 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 79620 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
flag 40171 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 1211 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
flag 10313 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 60841 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
flag 64579 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 88510 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
flag 46326 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 15093 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:65 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8907633932609739841 (index 66) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40020 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 35873 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65} {8907633932609739841 12 66}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 67->66
------------------------------------------------------
term 12 leader 1 nextIndex[0]: 0  matchIndex[0]: 66
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
flag 30311 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
term 12 server 0 InstallSnapshot fail
rf.commitIndex 65 args.LastIncludedIndex 59
------------------------------------------------------
term 12 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
flag 69096 term 12 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 12 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
flag 1925 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65} {8907633932609739841 12 66}]
------------------------------------------------------
client write log 8009827789527636013 (index 67) to leader 1
client write log 7512761278052202872 (index 68) to leader 1
client write log 45476908692904584 (index 69) to leader 1
client write log 4798995133522524664 (index 70) to leader 1
client write log 4585567271894405822 (index 71) to leader 1
client write log 6895897698751393426 (index 72) to leader 1
client write log 8591966125113428620 (index 73) to leader 1
client write log 7154796397935695541 (index 74) to leader 1
client write log 7273316373106712718 (index 75) to leader 1
client write log 7806729598990688294 (index 76) to leader 1
client write log 4442177822173554673 (index 77) to leader 1
client write log 2496713246539042796 (index 78) to leader 1
client write log 6660886949717568047 (index 79) to leader 1
flag 8285 term 12 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 12 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
flag 10867 term 12 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 12 59} {6740412072008284645 12 60} {3159495726371757866 12 61} {5700279406504382141 12 62} {3143559055488961746 12 63} {8029976932350294815 12 64} {8320189575697355023 12 65} {8907633932609739841 12 66} {8009827789527636013 12 67} {7512761278052202872 12 68} {45476908692904584 12 69} {4798995133522524664 12 70} {4585567271894405822 12 71} {6895897698751393426 12 72} {8591966125113428620 12 73} {7154796397935695541 12 74} {7273316373106712718 12 75} {7806729598990688294 12 76} {4442177822173554673 12 77} {2496713246539042796 12 78} {6660886949717568047 12 79}]
------------------------------------------------------
term 12 Server1 start snapshot! index=69
term 12 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=79
-------------------------------------------------------------
term 12 Server1 start snapshot! index=79
term 12 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 66->65
------------------------------------------------------
flag 56255 term 12 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 12 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 0  matchIndex[2]: 65
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 12 79}]
------------------------------------------------------
term 12 Server0 start snapshot! index=69
term 12 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=79
-------------------------------------------------------------
term 12 Server0 start snapshot! index=79
term 12 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1023805814712761272 (index 80) to leader 1
flag 4853 term 12 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 12 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 0  matchIndex[2]: 65
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
term 13 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 vote for server 1
term 14 server 0 vote for server 1
term 14 server 1 get vote from server 0
term 14 server 1 become leader
------------------------------------------------------
term 14 server 1 get outdate rpc reply from server 2
flag 86143 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 3826 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 81->80
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
flag 93818 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 66  matchIndex[2]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 12 rf.commitIndex 79 rf.lastApplied 79
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66153 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 74567 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
flag 71990 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 15899 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
flag 50090 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 10091 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
flag 71943 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 65044 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
flag 44616 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 91195 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
flag 9344 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 33088 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
flag 65059 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 71516 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
term 14 server 1 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55185 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 33011 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
flag 67559 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 12168 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
flag 98974 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 71001 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
flag 96725 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 23495 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78243 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 41298 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
flag 40642 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 2074 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4195 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 31479 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
flag 88945 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 44497 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4249 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 68439 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 12 79} {1023805814712761272 12 80}]
------------------------------------------------------
client write log 1023805814712761272 (index 81) to leader 1
flag 24855 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
flag 74031 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81}]
------------------------------------------------------
flag 43177 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 83439 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81}]
------------------------------------------------------
flag 21085 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 64606 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96849 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 94426 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81}]
------------------------------------------------------
flag 59592 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 78314 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39700 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 20394 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6386817208324080041 (index 82) to leader 1
flag 47576 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 62819 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81} {6386817208324080041 14 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28885 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 81868 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81} {6386817208324080041 14 82}]
------------------------------------------------------
client write log 1645319492000488633 (index 83) to leader 1
client write log 1463451770762113903 (index 84) to leader 1
client write log 404712325497583301 (index 85) to leader 1
client write log 1477823743410301141 (index 86) to leader 1
client write log 6072037887915390645 (index 87) to leader 1
client write log 4769734240425798441 (index 88) to leader 1
client write log 7881321345878351493 (index 89) to leader 1
flag 11103 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 51444 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 12 79} {1023805814712761272 12 80} {1023805814712761272 14 81} {6386817208324080041 14 82} {1645319492000488633 14 83} {1463451770762113903 14 84} {404712325497583301 14 85} {1477823743410301141 14 86} {6072037887915390645 14 87} {4769734240425798441 14 88} {7881321345878351493 14 89}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
flag 91402 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 14 89}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6561892972193636276 (index 90) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78381 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 15 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 0 vote for server 1
term 16 server 1 get outdate rpc reply from server 0
flag 5722 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 48569 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 91->90
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
flag 23219 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 82  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54396 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 85565 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
flag 4554 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 99374 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
flag 14688 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 63019 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
flag 21736 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 76286 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
flag 93381 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 88713 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59295 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 85579 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
flag 67890 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 90026 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 server 0 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 0
flag 20507 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 95461 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
flag 86330 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 49413 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
flag 8657 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 27576 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
flag 83186 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 15317 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
flag 6089 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 99498 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18817 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 72929 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
flag 62503 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 72869 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95116 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 8251 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29413 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 40266 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32398 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 57310 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 14 89} {6561892972193636276 14 90}]
------------------------------------------------------
client write log 6561892972193636276 (index 91) to leader 1
flag 75830 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
flag 81940 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91}]
------------------------------------------------------
flag 36310 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 89573 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91}]
------------------------------------------------------
flag 33389 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 6653 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29026 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 39466 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91}]
------------------------------------------------------
flag 49918 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 18723 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91}]
------------------------------------------------------
flag 78171 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 83117 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91}]
------------------------------------------------------
flag 17868 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 39789 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 19353 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 79287 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 45979 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 75236 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72151 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 82343 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 17 server 0 vote for server 2
term 17 server 2 get vote from server 0
term 17 server 2 become leader
------------------------------------------------------
client write log 252460194732896263 (index 92) to leader 2
flag 19845 term 17 leader 2 nextIndex[0]: 92  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 17780 term 17 leader 2 nextIndex[1]: 92  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91} {252460194732896263 17 92}]
------------------------------------------------------
flag 20716 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 17686 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29787 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 17 leaderCommit: 92 
------------------------------------------------------
flag 46471 term 17 leader 2 nextIndex[1]: 92  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91} {252460194732896263 17 92}]
------------------------------------------------------
client write log 5261277819854524092 (index 93) to leader 2
client write log 2991152282153919404 (index 94) to leader 2
client write log 3565682002377016170 (index 95) to leader 2
client write log 1867344290038873709 (index 96) to leader 2
client write log 8834008851391388576 (index 97) to leader 2
client write log 3555125227278143210 (index 98) to leader 2
client write log 7914087393017920727 (index 99) to leader 2
flag 39732 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 8390 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 25881 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 17 leaderCommit: 92 
------------------------------------------------------
flag 13176 term 17 leader 2 nextIndex[1]: 92  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 89} {6561892972193636276 14 90} {6561892972193636276 16 91} {252460194732896263 17 92} {5261277819854524092 17 93} {2991152282153919404 17 94} {3565682002377016170 17 95} {1867344290038873709 17 96} {8834008851391388576 17 97} {3555125227278143210 17 98} {7914087393017920727 17 99}]
------------------------------------------------------
term 17 Server2 start snapshot! index=99
term 17 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 99014 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 39279 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 76948 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 leader 2 nextIndex[1]: 92  matchIndex[1]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 Server0 start snapshot! index=99
term 17 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6572758044282072746 (index 92) to leader 1
flag 28573 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 27634 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 17 server 2 AppendEntries false 领导者任期过期 args.Term 16
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 17 server 0 AppendEntries false 领导者任期过期 args.Term 16
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22819 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 leader 2 nextIndex[1]: 92  matchIndex[1]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 1 InstallSnapshot success
------------------------------------------------------
term 17 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 17 rf.commitIndex 99 rf.lastApplied 99
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56449 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 23462 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 98708 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 86468 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31153 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 6698 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 90912 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 59504 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 23005 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 72517 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 server 0 not vote for server 2, 任期不够新
term 17 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88129 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 91214 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 83235 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 69515 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 24316 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 83076 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 37931 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 88994 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 90289 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 8051 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 93489 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 99055 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
flag 34370 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 67004 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 30989 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 67056 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 15156 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 38132 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 49716 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 19416 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 20843 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 56247 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 58190 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 6775 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 66761 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 9358 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
flag 5793 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 92424 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
client write log 6572758044282072746 (index 100) to leader 2
flag 8569 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
flag 33666 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {6572758044282072746 17 100}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {6572758044282072746 17 100}]
------------------------------------------------------
flag 76028 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
flag 71738 term 17 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {6572758044282072746 17 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {6572758044282072746 17 100}]
------------------------------------------------------
flag 70676 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
flag 51361 term 17 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {6572758044282072746 17 100}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {6572758044282072746 17 100}]
------------------------------------------------------
flag 93216 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
flag 69623 term 17 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {6572758044282072746 17 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {6572758044282072746 17 100}]
------------------------------------------------------
flag 87872 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
flag 3058 term 17 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {6572758044282072746 17 100}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {6572758044282072746 17 100}]
------------------------------------------------------
term 17 server 1 not vote for server 2, 任期不够新
term 17 server 2 get outdate rpc reply from server 1
flag 96388 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
flag 79636 term 17 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {6572758044282072746 17 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {6572758044282072746 17 100}]
------------------------------------------------------
flag 49925 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
flag 57045 term 17 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {6572758044282072746 17 100}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 17 99} {6572758044282072746 17 100}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6476315821922849722 (index 101) to leader 2
flag 75357 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
flag 40800 term 17 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {6572758044282072746 17 100} {6476315821922849722 17 101}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55028 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 565 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {6572758044282072746 17 100} {6476315821922849722 17 101}]
------------------------------------------------------
client write log 4888530995836843057 (index 102) to leader 2
client write log 9008937334378354559 (index 103) to leader 2
client write log 664134293320549494 (index 104) to leader 2
client write log 4609806805760015705 (index 105) to leader 2
client write log 3388458555753040213 (index 106) to leader 2
client write log 7288719616080762930 (index 107) to leader 2
client write log 1555334642507331966 (index 108) to leader 2
client write log 7015870166252205222 (index 109) to leader 2
client write log 4559916758806646044 (index 110) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71301 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 31981 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 99} {6572758044282072746 17 100} {6476315821922849722 17 101} {4888530995836843057 17 102} {9008937334378354559 17 103} {664134293320549494 17 104} {4609806805760015705 17 105} {3388458555753040213 17 106} {7288719616080762930 17 107} {1555334642507331966 17 108} {7015870166252205222 17 109} {4559916758806646044 17 110}]
------------------------------------------------------
term 17 Server2 start snapshot! index=109
term 17 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=110
-------------------------------------------------------------
term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 79040 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 17 109} {4559916758806646044 17 110}]
------------------------------------------------------
term 17 server 1 not vote for server 2, 日志不够新
term 17 server 2 get outdate rpc reply from server 1
term 17 Server1 start snapshot! index=109
term 17 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=110
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2163605273308498500 (index 111) to leader 2
term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 29798 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 17 leaderCommit: 110 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
term 19 server 0 vote for server 2
term 19 server 2 get outdate rpc reply from server 0
flag 54685 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 73752 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 112->111
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 101  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 940 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
rf.lastIncludedIndex 109 rf.lastIncludedTerm 17 rf.commitIndex 109 rf.lastApplied 109
flag 16485 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 23519 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
flag 98014 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 64060 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77837 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 23146 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
term 19 server 1 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 1
flag 56205 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 86359 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
flag 92767 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 9887 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90896 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 36698 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
flag 50626 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 42022 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1653035654232633974 (index 112) to leader 2
flag 1090 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 28788 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111} {1653035654232633974 19 112}]
------------------------------------------------------
flag 46675 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 53261 term 19 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111} {1653035654232633974 19 112}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6521242698963127663 (index 113) to leader 2
client write log 8890841521447749700 (index 114) to leader 2
client write log 7245746871566783587 (index 115) to leader 2
client write log 5372980673093466178 (index 116) to leader 2
client write log 9171608902614314610 (index 117) to leader 2
client write log 4801152990063376464 (index 118) to leader 2
client write log 5780102832530049255 (index 119) to leader 2
client write log 2929451070425117642 (index 120) to leader 2
client write log 3992860285860613825 (index 121) to leader 2
client write log 2784299593482311399 (index 122) to leader 2
client write log 5024137318830201782 (index 123) to leader 2
flag 62131 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 91860 term 19 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 17 109} {4559916758806646044 17 110} {2163605273308498500 17 111} {1653035654232633974 19 112} {6521242698963127663 19 113} {8890841521447749700 19 114} {7245746871566783587 19 115} {5372980673093466178 19 116} {9171608902614314610 19 117} {4801152990063376464 19 118} {5780102832530049255 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=123
-------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 66136 term 19 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=123
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4050787319322794033 (index 124) to leader 2
term 19 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
term 21 server 1 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get outdate rpc reply from server 0
flag 92780 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 80762 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 125->124
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 125->124
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 22727 term 21 leader 2 nextIndex[1]: 124  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
flag 31380 term 21 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 28328 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60742 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 35125 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16460 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 41140 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99221 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 57999 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 2
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
flag 72827 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 60430 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74406 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 42068 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40564 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 24000 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
flag 75774 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 96146 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
flag 4734 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 19767 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
flag 28399 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 77062 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
flag 5324 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 67299 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71803 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 88480 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
flag 87578 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 47371 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43198 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 327 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
flag 86124 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 27681 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
flag 69788 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 83674 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72962 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 26744 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97856 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 63642 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124}]
------------------------------------------------------
client write log 4050787319322794033 (index 125) to leader 2
flag 77782 term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 34539 term 21 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125}]
------------------------------------------------------
flag 22229 term 21 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 52107 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36066 term 21 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 78757 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125}]
------------------------------------------------------
flag 62027 term 21 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 23021 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125}]
------------------------------------------------------
flag 34360 term 21 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 95252 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125}]
------------------------------------------------------
flag 30544 term 21 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 87304 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
term 21 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 1115 term 21 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 66856 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 19506 term 21 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 92911 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 93930 term 21 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 24570 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 22 server 0 vote for server 1
term 22 server 1 get vote from server 0
term 22 server 1 become leader
------------------------------------------------------
flag 16624 term 22 leader 1 nextIndex[0]: 126  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 45398 term 22 leader 1 nextIndex[2]: 126  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125}]
------------------------------------------------------
client write log 2994776750006352646 (index 126) to leader 1
flag 50397 term 21 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 5078 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 78530 term 22 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 22 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 45366 term 22 leader 1 nextIndex[2]: 126  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126}]
------------------------------------------------------
flag 61954 term 21 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 14627 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 52338 term 22 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 86485 term 22 leader 1 nextIndex[2]: 126  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126}]
------------------------------------------------------
client write log 4961892264897040324 (index 127) to leader 1
flag 3206 term 21 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 96844 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 40737 term 22 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 97705 term 22 leader 1 nextIndex[2]: 126  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127}]
------------------------------------------------------
flag 63935 term 21 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 66710 term 21 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 126->125
------------------------------------------------------
flag 69671 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 72916 term 22 leader 1 nextIndex[2]: 126  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5140836037241085572 (index 128) to leader 1
flag 34267 term 21 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 0  matchIndex[1]: 125
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 server 0 AppendEntries false 领导者任期过期 args.Term 21
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44839 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 55031 term 22 leader 1 nextIndex[2]: 126  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128}]
------------------------------------------------------
flag 90689 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 70371 term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128}]
------------------------------------------------------
flag 4846 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 95027 term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13005 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 91394 term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128}]
------------------------------------------------------
flag 53066 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 19970 term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128}]
------------------------------------------------------
flag 47051 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 22562 term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38609 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 48274 term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7911115128833642642 (index 129) to leader 1
flag 81427 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 11507 term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 119} {2929451070425117642 19 120} {3992860285860613825 19 121} {2784299593482311399 19 122} {5024137318830201782 19 123} {4050787319322794033 19 124} {4050787319322794033 21 125} {2994776750006352646 22 126} {4961892264897040324 22 127} {5140836037241085572 22 128} {7911115128833642642 22 129}]
------------------------------------------------------
term 22 Server1 start snapshot! index=129
term 22 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 18429 term 22 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 129 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 22 129}]
------------------------------------------------------
term 22 Server0 start snapshot! index=129
term 22 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
client write log 816308884861376613 (index 130) to leader 1
client write log 2622100673877094806 (index 131) to leader 1
client write log 7568486297948394181 (index 132) to leader 1
client write log 6091049045332156488 (index 133) to leader 1
client write log 2463646760072145812 (index 134) to leader 1
client write log 3706749435597341742 (index 135) to leader 1
client write log 8328069493028427078 (index 136) to leader 1
client write log 6111038430434302352 (index 137) to leader 1
client write log 7986708553242193736 (index 138) to leader 1
client write log 3685299607109193735 (index 139) to leader 1
client write log 8473813450618913005 (index 140) to leader 1
client write log 8809557770825839906 (index 141) to leader 1
client write log 174628533282620576 (index 142) to leader 1
flag 7650 term 22 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 129 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 22 129} {816308884861376613 22 130} {2622100673877094806 22 131} {7568486297948394181 22 132} {6091049045332156488 22 133} {2463646760072145812 22 134} {3706749435597341742 22 135} {8328069493028427078 22 136} {6111038430434302352 22 137} {7986708553242193736 22 138} {3685299607109193735 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142}]
------------------------------------------------------
term 22 Server1 start snapshot! index=139
term 22 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=142
-------------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
flag 13842 term 22 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 22 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 16040 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142}]
------------------------------------------------------
term 22 Server0 start snapshot! index=139
term 22 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=142
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4317903414338949147 (index 143) to leader 1
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10770 term 22 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 22 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 41729 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries false 领导者任期过期 args.Term 22
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 1 not vote for server 2, 日志不够新
term 22 server 0 not vote for server 2, 日志不够新
term 25 server 2 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 0 become leader
------------------------------------------------------
term 25 server 1 vote for server 0
term 25 server 0 get outdate rpc reply from server 1
flag 41087 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 35641 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 144->143
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97676 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 129  matchIndex[2]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 25 server 2 InstallSnapshot success
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 22 rf.commitIndex 139 rf.lastApplied 139
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23368 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 60861 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25588 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 10975 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
flag 4066 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 52868 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
flag 55513 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 96925 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
flag 41783 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 85285 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
flag 58962 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 26497 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
flag 13288 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 92576 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25409 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 33995 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84119 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 59140 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
flag 36451 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 31764 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
flag 51145 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 87725 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
flag 67208 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 59492 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
flag 60454 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 80334 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
flag 53110 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 32980 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143}]
------------------------------------------------------
client write log 4317903414338949147 (index 144) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44931 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
flag 54202 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 22 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50946 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 74834 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144}]
------------------------------------------------------
flag 64253 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 11146 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144}]
------------------------------------------------------
flag 37356 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 40731 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1006 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 94808 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66567 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 27045 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9114612729910299859 (index 145) to leader 0
flag 61921 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 12047 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144} {9114612729910299859 25 145}]
------------------------------------------------------
flag 69241 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 76322 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144} {9114612729910299859 25 145}]
------------------------------------------------------
client write log 4004028361064194645 (index 146) to leader 0
client write log 4599617906372048067 (index 147) to leader 0
client write log 8797715988084435221 (index 148) to leader 0
client write log 4599017977923798296 (index 149) to leader 0
client write log 350135974759433849 (index 150) to leader 0
client write log 7177971174503558485 (index 151) to leader 0
client write log 7071079564402974441 (index 152) to leader 0
client write log 5313921814126190839 (index 153) to leader 0
client write log 197805714038945351 (index 154) to leader 0
client write log 5279803475896600876 (index 155) to leader 0
client write log 1663774300932728709 (index 156) to leader 0
client write log 9108122111701709764 (index 157) to leader 0
client write log 1513259723552345925 (index 158) to leader 0
client write log 7633974338253669969 (index 159) to leader 0
flag 22810 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 14106 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 22 139} {8473813450618913005 22 140} {8809557770825839906 22 141} {174628533282620576 22 142} {4317903414338949147 22 143} {4317903414338949147 25 144} {9114612729910299859 25 145} {4004028361064194645 25 146} {4599617906372048067 25 147} {8797715988084435221 25 148} {4599017977923798296 25 149} {350135974759433849 25 150} {7177971174503558485 25 151} {7071079564402974441 25 152} {5313921814126190839 25 153} {197805714038945351 25 154} {5279803475896600876 25 155} {1663774300932728709 25 156} {9108122111701709764 25 157} {1513259723552345925 25 158} {7633974338253669969 25 159}]
------------------------------------------------------
term 25 Server0 start snapshot! index=149
term 25 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=159
-------------------------------------------------------------
term 25 Server0 start snapshot! index=159
term 25 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 61100 term 25 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 25 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
term 25 Server2 start snapshot! index=149
term 25 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=159
-------------------------------------------------------------
term 25 Server2 start snapshot! index=159
term 25 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1123426370423866407 (index 160) to leader 0
term 25 server 2 not vote for server 1, 日志不够新
term 25 server 0 not vote for server 1, 日志不够新
term 27 server 2 vote for server 0
term 27 server 0 get vote from server 2
term 27 server 0 become leader
------------------------------------------------------
term 27 server 1 vote for server 0
term 27 server 0 get outdate rpc reply from server 1
flag 81808 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 20848 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 161->160
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 161->160
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 145  matchIndex[1]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 64029 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 InstallSnapshot success
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 25 rf.commitIndex 159 rf.lastApplied 159
flag 62456 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 87339 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
flag 17893 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 59529 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
flag 69141 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 32184 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
flag 71950 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 86439 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
flag 24329 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 85816 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
flag 33156 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 1236 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
flag 71942 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 44249 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1993 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 13947 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64774 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 84999 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
flag 59037 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 19817 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82004 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 44738 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
flag 25896 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 88366 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
flag 75424 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 90770 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66859 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 63496 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86283 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 6566 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
flag 46084 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 16973 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88338 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 95239 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
flag 85079 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 30984 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {1123426370423866407 25 160}]
------------------------------------------------------
client write log 1123426370423866407 (index 161) to leader 0
flag 11168 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 12582 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161}]
------------------------------------------------------
flag 31328 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 62063 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161}]
------------------------------------------------------
term 27 server 2 not vote for server 1, 任期不够新
term 27 server 1 get outdate rpc reply from server 2
flag 58093 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 71739 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161}]
------------------------------------------------------
flag 52947 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 87210 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161}]
------------------------------------------------------
flag 599 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 32407 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161}]
------------------------------------------------------
flag 69877 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 13438 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 84138 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 60754 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74948 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 15094 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 12894 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 90168 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 22106 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 32399 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
flag 89338 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 38986 term 28 leader 2 nextIndex[1]: 162  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161}]
------------------------------------------------------
client write log 9046185085197689428 (index 162) to leader 2
flag 4722 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 2044 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 75966 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 15307 term 28 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162}]
------------------------------------------------------
flag 18073 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 22856 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 3615 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 96125 term 28 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 28 leaderCommit: 162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162}]
------------------------------------------------------
client write log 6416798145431118921 (index 163) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 162->161
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 0  matchIndex[1]: 161
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 30669 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 20253 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 60549 term 28 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 28 leaderCommit: 162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 0  matchIndex[1]: 161
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 25540 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 25665 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 163 
------------------------------------------------------
flag 17027 term 28 leader 2 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 2 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5765482219124683857 (index 164) to leader 2
term 27 leader 0 nextIndex[1]: 0  matchIndex[1]: 161
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 82083 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 28 server 2 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
term 28 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6672 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 163 
------------------------------------------------------
flag 39971 term 28 leader 2 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 2 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163} {5765482219124683857 28 164}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163} {5765482219124683857 28 164}]
------------------------------------------------------
term 28 server 1 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 1
flag 31980 term 28 leader 2 nextIndex[0]: 165  matchIndex[0]: 164
term 28 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 43790 term 28 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163} {5765482219124683857 28 164}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163} {5765482219124683857 28 164}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16902 term 28 leader 2 nextIndex[0]: 165  matchIndex[0]: 164
term 28 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 34377 term 28 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163} {5765482219124683857 28 164}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163} {5765482219124683857 28 164}]
------------------------------------------------------
flag 43710 term 28 leader 2 nextIndex[0]: 165  matchIndex[0]: 164
term 28 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 29093 term 28 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163} {5765482219124683857 28 164}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163} {5765482219124683857 28 164}]
------------------------------------------------------
term 28 server 0 not vote for server 2, 日志不够新
term 28 server 2 get outdate rpc reply from server 0
flag 98638 term 28 leader 2 nextIndex[0]: 165  matchIndex[0]: 164
term 28 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 78850 term 28 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163} {5765482219124683857 28 164}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163} {5765482219124683857 28 164}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 165->164
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 164
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 34476 term 28 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 0 InstallSnapshot fail
rf.commitIndex 164 args.LastIncludedIndex 159
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true------------------------------------------------------
update nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163} {5765482219124683857 28 164}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3032340854324115203 (index 165) to leader 2
flag 43912 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 164 
------------------------------------------------------
flag 13964 term 28 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163} {5765482219124683857 28 164} {3032340854324115203 28 165}]
------------------------------------------------------
flag 58104 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 12543 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163} {5765482219124683857 28 164} {3032340854324115203 28 165}]
------------------------------------------------------
client write log 3589899923186034648 (index 166) to leader 2
client write log 4848683264068624401 (index 167) to leader 2
client write log 1099517921723124188 (index 168) to leader 2
client write log 5736489168350631387 (index 169) to leader 2
client write log 4020305953427569136 (index 170) to leader 2
client write log 3180846183265051503 (index 171) to leader 2
client write log 780573704510691248 (index 172) to leader 2
client write log 8937542238345043636 (index 173) to leader 2
client write log 3486298958794245948 (index 174) to leader 2
client write log 1412249914220495596 (index 175) to leader 2
flag 64904 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 66013 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 25 159} {1123426370423866407 25 160} {1123426370423866407 27 161} {9046185085197689428 28 162} {6416798145431118921 28 163} {5765482219124683857 28 164} {3032340854324115203 28 165} {3589899923186034648 28 166} {4848683264068624401 28 167} {1099517921723124188 28 168} {5736489168350631387 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175}]
------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=175
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 59103 term 28 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 28 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175}]
------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=175
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6209248542420639043 (index 176) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 160->159
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 159
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 961 term 28 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 28 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 1 vote for server 2
term 30 server 0 vote for server 2
term 30 server 2 get vote from server 1
term 30 server 2 become leader
------------------------------------------------------
term 30 server 2 get outdate rpc reply from server 0
flag 4256 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 202 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 177->176
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 84406 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
term 30 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
term 30 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52219 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 98392 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
flag 84306 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 66356 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70719 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 10512 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53338 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 40232 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
flag 17270 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 60283 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6345 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 54512 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
flag 71201 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 84317 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
flag 59051 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 9743 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34147 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 79216 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
flag 97325 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 34784 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
flag 66225 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 29000 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
flag 69706 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 7291 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
flag 49055 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 76434 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60994 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 5284 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
flag 63188 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 14889 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92829 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 15700 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
term 30 server 0 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 0
flag 37508 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 76305 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176}]
------------------------------------------------------
client write log 6209248542420639043 (index 177) to leader 2
flag 2672 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 52911 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177}]
------------------------------------------------------
flag 17365 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 638 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177}]
------------------------------------------------------
term 30 server 2 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 2
flag 57038 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 56893 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9138 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 59786 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20100 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 64477 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66838 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 59922 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177}]
------------------------------------------------------
flag 21518 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 3659 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1076133720409827550 (index 178) to leader 2
flag 60659 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 57279 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177} {1076133720409827550 30 178}]
------------------------------------------------------
flag 47518 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 48782 term 30 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177} {1076133720409827550 30 178}]
------------------------------------------------------
client write log 2329259546977918003 (index 179) to leader 2
client write log 5687159690855081452 (index 180) to leader 2
client write log 4528136722279360049 (index 181) to leader 2
client write log 6878920764339447997 (index 182) to leader 2
client write log 4435294307847785999 (index 183) to leader 2
client write log 4508254920253024685 (index 184) to leader 2
client write log 4615454781375728217 (index 185) to leader 2
flag 77040 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 28874 term 30 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 28 169} {4020305953427569136 28 170} {3180846183265051503 28 171} {780573704510691248 28 172} {8937542238345043636 28 173} {3486298958794245948 28 174} {1412249914220495596 28 175} {6209248542420639043 28 176} {6209248542420639043 30 177} {1076133720409827550 30 178} {2329259546977918003 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185}]
------------------------------------------------------
term 30 Server2 start snapshot! index=179
term 30 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 49563 term 30 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 30 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185}]
------------------------------------------------------
term 30 Server1 start snapshot! index=179
term 30 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3753769722100514060 (index 186) to leader 2
term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 82464 term 30 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 30 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 31 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 1 vote for server 2
term 32 server 0 vote for server 2
term 32 server 2 get vote from server 1
term 32 server 2 become leader
------------------------------------------------------
term 32 server 2 get outdate rpc reply from server 0
flag 79130 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 94125 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 187->186
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 0
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 31832 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 30 rf.commitIndex 179 rf.lastApplied 179
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
flag 41543 term 32 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 65180 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
flag 75891 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 82564 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48576 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 36629 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
flag 44108 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 11270 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
flag 67155 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 15245 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
flag 38422 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 2598 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54040 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 82438 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
flag 63678 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 25653 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
flag 86816 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 13286 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52417 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 33434 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
flag 40964 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 59984 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
flag 3315 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 6210 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41406 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 93100 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
flag 5619 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 56600 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
flag 42521 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 73319 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
flag 38184 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 72592 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80251 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 71988 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186}]
------------------------------------------------------
client write log 3753769722100514060 (index 187) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13376 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 48463 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187}]
------------------------------------------------------
flag 91741 term 32 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 36223 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187}]
------------------------------------------------------
flag 11274 term 32 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 73024 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187}]
------------------------------------------------------
flag 33599 term 32 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 1297 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187}]
------------------------------------------------------
flag 82456 term 32 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 81935 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187}]
------------------------------------------------------
flag 30208 term 32 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 88964 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187}]
------------------------------------------------------
flag 23761 term 32 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 16881 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 442 term 32 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 5865 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 71840 term 32 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 52809 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2667 term 32 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 72742 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 33 server 0 vote for server 1
term 33 server 1 get vote from server 0
term 33 server 1 become leader
------------------------------------------------------
client write log 6115847755394012111 (index 188) to leader 1
flag 31426 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 52393 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187} {6115847755394012111 33 188}]
------------------------------------------------------
flag 54285 term 32 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 8343 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 16606 term 33 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 33 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 48866 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187} {6115847755394012111 33 188}]
------------------------------------------------------
client write log 4560949220207118577 (index 189) to leader 1
flag 13947 term 32 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 58932 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 96129 term 33 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 33 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 44508 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 179} {5687159690855081452 30 180} {4528136722279360049 30 181} {6878920764339447997 30 182} {4435294307847785999 30 183} {4508254920253024685 30 184} {4615454781375728217 30 185} {3753769722100514060 30 186} {3753769722100514060 32 187} {6115847755394012111 33 188} {4560949220207118577 33 189}]
------------------------------------------------------
term 33 Server1 start snapshot! index=189
term 33 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
flag 37457 term 32 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 99372 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 53721 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 33 189}]
------------------------------------------------------
term 33 Server0 start snapshot! index=189
term 33 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6252662214454807410 (index 190) to leader 1
flag 57490 term 32 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 42237 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 33 server 1 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
term 33 server 0 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27581 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 33 rf.commitIndex 189 rf.lastApplied 189
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {6252662214454807410 33 190}]
------------------------------------------------------
flag 60162 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
flag 93635 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {6252662214454807410 33 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {6252662214454807410 33 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 191->190
------------------------------------------------------
flag 6430 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 190
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 2 InstallSnapshot fail
rf.commitIndex 189 args.LastIncludedIndex 189
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {6252662214454807410 33 190}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 1 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 1
flag 16138 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
flag 3609 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {6252662214454807410 33 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {6252662214454807410 33 190}]
------------------------------------------------------
flag 42257 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
flag 5339 term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {6252662214454807410 33 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {6252662214454807410 33 190}]
------------------------------------------------------
flag 17171 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
flag 3834 term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {6252662214454807410 33 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {6252662214454807410 33 190}]
------------------------------------------------------
flag 24604 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
flag 87896 term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {6252662214454807410 33 190}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {6252662214454807410 33 190}]
------------------------------------------------------
term 33 server 2 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44183 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
flag 13790 term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {6252662214454807410 33 190}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 33 189} {6252662214454807410 33 190}]
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 4466448843695626933 (index 191) to leader 1
flag 22642 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
flag 71266 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {6252662214454807410 33 190} {4466448843695626933 33 191}]
------------------------------------------------------
flag 97808 term 33 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 33 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 38953 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {6252662214454807410 33 190} {4466448843695626933 33 191}]
------------------------------------------------------
client write log 6208180357981773284 (index 192) to leader 1
client write log 5603772523725140422 (index 193) to leader 1
client write log 7528333064858625085 (index 194) to leader 1
client write log 5432995469527037222 (index 195) to leader 1
client write log 6933053501432300349 (index 196) to leader 1
client write log 7681326761197039441 (index 197) to leader 1
client write log 5928597803199435372 (index 198) to leader 1
client write log 6935876334244473568 (index 199) to leader 1
client write log 8580116572183048591 (index 200) to leader 1
client write log 2277082028966578805 (index 201) to leader 1
client write log 3236110607352010924 (index 202) to leader 1
client write log 70844912110219080 (index 203) to leader 1
flag 46405 term 33 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 33 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 50480 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 189} {6252662214454807410 33 190} {4466448843695626933 33 191} {6208180357981773284 33 192} {5603772523725140422 33 193} {7528333064858625085 33 194} {5432995469527037222 33 195} {6933053501432300349 33 196} {7681326761197039441 33 197} {5928597803199435372 33 198} {6935876334244473568 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203}]
------------------------------------------------------
term 33 Server1 start snapshot! index=199
term 33 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=203
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 190->189
------------------------------------------------------
flag 17082 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 189
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203}]
------------------------------------------------------
term 33 Server0 start snapshot! index=199
term 33 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=203
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8838126921188043959 (index 204) to leader 1
term 33 server 1 not vote for server 2, 日志不够新
term 33 server 0 not vote for server 2, 日志不够新
term 35 server 2 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
term 35 server 0 vote for server 1
term 35 server 1 get outdate rpc reply from server 0
flag 78583 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 93300 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 205->204
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 205->204
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45848 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 191  matchIndex[2]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 33 rf.commitIndex 199 rf.lastApplied 199
flag 81292 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 14025 term 35 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 35 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
flag 97501 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 38715 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
flag 90996 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 67969 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
flag 36122 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 50631 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
flag 82528 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 67992 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
flag 4613 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 95039 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 1 not vote for server 0, 任期不够新
term 35 server 0 get outdate rpc reply from server 1
flag 31665 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 66881 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57378 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 57802 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34727 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 59252 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
flag 52891 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 64168 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
flag 8073 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 64967 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
flag 29417 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 26119 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
flag 90441 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 31429 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
flag 3963 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 2076 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9572 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 34105 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21633 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 1605 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1223 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 55409 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204}]
------------------------------------------------------
client write log 8838126921188043959 (index 205) to leader 1
flag 9102 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 37126 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205}]
------------------------------------------------------
flag 35753 term 35 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 25157 term 35 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8700 term 35 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 91481 term 35 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205}]
------------------------------------------------------
flag 5339 term 35 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 418 term 35 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92259 term 35 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 62358 term 35 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35220 term 35 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 8090 term 35 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205}]
------------------------------------------------------
flag 29498 term 35 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 47662 term 35 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1499342288647546457 (index 206) to leader 1
flag 90450 term 35 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 2409 term 35 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205} {1499342288647546457 35 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 928 term 35 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 35 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 23617 term 35 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205} {1499342288647546457 35 206}]
------------------------------------------------------
client write log 368868963486849830 (index 207) to leader 1
client write log 8199593541595726278 (index 208) to leader 1
client write log 3541906585821341912 (index 209) to leader 1
client write log 2041968082986043498 (index 210) to leader 1
client write log 2894277427222582280 (index 211) to leader 1
client write log 3359115293996044732 (index 212) to leader 1
client write log 142867288777681212 (index 213) to leader 1
client write log 2714090387235875667 (index 214) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45808 term 35 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 35 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 29099 term 35 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 199} {8580116572183048591 33 200} {2277082028966578805 33 201} {3236110607352010924 33 202} {70844912110219080 33 203} {8838126921188043959 33 204} {8838126921188043959 35 205} {1499342288647546457 35 206} {368868963486849830 35 207} {8199593541595726278 35 208} {3541906585821341912 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214}]
------------------------------------------------------
term 35 Server1 start snapshot! index=209
term 35 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=214
-------------------------------------------------------------
flag 10649 term 35 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 35 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214}]
------------------------------------------------------
term 35 Server0 start snapshot! index=209
term 35 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=214
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7513042273311649123 (index 215) to leader 1
flag 86582 term 35 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 35 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 36 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 2 vote for server 1
term 37 server 0 vote for server 1
term 37 server 1 get vote from server 2
term 37 server 1 become leader
------------------------------------------------------
term 37 server 1 get outdate rpc reply from server 0
flag 36653 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 99079 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 216->215
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
flag 60578 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 206  matchIndex[2]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 37 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 35 rf.commitIndex 209 rf.lastApplied 209
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
flag 11296 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 55420 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
term 37 server 2 not vote for server 1, 任期不够新
term 37 server 1 get outdate rpc reply from server 2
flag 10726 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 95977 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
flag 95326 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 82539 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60617 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 44504 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
flag 75739 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 28828 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
flag 89066 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 62693 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
flag 28738 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 74280 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
flag 14166 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 76447 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
flag 46138 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 79495 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
flag 53020 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 97234 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
flag 30215 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 68360 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
flag 43162 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 1384 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
flag 67106 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 92186 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
flag 1951 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 88218 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
flag 15766 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 14363 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
flag 62730 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 26524 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
update nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215}]
------------------------------------------------------
client write log 7513042273311649123 (index 216) to leader 1
flag 17754 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 56201 term 37 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12865 term 37 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 89058 term 37 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216}]
------------------------------------------------------
flag 45140 term 37 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 25142 term 37 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216}]
------------------------------------------------------
flag 78971 term 37 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 65521 term 37 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216}]
------------------------------------------------------
flag 22569 term 37 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 33262 term 37 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216}]
------------------------------------------------------
flag 97482 term 37 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 84568 term 37 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 49246 term 37 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 79936 term 37 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 217->216
------------------------------------------------------
flag 48862 term 37 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 0  matchIndex[2]: 216
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 2132 term 37 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 0  matchIndex[2]: 216
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 0
term 38 server 2 become leader
------------------------------------------------------
flag 71695 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 63387 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216}]
------------------------------------------------------
flag 62627 term 37 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 0  matchIndex[2]: 216
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
client write log 6922040097156664343 (index 217) to leader 2
flag 10017 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 36164 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216} {6922040097156664343 38 217}]
------------------------------------------------------
flag 40928 term 37 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 0  matchIndex[2]: 216
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 217->216
------------------------------------------------------
flag 48204 term 38 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216} {6922040097156664343 38 217}]
------------------------------------------------------
flag 64774 term 37 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 0  matchIndex[2]: 216
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
client write log 7327413903696919515 (index 218) to leader 2
client write log 4587924769051218131 (index 219) to leader 2
client write log 7242949460153757330 (index 220) to leader 2
client write log 4644911246521337150 (index 221) to leader 2
client write log 6105281969136422582 (index 222) to leader 2
client write log 1364212457969541583 (index 223) to leader 2
client write log 5974639900637828521 (index 224) to leader 2
client write log 4286388539992084740 (index 225) to leader 2
term 37 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3342 term 38 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 209} {2041968082986043498 35 210} {2894277427222582280 35 211} {3359115293996044732 35 212} {142867288777681212 35 213} {2714090387235875667 35 214} {7513042273311649123 35 215} {7513042273311649123 37 216} {6922040097156664343 38 217} {7327413903696919515 38 218} {4587924769051218131 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 Server2 start snapshot! index=219
term 38 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=225
-------------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
flag 7798 term 37 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 64524 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 220->219
------------------------------------------------------
flag 95348 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 219
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 Server0 start snapshot! index=219
term 38 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=225
-------------------------------------------------------------
flag 94324 term 37 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 16151 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
!!!!!!connect server 1
client write log 8456333262543772683 (index 217) to leader 1
flag 75934 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 219
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 1 InstallSnapshot success
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 38 rf.commitIndex 219 rf.lastApplied 219
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 0 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 0
flag 67928 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 35472 term 38 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
flag 99860 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 4097 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
flag 25448 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 39289 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
flag 91574 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 90566 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
flag 16933 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 52643 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49707 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 24822 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
flag 1961 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 22047 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67048 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 57513 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
flag 30069 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 90253 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
flag 82104 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 99594 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54673 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 66398 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52395 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 64822 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
flag 57316 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 59451 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
flag 97334 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 66381 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
flag 27771 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 83271 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41262 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 8955 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
flag 90727 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 61875 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
flag 14110 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 43857 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
flag 45404 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 57598 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225}]
------------------------------------------------------
client write log 8456333262543772683 (index 226) to leader 2
flag 6471 term 38 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 16959 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 日志不够新
term 38 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97271 term 38 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
flag 9626 term 38 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226}]
------------------------------------------------------
flag 36096 term 38 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
flag 1758 term 38 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226}]
------------------------------------------------------
flag 55811 term 38 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
flag 96040 term 38 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226}]
------------------------------------------------------
flag 14428 term 38 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
flag 35014 term 38 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45289 term 38 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
flag 6756 term 38 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
term 38 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 77046 term 38 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
flag 13201 term 38 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1978767476645285380 (index 227) to leader 2
flag 81730 term 38 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
flag 16888 term 38 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226} {1978767476645285380 38 227}]
------------------------------------------------------
flag 4195 term 38 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 38 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
flag 25005 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226} {1978767476645285380 38 227}]
------------------------------------------------------
client write log 2954043439252142043 (index 228) to leader 2
client write log 8539406210463293279 (index 229) to leader 2
client write log 4451416888032986426 (index 230) to leader 2
client write log 5525553963523802358 (index 231) to leader 2
client write log 6204562514698950805 (index 232) to leader 2
client write log 3742645600133389682 (index 233) to leader 2
client write log 3238353254590827609 (index 234) to leader 2
client write log 1074902864252466150 (index 235) to leader 2
client write log 1984956024526262754 (index 236) to leader 2
client write log 8727696108632740038 (index 237) to leader 2
client write log 7704590656151019238 (index 238) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 227->226
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 0  matchIndex[0]: 226
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 38
------------------------------------------------------
flag 1716 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 219} {7242949460153757330 38 220} {4644911246521337150 38 221} {6105281969136422582 38 222} {1364212457969541583 38 223} {5974639900637828521 38 224} {4286388539992084740 38 225} {8456333262543772683 38 226} {1978767476645285380 38 227} {2954043439252142043 38 228} {8539406210463293279 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238}]
------------------------------------------------------
term 38 Server2 start snapshot! index=229
term 38 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=238
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 0  matchIndex[0]: 226
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 12619 term 38 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238}]
------------------------------------------------------
term 38 Server1 start snapshot! index=229
term 38 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=238
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5108232798577743367 (index 239) to leader 2
term 38 server 2 not vote for server 0, 日志不够新
term 38 server 1 not vote for server 0, 日志不够新
term 40 server 1 vote for server 2
term 40 server 0 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 2 get outdate rpc reply from server 0
flag 81395 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 43535 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 240->239
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 240->239
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 25996 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 38 rf.commitIndex 229 rf.lastApplied 229
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68313 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 31620 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
flag 33154 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 64209 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
flag 30983 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 31091 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76099 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 85595 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26963 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 22912 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
flag 76454 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 61945 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19686 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 63189 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
flag 977 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 2384 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
flag 78061 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 57648 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
flag 92794 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 65503 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
flag 78206 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 35451 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48854 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 68990 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80769 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 26233 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
flag 44521 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 73372 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
flag 58495 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 50828 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
flag 73576 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 3497 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
flag 14499 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 26686 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
flag 80146 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 19326 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239}]
------------------------------------------------------
client write log 5108232798577743367 (index 240) to leader 2
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57230 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 2693 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239} {5108232798577743367 40 240}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 229} {4451416888032986426 38 230} {5525553963523802358 38 231} {6204562514698950805 38 232} {3742645600133389682 38 233} {3238353254590827609 38 234} {1074902864252466150 38 235} {1984956024526262754 38 236} {8727696108632740038 38 237} {7704590656151019238 38 238} {5108232798577743367 38 239} {5108232798577743367 40 240}]
------------------------------------------------------
term 40 Server2 start snapshot! index=239
term 40 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
flag 53488 term 40 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 90586 term 40 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5108232798577743367 40 240}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5108232798577743367 40 240}]
------------------------------------------------------
term 40 Server1 start snapshot! index=239
term 40 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
term 40 Server0 start snapshot! index=239
term 40 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10446 term 40 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 81707 term 40 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5108232798577743367 40 240}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5108232798577743367 40 240}]
------------------------------------------------------
flag 26966 term 40 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 64237 term 40 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5108232798577743367 40 240}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5108232798577743367 40 240}]
------------------------------------------------------
flag 85302 term 40 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 70573 term 40 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5108232798577743367 40 240}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5108232798577743367 40 240}]
------------------------------------------------------
flag 85436 term 40 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 12453 term 40 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5108232798577743367 40 240}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5108232798577743367 40 240}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2505694064924052610 (index 241) to leader 2
flag 90052 term 40 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 82925 term 40 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 38 239} {5108232798577743367 40 240} {2505694064924052610 40 241}]
------------------------------------------------------
flag 82753 term 40 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 241 
------------------------------------------------------
flag 74215 term 40 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 40 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 241 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 38 239} {5108232798577743367 40 240} {2505694064924052610 40 241}]
------------------------------------------------------
client write log 5863234505110581336 (index 242) to leader 2
client write log 4238639769555020589 (index 243) to leader 2
client write log 2746441612715762434 (index 244) to leader 2
client write log 9138815254735321802 (index 245) to leader 2
client write log 193160796748431177 (index 246) to leader 2
client write log 6156144989851804000 (index 247) to leader 2
client write log 9012396260945829402 (index 248) to leader 2
client write log 7025591220051177621 (index 249) to leader 2
flag 23936 term 40 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 241 
------------------------------------------------------
flag 68134 term 40 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 40 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 241 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 239} {5108232798577743367 40 240} {2505694064924052610 40 241} {5863234505110581336 40 242} {4238639769555020589 40 243} {2746441612715762434 40 244} {9138815254735321802 40 245} {193160796748431177 40 246} {6156144989851804000 40 247} {9012396260945829402 40 248} {7025591220051177621 40 249}]
------------------------------------------------------
term 40 Server2 start snapshot! index=249
term 40 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
flag 84099 term 40 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 40 249}]
------------------------------------------------------
term 40 Server1 start snapshot! index=249
term 40 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8444400351298253328 (index 250) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
flag 13180 term 40 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 server 1 vote for server 2
term 42 server 2 get vote from server 1
term 42 server 2 become leader
------------------------------------------------------
term 42 server 0 vote for server 2
term 42 server 2 get outdate rpc reply from server 0
flag 74141 term 42 leader 2 nextIndex[0]: 251  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 77583 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 251->250
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 241  matchIndex[0]: 0
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
flag 59179 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
term 42 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 40 rf.commitIndex 249 rf.lastApplied 249
term 42 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
flag 84903 term 42 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 42 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 96715 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26739 term 42 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 30527 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
flag 87914 term 42 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 82606 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
flag 93368 term 42 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 89428 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
flag 32377 term 42 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 96521 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
flag 13453 term 42 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 7993 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
flag 47151 term 42 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 28945 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 40 249} {8444400351298253328 40 250}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 44812 term 42 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 93711 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 59699 term 42 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 95233 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 84128 term 42 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 28809 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 251->250
------------------------------------------------------
term 43 server 1 vote for server 0
term 43 server 0 get vote from server 1
term 43 server 0 become leader
------------------------------------------------------
client write log 2648811679615983240 (index 251) to leader 0
flag 78842 term 43 leader 0 nextIndex[1]: 251  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 4295 term 43 leader 0 nextIndex[2]: 251  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {8444400351298253328 40 250} {2648811679615983240 43 251}]
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 0  matchIndex[0]: 250
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
flag 10106 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 13310 term 43 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 251 
------------------------------------------------------
flag 51589 term 43 leader 0 nextIndex[2]: 251  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {8444400351298253328 40 250} {2648811679615983240 43 251}]
------------------------------------------------------
client write log 1453523094575378996 (index 252) to leader 0
client write log 3747733786143790927 (index 253) to leader 0
client write log 78233196091494756 (index 254) to leader 0
client write log 7501468351365649765 (index 255) to leader 0
client write log 2650799861226907370 (index 256) to leader 0
client write log 8373507754302663715 (index 257) to leader 0
client write log 5429135667705144077 (index 258) to leader 0
client write log 7897827173761031814 (index 259) to leader 0
client write log 9176812212372378034 (index 260) to leader 0
term 42 leader 2 nextIndex[0]: 0  matchIndex[0]: 250
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
flag 37265 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 76856 term 43 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 251 
------------------------------------------------------
flag 41186 term 43 leader 0 nextIndex[2]: 251  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 249} {8444400351298253328 40 250} {2648811679615983240 43 251} {1453523094575378996 43 252} {3747733786143790927 43 253} {78233196091494756 43 254} {7501468351365649765 43 255} {2650799861226907370 43 256} {8373507754302663715 43 257} {5429135667705144077 43 258} {7897827173761031814 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
term 43 Server0 start snapshot! index=259
term 43 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=260
-------------------------------------------------------------
term 42 leader 2 nextIndex[0]: 0  matchIndex[0]: 250
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
flag 59039 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
flag 92106 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 251  matchIndex[2]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
term 43 Server1 start snapshot! index=259
term 43 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=260
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6716082587861147053 (index 251) to leader 2
term 42 leader 2 nextIndex[0]: 0  matchIndex[0]: 250
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
flag 39990 term 42 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 43 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68770 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 251  matchIndex[2]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 43 rf.commitIndex 259 rf.lastApplied 259
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 86771 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 78770 term 43 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 56415 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 7086 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90417 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 96311 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 60036 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 58774 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 18493 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 51051 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 96766 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 66115 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 28961 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 16239 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
update nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 261->260
------------------------------------------------------
flag 37441 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 0  matchIndex[2]: 260
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 2 InstallSnapshot fail
rf.commitIndex 260 args.LastIncludedIndex 259
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60137 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 8242 term 43 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 66541 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 40042 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 23773 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 32730 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 35660 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 35779 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 38303 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 85776 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 40803 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 15978 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 56592 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 25719 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 5736 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 75896 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 65399 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 66678 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
flag 39234 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 45158 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 43 259} {9176812212372378034 43 260}]
------------------------------------------------------
client write log 6716082587861147053 (index 261) to leader 0
flag 81559 term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 93847 term 43 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {9176812212372378034 43 260} {6716082587861147053 43 261}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {9176812212372378034 43 260} {6716082587861147053 43 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90662 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 60694 term 43 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {9176812212372378034 43 260} {6716082587861147053 43 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {9176812212372378034 43 260} {6716082587861147053 43 261}]
------------------------------------------------------
flag 73654 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 67445 term 43 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {9176812212372378034 43 260} {6716082587861147053 43 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {9176812212372378034 43 260} {6716082587861147053 43 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17791 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 57243 term 43 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {9176812212372378034 43 260} {6716082587861147053 43 261}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {9176812212372378034 43 260} {6716082587861147053 43 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 262->261
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60186 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 0  matchIndex[2]: 261
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 2 InstallSnapshot fail
rf.commitIndex 261 args.LastIncludedIndex 259
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 43 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {9176812212372378034 43 260} {6716082587861147053 43 261}]
------------------------------------------------------
flag 14108 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 30488 term 43 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {9176812212372378034 43 260} {6716082587861147053 43 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 43 259} {9176812212372378034 43 260} {6716082587861147053 43 261}]
------------------------------------------------------
term 43 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 1646721486746215632 (index 262) to leader 0
flag 28289 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 16104 term 43 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {9176812212372378034 43 260} {6716082587861147053 43 261} {1646721486746215632 43 262}]
------------------------------------------------------
flag 46392 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 80420 term 43 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 43 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 43 259} {9176812212372378034 43 260} {6716082587861147053 43 261} {1646721486746215632 43 262}]
------------------------------------------------------
client write log 5113870100701900734 (index 263) to leader 0
client write log 6427870125503827903 (index 264) to leader 0
client write log 1374107051490582130 (index 265) to leader 0
client write log 3469367767739492018 (index 266) to leader 0
client write log 1996804278270992282 (index 267) to leader 0
client write log 7552847031184348546 (index 268) to leader 0
client write log 8427067959663553591 (index 269) to leader 0
client write log 3653798771776101877 (index 270) to leader 0
client write log 4755184706270170492 (index 271) to leader 0
client write log 3835245351195932768 (index 272) to leader 0
client write log 3370115629950042361 (index 273) to leader 0
client write log 5445615433951984692 (index 274) to leader 0
client write log 6399502432811926195 (index 275) to leader 0
client write log 4124283535926810597 (index 276) to leader 0
client write log 3607417416517774518 (index 277) to leader 0
flag 56659 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 37704 term 43 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 43 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 43 259} {9176812212372378034 43 260} {6716082587861147053 43 261} {1646721486746215632 43 262} {5113870100701900734 43 263} {6427870125503827903 43 264} {1374107051490582130 43 265} {3469367767739492018 43 266} {1996804278270992282 43 267} {7552847031184348546 43 268} {8427067959663553591 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277}]
------------------------------------------------------
term 43 Server0 start snapshot! index=269
term 43 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=277
-------------------------------------------------------------
term 43 server 2 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 2
term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 98541 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277}]
------------------------------------------------------
term 43 Server2 start snapshot! index=269
term 43 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=277
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4645894079419498236 (index 278) to leader 0
term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 87821 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
term 44 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 2 vote for server 0
term 45 server 1 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 0 get outdate rpc reply from server 1
flag 7429 term 45 leader 0 nextIndex[1]: 279  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 13106 term 45 leader 0 nextIndex[2]: 279  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 279->278
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 16152 term 45 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 43 rf.commitIndex 269 rf.lastApplied 269
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82248 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 77489 term 45 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
flag 69703 term 45 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 90007 term 45 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
flag 16725 term 45 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 41700 term 45 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28642 term 45 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 94442 term 45 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
flag 95376 term 45 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 59191 term 45 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
flag 44827 term 45 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 52408 term 45 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
flag 23514 term 45 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 14419 term 45 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9077816843925567448 (index 279) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61357 term 45 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 30681 term 45 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 269} {3653798771776101877 43 270} {4755184706270170492 43 271} {3835245351195932768 43 272} {3370115629950042361 43 273} {5445615433951984692 43 274} {6399502432811926195 43 275} {4124283535926810597 43 276} {3607417416517774518 43 277} {4645894079419498236 43 278} {9077816843925567448 45 279}]
------------------------------------------------------
term 45 Server0 start snapshot! index=279
term 45 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 45792 term 45 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
term 45 Server2 start snapshot! index=279
term 45 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
client write log 414954401412769201 (index 280) to leader 0
client write log 6078308743814156285 (index 281) to leader 0
client write log 8159032137797990076 (index 282) to leader 0
client write log 9071265420210893784 (index 283) to leader 0
client write log 8214515654868197304 (index 284) to leader 0
client write log 8183862953042700097 (index 285) to leader 0
term 45 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 1958 term 45 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285}]
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 87355 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285}]
------------------------------------------------------
!!!!!!connect server 1
client write log 711800361163629714 (index 286) to leader 0
term 45 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 49551 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 46 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 2 not vote for server 0, 任期不够新
term 46 server 0 get outdate rpc reply from server 2
term 47 server 2 vote for server 0
term 47 server 1 vote for server 0
term 47 server 0 get vote from server 2
term 47 server 0 become leader
------------------------------------------------------
term 47 server 0 get outdate rpc reply from server 1
flag 33010 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 7100 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 287->286
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 279  matchIndex[1]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 91297 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 45 rf.commitIndex 279 rf.lastApplied 279
flag 73306 term 47 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 79228 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
flag 90 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 57953 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
term 47 server 1 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 1
flag 55681 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 55805 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
flag 22487 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 90441 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
flag 78654 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 99029 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
flag 70309 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 52959 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 20972 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 71852 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 2 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 2
flag 55317 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 19601 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 2349 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 50000 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82404 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 54276 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 48 server 1 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
flag 51000 term 48 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 8441 term 48 leader 2 nextIndex[1]: 287  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286}]
------------------------------------------------------
client write log 1083204811847062916 (index 287) to leader 2
flag 28839 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 71079 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 287->286
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 58119 term 48 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 48 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286} {1083204811847062916 48 287}]
------------------------------------------------------
flag 13464 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 67325 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 6356 term 48 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 48 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 48 leaderCommit: 287 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286} {1083204811847062916 48 287}]
------------------------------------------------------
client write log 3712324997164142470 (index 288) to leader 2
flag 84908 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 13933 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 31340 term 48 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 48 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 48 leaderCommit: 287 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286} {1083204811847062916 48 287} {3712324997164142470 48 288}]
------------------------------------------------------
flag 66010 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 2952 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 8536 term 48 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 48 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 48 leaderCommit: 288 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286} {1083204811847062916 48 287} {3712324997164142470 48 288}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5518849151764783434 (index 289) to leader 2
flag 77131 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 973 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 48 server 1 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
term 48 server 2 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 70014 term 48 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 48 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 48 leaderCommit: 288 
------------------------------------------------------
term 48 server 0 InstallSnapshot fail
rf.commitIndex 286 args.LastIncludedIndex 279
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 45 279} {414954401412769201 45 280} {6078308743814156285 45 281} {8159032137797990076 45 282} {9071265420210893784 45 283} {8214515654868197304 45 284} {8183862953042700097 45 285} {711800361163629714 45 286} {1083204811847062916 48 287} {3712324997164142470 48 288} {5518849151764783434 48 289}]
------------------------------------------------------
term 48 Server2 start snapshot! index=289
term 48 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 51597 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 48 rf.commitIndex 289 rf.lastApplied 289
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
term 48 Server1 start snapshot! index=289
term 48 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
flag 15341 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
flag 35821 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
flag 80558 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
flag 28134 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
------------------------------------------------------
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
flag 53250 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
flag 4791 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6175 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
flag 60441 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11777 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
flag 923 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2361212451887092981 (index 290) to leader 2
flag 50008 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
flag 22038 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2361212451887092981 48 290}]
------------------------------------------------------
flag 56512 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 44271 term 48 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 48 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2361212451887092981 48 290}]
------------------------------------------------------
client write log 6706224546515979761 (index 291) to leader 2
client write log 8729439884177128620 (index 292) to leader 2
client write log 4778116139511970006 (index 293) to leader 2
client write log 3416832563852936429 (index 294) to leader 2
client write log 8862298340135182314 (index 295) to leader 2
client write log 5787427406521279742 (index 296) to leader 2
client write log 1712033896490697339 (index 297) to leader 2
client write log 904309731232912244 (index 298) to leader 2
client write log 2001799856664872617 (index 299) to leader 2
client write log 6543257664003682165 (index 300) to leader 2
flag 65300 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 53346 term 48 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 48 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 289} {2361212451887092981 48 290} {6706224546515979761 48 291} {8729439884177128620 48 292} {4778116139511970006 48 293} {3416832563852936429 48 294} {8862298340135182314 48 295} {5787427406521279742 48 296} {1712033896490697339 48 297} {904309731232912244 48 298} {2001799856664872617 48 299} {6543257664003682165 48 300}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 Server2 start snapshot! index=299
term 48 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 52283 term 48 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300}]
------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
!!!!!!connect server 0
client write log 175560000100973992 (index 301) to leader 2
term 48 server 1 not vote for server 0, 日志不够新
term 48 server 2 not vote for server 0, 日志不够新
term 50 server 1 vote for server 2
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 2 get outdate rpc reply from server 0
flag 38960 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 87278 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 302->301
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 302->301
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 leader 2 nextIndex[0]: 290  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 26937 term 50 leader 2 nextIndex[1]: 301  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 48 rf.commitIndex 299 rf.lastApplied 299
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
flag 33072 term 50 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 87560 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
flag 19744 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 97257 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97443 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 9391 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65495 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 8968 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
flag 19846 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 14972 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
flag 96593 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 95064 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37767 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 54453 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
flag 37220 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 36174 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
flag 69782 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 16671 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
flag 60374 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 42723 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
flag 63885 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 72196 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85726 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 9471 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
flag 79341 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 7823 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58096 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 87398 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 server 2 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 2
flag 45293 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 93592 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7203 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 84724 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
flag 46246 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 90282 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 175560000100973992 (index 302) to leader 2
flag 28182 term 50 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 97775 term 50 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 50 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302}]
------------------------------------------------------
flag 78641 term 50 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 23999 term 50 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94517 term 50 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 41732 term 50 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76180 term 50 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 64998 term 50 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45632 term 50 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 49740 term 50 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98658 term 50 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 25162 term 50 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302}]
------------------------------------------------------
term 50 server 0 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 0
flag 66974 term 50 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 91551 term 50 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8286785709854834674 (index 303) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32331 term 50 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 56876 term 50 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302} {8286785709854834674 50 303}]
------------------------------------------------------
flag 79885 term 50 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 60363 term 50 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 50 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302} {8286785709854834674 50 303}]
------------------------------------------------------
client write log 6246660623321742950 (index 304) to leader 2
client write log 286906419331509468 (index 305) to leader 2
client write log 3216682150075133355 (index 306) to leader 2
client write log 1224301975878913372 (index 307) to leader 2
client write log 5571027379201906265 (index 308) to leader 2
client write log 5598441288848252033 (index 309) to leader 2
client write log 3532234872533445773 (index 310) to leader 2
client write log 1500609591241454750 (index 311) to leader 2
client write log 7288110093507820137 (index 312) to leader 2
client write log 7489816270632368614 (index 313) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8034 term 50 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 56765 term 50 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 50 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 299} {6543257664003682165 48 300} {175560000100973992 48 301} {175560000100973992 50 302} {8286785709854834674 50 303} {6246660623321742950 50 304} {286906419331509468 50 305} {3216682150075133355 50 306} {1224301975878913372 50 307} {5571027379201906265 50 308} {5598441288848252033 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313}]
------------------------------------------------------
term 50 Server2 start snapshot! index=309
term 50 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=313
-------------------------------------------------------------
term 50 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 50
------------------------------------------------------
flag 26635 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313}]
------------------------------------------------------
term 50 Server1 start snapshot! index=309
term 50 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=313
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1930456648796452622 (index 314) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 50
------------------------------------------------------
flag 60639 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 51 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 1 vote for server 2
term 52 server 0 vote for server 2
term 52 server 2 get vote from server 1
term 52 server 2 become leader
------------------------------------------------------
term 52 server 2 get outdate rpc reply from server 0
term 52 server 0 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 0
flag 91244 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 72781 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 315->314
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 303  matchIndex[0]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 50
------------------------------------------------------
flag 59587 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
term 52 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 50 rf.commitIndex 309 rf.lastApplied 309
term 52 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
flag 14937 term 52 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 52 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 49552 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
flag 66502 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 65822 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
flag 3671 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 52961 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
flag 94941 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 74722 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
flag 48211 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 75709 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
flag 75340 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 50953 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
flag 91779 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 15116 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87452 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 58579 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
flag 1450 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 52073 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
flag 17734 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 62347 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19428 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 23716 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
flag 69712 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 5780 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
flag 86074 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 40937 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
term 52 server 0 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 0
flag 78619 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 90819 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42926 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 10452 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
flag 94820 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 68878 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50512 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 99022 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1930456648796452622 (index 315) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32649 term 52 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 70029 term 52 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 52 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315}]
------------------------------------------------------
flag 54149 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 81259 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315}]
------------------------------------------------------
flag 56698 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 98338 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315}]
------------------------------------------------------
flag 16191 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 41673 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315}]
------------------------------------------------------
flag 77327 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 40511 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315}]
------------------------------------------------------
flag 9526 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 37982 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 13467 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 59575 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89660 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 95388 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 84602 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 16831 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 53 server 0 vote for server 1
term 53 server 1 get vote from server 0
term 53 server 1 become leader
------------------------------------------------------
flag 99740 term 53 leader 1 nextIndex[0]: 316  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 38064 term 53 leader 1 nextIndex[2]: 316  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315}]
------------------------------------------------------
client write log 751761712088955802 (index 316) to leader 1
flag 41434 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 76660 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 13382 term 53 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 53 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 87708 term 53 leader 1 nextIndex[2]: 316  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316}]
------------------------------------------------------
flag 48304 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 71974 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 43443 term 53 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 53 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
flag 2296 term 53 leader 1 nextIndex[2]: 316  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316}]
------------------------------------------------------
client write log 377130098313412178 (index 317) to leader 1
flag 64391 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 97336 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 81441 term 53 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 53 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
flag 89006 term 53 leader 1 nextIndex[2]: 316  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317}]
------------------------------------------------------
flag 15032 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 40881 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 12000 term 53 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 53 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 53 leaderCommit: 317 
------------------------------------------------------
flag 76190 term 53 leader 1 nextIndex[2]: 316  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 317 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5807617239536881490 (index 318) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35062 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 58262 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 53 server 1 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 53 server 0 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 316->315
------------------------------------------------------
flag 42068 term 53 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 53 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 53 leaderCommit: 317 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 50
------------------------------------------------------
term 53 server 2 InstallSnapshot fail
rf.commitIndex 315 args.LastIncludedIndex 309
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
flag 82070 term 53 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 3732 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
flag 98310 term 53 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 91850 term 53 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75570 term 53 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 23712 term 53 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20497 term 53 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 34942 term 53 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:318 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
flag 97909 term 53 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 62264 term 53 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56477 term 53 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 41664 term 53 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71779 term 53 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 18171 term 53 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6811315191543794554 (index 319) to leader 1
flag 29055 term 53 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 53469 term 53 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 309} {3532234872533445773 50 310} {1500609591241454750 50 311} {7288110093507820137 50 312} {7489816270632368614 50 313} {1930456648796452622 50 314} {1930456648796452622 52 315} {751761712088955802 53 316} {377130098313412178 53 317} {5807617239536881490 53 318} {6811315191543794554 53 319}]
------------------------------------------------------
term 53 Server1 start snapshot! index=319
term 53 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
flag 36515 term 53 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 53 319}]
------------------------------------------------------
term 53 Server0 start snapshot! index=319
term 53 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
client write log 2748497305379507027 (index 320) to leader 1
client write log 5445105482329313050 (index 321) to leader 1
client write log 7402532320881783241 (index 322) to leader 1
client write log 317759964173757735 (index 323) to leader 1
client write log 4579249146065365246 (index 324) to leader 1
client write log 7033962523902078978 (index 325) to leader 1
client write log 6382620535619828939 (index 326) to leader 1
client write log 1804209716348072148 (index 327) to leader 1
client write log 8970052177818500919 (index 328) to leader 1
client write log 2613163533442469333 (index 329) to leader 1
client write log 5697241907919437518 (index 330) to leader 1
client write log 3108414143997187083 (index 331) to leader 1
client write log 8817624234757628038 (index 332) to leader 1
client write log 4269763712029508810 (index 333) to leader 1
flag 51779 term 53 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 319 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 53 319} {2748497305379507027 53 320} {5445105482329313050 53 321} {7402532320881783241 53 322} {317759964173757735 53 323} {4579249146065365246 53 324} {7033962523902078978 53 325} {6382620535619828939 53 326} {1804209716348072148 53 327} {8970052177818500919 53 328} {2613163533442469333 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333}]
------------------------------------------------------
term 53 Server1 start snapshot! index=329
term 53 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=333
-------------------------------------------------------------
term 53 server 1 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 1
flag 71669 term 53 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 53 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333}]
------------------------------------------------------
term 53 Server0 start snapshot! index=329
term 53 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=333
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8382224694102665840 (index 334) to leader 1
term 53 server 1 not vote for server 2, 日志不够新
term 53 server 0 not vote for server 2, 日志不够新
term 55 server 2 vote for server 1
term 55 server 1 get vote from server 2
term 55 server 0 vote for server 1
term 55 server 1 become leader
------------------------------------------------------
term 55 server 1 get outdate rpc reply from server 0
flag 8781 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 12296 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 335->334
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 335->334
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92734 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 319  matchIndex[2]: 0
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
term 55 server 2 InstallSnapshot success
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 53 rf.commitIndex 329 rf.lastApplied 329
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
flag 77339 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 18189 term 55 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 55 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
term 55 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
flag 46483 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 28957 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
flag 88139 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 66178 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81419 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 65102 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
flag 81654 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 35530 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
term 55 server 2 not vote for server 0, 任期不够新
term 55 server 0 get outdate rpc reply from server 2
flag 39962 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 71629 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86890 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 72367 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
flag 7020 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 45810 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
flag 9370 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 88428 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
flag 33499 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 59843 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
flag 37121 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 59080 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
flag 52556 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 98317 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
flag 83998 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 59641 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50170 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 49754 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
flag 71038 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 54341 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
flag 40256 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 5072 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
flag 22222 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 15990 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
flag 50812 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 75526 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334}]
------------------------------------------------------
client write log 8382224694102665840 (index 335) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25383 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 89959 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334} {8382224694102665840 55 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334} {8382224694102665840 55 335}]
------------------------------------------------------
flag 26223 term 55 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 55 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 69222 term 55 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 55 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334} {8382224694102665840 55 335}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334} {8382224694102665840 55 335}]
------------------------------------------------------
flag 826 term 55 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 55 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 22046 term 55 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 55 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334} {8382224694102665840 55 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334} {8382224694102665840 55 335}]
------------------------------------------------------
flag 27082 term 55 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 55 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 12055 term 55 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 55 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334} {8382224694102665840 55 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334} {8382224694102665840 55 335}]
------------------------------------------------------
flag 98170 term 55 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 55 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 33091 term 55 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 55 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334} {8382224694102665840 55 335}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334} {8382224694102665840 55 335}]
------------------------------------------------------
flag 78131 term 55 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 55 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 63709 term 55 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 55 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334} {8382224694102665840 55 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334} {8382224694102665840 55 335}]
------------------------------------------------------
flag 15680 term 55 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 55 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
flag 12169 term 55 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 55 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 55 leaderCommit: 335 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334} {8382224694102665840 55 335}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 53 329} {5697241907919437518 53 330} {3108414143997187083 53 331} {8817624234757628038 53 332} {4269763712029508810 53 333} {8382224694102665840 53 334} {8382224694102665840 55 335}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  76.2  3 1750  798211  335
--- PASS: TestSnapshotInstall2D (76.21s)
PASS
