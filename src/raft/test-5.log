=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 14708 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 10418 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 5709846865199103420 (index 1) to leader 2
flag 55566 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 53093 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5709846865199103420 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5709846865199103420 1 1}]
------------------------------------------------------
flag 75340 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 48363 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5709846865199103420 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5709846865199103420 1 1}]
------------------------------------------------------
flag 2108 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 48466 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5709846865199103420 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5709846865199103420 1 1}]
------------------------------------------------------
flag 97686 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 12072 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5709846865199103420 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5709846865199103420 1 1}]
------------------------------------------------------
flag 19569 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 23741 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5709846865199103420 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5709846865199103420 1 1}]
------------------------------------------------------
flag 26449 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 64948 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5709846865199103420 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5709846865199103420 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7946361598467157486 (index 2) to leader 2
flag 54736 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 22642 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {5709846865199103420 1 1} {7946361598467157486 1 2}]
------------------------------------------------------
flag 71797 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 83245 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {5709846865199103420 1 1} {7946361598467157486 1 2}]
------------------------------------------------------
client write log 630744232400689615 (index 3) to leader 2
client write log 7655434275359580193 (index 4) to leader 2
client write log 1704235623641421230 (index 5) to leader 2
client write log 8339635041755627263 (index 6) to leader 2
client write log 7944792514269238822 (index 7) to leader 2
client write log 2528182890201666927 (index 8) to leader 2
client write log 3270473833304814891 (index 9) to leader 2
flag 33535 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 44755 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {5709846865199103420 1 1} {7946361598467157486 1 2} {630744232400689615 1 3} {7655434275359580193 1 4} {1704235623641421230 1 5} {8339635041755627263 1 6} {7944792514269238822 1 7} {2528182890201666927 1 8} {3270473833304814891 1 9}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 22460 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7677734319956563185 (index 10) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 14596 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 64142 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 68219 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 72679 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
flag 29373 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 69285 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
flag 44065 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 35525 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
flag 29621 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 12154 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
flag 44783 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 86421 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
flag 88661 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 56554 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
flag 58010 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 51842 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
flag 42169 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 26053 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 93266 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 22332 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 84095 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 90800 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 44646 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 20416 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 16389 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 37221 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 59302 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 25967 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7677734319956563185 1 10}]
------------------------------------------------------
client write log 6781485019181539110 (index 11) to leader 0
flag 81128 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 28792 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 43864 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 79244 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7677734319956563185 1 10} {6781485019181539110 4 11}]
------------------------------------------------------
flag 3380 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 79612 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 11->10
------------------------------------------------------
flag 680 term 4 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 80721 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7677734319956563185 1 10} {6781485019181539110 4 11}]
------------------------------------------------------
client write log 795411120709331198 (index 12) to leader 0
client write log 968891071484180423 (index 13) to leader 0
client write log 1630277137534131094 (index 14) to leader 0
client write log 3406309609836536519 (index 15) to leader 0
client write log 1687809476614347430 (index 16) to leader 0
client write log 247612925363767210 (index 17) to leader 0
client write log 5789346709289942305 (index 18) to leader 0
client write log 5822407745709204828 (index 19) to leader 0
client write log 7797536286686996385 (index 20) to leader 0
client write log 1968084704849788758 (index 21) to leader 0
client write log 117420961070199400 (index 22) to leader 0
client write log 3073200429886619947 (index 23) to leader 0
client write log 2231044632240009726 (index 24) to leader 0
flag 11825 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 94263 term 4 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 62745 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 1 9} {7677734319956563185 1 10} {6781485019181539110 4 11} {795411120709331198 4 12} {968891071484180423 4 13} {1630277137534131094 4 14} {3406309609836536519 4 15} {1687809476614347430 4 16} {247612925363767210 4 17} {5789346709289942305 4 18} {5822407745709204828 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=24
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 11->10
------------------------------------------------------
flag 64825 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 13746 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=24
-------------------------------------------------------------
!!!!!!connect server 2
client write log 607102613004617894 (index 11) to leader 2
flag 1723 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 3 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54919 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 1
flag 99890 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 66971 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 25->24
------------------------------------------------------
flag 10761 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 3704 term 6 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15343 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 53619 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
flag 70579 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 29807 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
flag 7874 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 80600 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2515 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 38238 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59636 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 49474 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9210 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 86399 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17298 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 92851 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
flag 97651 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 22468 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
flag 96359 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 98728 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77429 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 86979 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 68568 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 48513 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22267 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 2819 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
flag 60091 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 545 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
flag 45091 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 36961 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
flag 72935 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 10619 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
flag 34231 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 63500 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
flag 32292 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 1788 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24}]
------------------------------------------------------
client write log 607102613004617894 (index 25) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88200 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 3446 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25}]
------------------------------------------------------
flag 52261 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 37546 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45794 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 85520 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25}]
------------------------------------------------------
flag 25075 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 28690 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25}]
------------------------------------------------------
flag 17703 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 71145 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22893 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 24577 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8636846157726861386 (index 26) to leader 0
flag 78045 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 11579 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25} {8636846157726861386 6 26}]
------------------------------------------------------
flag 65852 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 43864 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25} {8636846157726861386 6 26}]
------------------------------------------------------
client write log 94890579442845377 (index 27) to leader 0
client write log 2479500154336944169 (index 28) to leader 0
client write log 4894816202734768631 (index 29) to leader 0
client write log 8163045474951215059 (index 30) to leader 0
client write log 4050569721402266207 (index 31) to leader 0
client write log 7196037958176347328 (index 32) to leader 0
client write log 7407567969206093310 (index 33) to leader 0
flag 1727 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 15187 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 19} {7797536286686996385 4 20} {1968084704849788758 4 21} {117420961070199400 4 22} {3073200429886619947 4 23} {2231044632240009726 4 24} {607102613004617894 6 25} {8636846157726861386 6 26} {94890579442845377 6 27} {2479500154336944169 6 28} {4894816202734768631 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 26->25
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 0  matchIndex[1]: 25
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 6966 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3674609399755293343 (index 34) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 0  matchIndex[1]: 25
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 70034 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 1
flag 59848 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 87330 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 35->34
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 26  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 61444 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
term 8 server 1 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 1
flag 36222 term 8 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 8 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 40135 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
term 8 server 2 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 2
flag 94580 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 54320 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
flag 80605 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 79775 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
flag 73890 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 7345 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
flag 87399 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 40555 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
flag 87248 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 16367 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14423 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 83091 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1110314325508599856 (index 35) to leader 0
flag 79888 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 13605 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34} {1110314325508599856 8 35}]
------------------------------------------------------
flag 78870 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 41596 term 8 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 8 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34} {1110314325508599856 8 35}]
------------------------------------------------------
client write log 2012168954792237175 (index 36) to leader 0
client write log 3013122018229013918 (index 37) to leader 0
client write log 1267328394286590514 (index 38) to leader 0
client write log 728672870275874912 (index 39) to leader 0
client write log 3231918295677682184 (index 40) to leader 0
client write log 7387710109406312238 (index 41) to leader 0
client write log 2743585363039191866 (index 42) to leader 0
client write log 7034988533025158833 (index 43) to leader 0
client write log 1802958816026058668 (index 44) to leader 0
client write log 4428118430687780249 (index 45) to leader 0
client write log 9066147113006465751 (index 46) to leader 0
client write log 9124040137357005029 (index 47) to leader 0
client write log 4898357296219930264 (index 48) to leader 0
flag 46056 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 74809 term 8 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 8 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 29} {8163045474951215059 6 30} {4050569721402266207 6 31} {7196037958176347328 6 32} {7407567969206093310 6 33} {3674609399755293343 6 34} {1110314325508599856 8 35} {2012168954792237175 8 36} {3013122018229013918 8 37} {1267328394286590514 8 38} {728672870275874912 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48}]
------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=48
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 73692 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48}]
------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=48
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4882807198039937441 (index 49) to leader 0
term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 48531 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 2 vote for server 0
term 10 server 0 get vote from server 2
term 10 server 0 become leader
------------------------------------------------------
term 10 server 1 vote for server 0
term 10 server 0 get outdate rpc reply from server 1
flag 22923 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 32739 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 50->49
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 73407 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 InstallSnapshot success
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 8 rf.commitIndex 39 rf.lastApplied 39
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
flag 25615 term 10 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 65429 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
flag 66561 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 36045 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
flag 62325 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 48613 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
flag 72861 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 95279 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
flag 97083 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 89564 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29085 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 10128 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
flag 85735 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 93725 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
flag 78202 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 20320 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94892 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 84703 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8679 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 31145 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 2 not vote for server 1, 任期不够新
term 10 server 1 get outdate rpc reply from server 2
flag 33391 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 98079 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7523 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 32815 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
flag 79989 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 24026 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30506 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 30038 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
flag 19320 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 24450 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10977 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 25150 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56439 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 78687 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49}]
------------------------------------------------------
client write log 4882807198039937441 (index 50) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86164 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 97999 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49} {4882807198039937441 10 50}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 39} {3231918295677682184 8 40} {7387710109406312238 8 41} {2743585363039191866 8 42} {7034988533025158833 8 43} {1802958816026058668 8 44} {4428118430687780249 8 45} {9066147113006465751 8 46} {9124040137357005029 8 47} {4898357296219930264 8 48} {4882807198039937441 8 49} {4882807198039937441 10 50}]
------------------------------------------------------
term 10 Server0 start snapshot! index=49
term 10 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
flag 95176 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 69122 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {4882807198039937441 10 50}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {4882807198039937441 10 50}]
------------------------------------------------------
term 10 Server2 start snapshot! index=49
term 10 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
term 10 Server1 start snapshot! index=49
term 10 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
flag 78499 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 40363 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {4882807198039937441 10 50}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {4882807198039937441 10 50}]
------------------------------------------------------
flag 89383 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 19220 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {4882807198039937441 10 50}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {4882807198039937441 10 50}]
------------------------------------------------------
flag 3139 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 13237 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {4882807198039937441 10 50}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {4882807198039937441 10 50}]
------------------------------------------------------
flag 3433 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 98013 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {4882807198039937441 10 50}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {4882807198039937441 10 50}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 87959 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 30545 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 53021 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 67952 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 79393 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 3273 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 31966 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 2589 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
flag 96593 term 11 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 91455 term 11 leader 1 nextIndex[2]: 51  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {4882807198039937441 10 50}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4795278272565217899 (index 51) to leader 1
flag 57006 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 42484 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 28885 term 11 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 47149 term 11 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4882807198039937441 10 50} {4795278272565217899 11 51}]
------------------------------------------------------
flag 55248 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 23468 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 80412 term 11 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 51 
------------------------------------------------------
flag 29671 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 11 leaderCommit: 51 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4882807198039937441 10 50} {4795278272565217899 11 51}]
------------------------------------------------------
client write log 7317691814395586037 (index 52) to leader 1
client write log 5117264991282097313 (index 53) to leader 1
client write log 3815633429206906596 (index 54) to leader 1
client write log 6399604995870099967 (index 55) to leader 1
client write log 5074311338706355863 (index 56) to leader 1
client write log 3469847338780588016 (index 57) to leader 1
client write log 6338165822358183469 (index 58) to leader 1
client write log 3349521120305836019 (index 59) to leader 1
client write log 613472333773464748 (index 60) to leader 1
client write log 2232795662763997197 (index 61) to leader 1
flag 88124 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 80188 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 86012 term 11 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 51 
------------------------------------------------------
flag 62636 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 11 leaderCommit: 51 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 49} {4882807198039937441 10 50} {4795278272565217899 11 51} {7317691814395586037 11 52} {5117264991282097313 11 53} {3815633429206906596 11 54} {6399604995870099967 11 55} {5074311338706355863 11 56} {3469847338780588016 11 57} {6338165822358183469 11 58} {3349521120305836019 11 59} {613472333773464748 11 60} {2232795662763997197 11 61}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=61
-------------------------------------------------------------
flag 45481 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 81191 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 11 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 79787 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=61
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5497193807668344493 (index 62) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 51->50
------------------------------------------------------
term 10 leader 0 nextIndex[1]: 0  matchIndex[1]: 50
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 38995 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries false 领导者任期过期 args.Term 10
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 11 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 12264 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
term 11 server 0 InstallSnapshot success
------------------------------------------------------
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
flag 76753 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 35390 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
flag 77597 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 83443 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69141 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 18310 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48910 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 39087 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
flag 44436 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 78450 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
flag 30800 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 54546 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
flag 6254 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 85423 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4324109352934673820 (index 63) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 63->62
------------------------------------------------------
term 11 leader 1 nextIndex[0]: 0  matchIndex[0]: 62
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 75932 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 0 InstallSnapshot fail
rf.commitIndex 62 args.LastIncludedIndex 59
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
flag 1043 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 14985 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62} {4324109352934673820 11 63}]
------------------------------------------------------
flag 31687 term 11 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 39361 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62} {4324109352934673820 11 63}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 64->63
------------------------------------------------------
client write log 7518282486979572229 (index 64) to leader 1
client write log 7544769183738267523 (index 65) to leader 1
client write log 2270847280066514284 (index 66) to leader 1
client write log 4850134896196515171 (index 67) to leader 1
client write log 7053530133318575394 (index 68) to leader 1
client write log 7971442645909423754 (index 69) to leader 1
client write log 6437721504925784650 (index 70) to leader 1
client write log 3727886574354453568 (index 71) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 1 nextIndex[0]: 0  matchIndex[0]: 63
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 35460 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 0 InstallSnapshot fail
rf.commitIndex 63 args.LastIncludedIndex 59
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
flag 18309 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 43137 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 59} {613472333773464748 11 60} {2232795662763997197 11 61} {5497193807668344493 11 62} {4324109352934673820 11 63} {7518282486979572229 11 64} {7544769183738267523 11 65} {2270847280066514284 11 66} {4850134896196515171 11 67} {7053530133318575394 11 68} {7971442645909423754 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=71
-------------------------------------------------------------
flag 86341 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=71
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7368548205107985511 (index 72) to leader 1
term 11 server 0 not vote for server 2, 日志不够新
flag 90539 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 12 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 12 server 0 AppendEntries false 领导者任期过期 args.Term 11
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
flag 4967 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 80979 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 73->72
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 73->72
------------------------------------------------------
flag 26667 term 13 leader 1 nextIndex[0]: 72  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 63  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23017 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 25574 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13358 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 22762 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65362 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 52428 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
flag 58770 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 85050 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
flag 5103 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 56938 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
flag 93555 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 49580 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
flag 87478 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 17660 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80656 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 67678 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31392 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 40167 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
flag 71677 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 32344 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
flag 35917 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 8895 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
flag 29108 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 17664 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
flag 67959 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 34884 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
flag 57741 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 51166 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71085 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 88119 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
flag 22232 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 24136 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
flag 23093 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 40568 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72}]
------------------------------------------------------
client write log 7368548205107985511 (index 73) to leader 1
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
flag 57610 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 70241 term 13 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73}]
------------------------------------------------------
term 13 server 1 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 1
flag 99340 term 13 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 61839 term 13 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60351 term 13 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 77906 term 13 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73}]
------------------------------------------------------
flag 13643 term 13 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 93414 term 13 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73}]
------------------------------------------------------
flag 91789 term 13 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 1298 term 13 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60158 term 13 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 19057 term 13 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73}]
------------------------------------------------------
flag 60652 term 13 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 13503 term 13 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3470632993213867959 (index 74) to leader 1
flag 37193 term 13 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 15742 term 13 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73} {3470632993213867959 13 74}]
------------------------------------------------------
flag 52998 term 13 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 13 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 67292 term 13 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73} {3470632993213867959 13 74}]
------------------------------------------------------
client write log 6910785640839690702 (index 75) to leader 1
client write log 3920572154305764190 (index 76) to leader 1
client write log 5393618532698227224 (index 77) to leader 1
client write log 8817246087099509799 (index 78) to leader 1
client write log 8328551126441952868 (index 79) to leader 1
client write log 5518096157014107465 (index 80) to leader 1
client write log 1008614348751957053 (index 81) to leader 1
client write log 1950527396360701005 (index 82) to leader 1
client write log 3231943151596838500 (index 83) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6416 term 13 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 13 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 16293 term 13 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 69} {6437721504925784650 11 70} {3727886574354453568 11 71} {7368548205107985511 11 72} {7368548205107985511 13 73} {3470632993213867959 13 74} {6910785640839690702 13 75} {3920572154305764190 13 76} {5393618532698227224 13 77} {8817246087099509799 13 78} {8328551126441952868 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83}]
------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=83
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76413 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83}]
------------------------------------------------------
term 13 Server0 start snapshot! index=79
term 13 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=83
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2811054118240547360 (index 84) to leader 1
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49857 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 14 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 2 vote for server 1
term 15 server 1 get vote from server 2
term 15 server 1 become leader
------------------------------------------------------
term 15 server 0 vote for server 1
term 15 server 1 get outdate rpc reply from server 0
flag 71348 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 24931 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 85->84
------------------------------------------------------
flag 119 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 0
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 15 server 2 InstallSnapshot success
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 13 rf.commitIndex 79 rf.lastApplied 79
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
flag 66018 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 93017 term 15 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 15 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25527 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 77373 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
flag 62102 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 28991 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
flag 55332 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 11305 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73777 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 33776 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
flag 16327 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 67508 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
flag 95381 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 51432 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76281 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 88244 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
flag 2927 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 80328 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
flag 34270 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 89304 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95467 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 22887 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
flag 43339 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 76481 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62649 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 67379 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
flag 54526 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 81183 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
flag 41190 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 11531 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93161 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 44525 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
------------------------------------------------------
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
flag 29780 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 2939 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84}]
------------------------------------------------------
client write log 2811054118240547360 (index 85) to leader 1
flag 9225 term 15 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 69329 term 15 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 15 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85}]
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60723 term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 33784 term 15 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85}]
------------------------------------------------------
flag 1857 term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 50813 term 15 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85}]
------------------------------------------------------
flag 6856 term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 56955 term 15 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85}]
------------------------------------------------------
flag 69906 term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 79914 term 15 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85}]
------------------------------------------------------
flag 86498 term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 33762 term 15 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 4490 term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 15350 term 15 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 41726 term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 29029 term 15 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23454 term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 76657 term 15 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 5072 term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 378 term 15 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 16 server 2 not vote for server 0, 投给了其他人
term 16 server 0 not vote for server 2, 投给了其他人
flag 85428 term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 1586 term 15 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98262 term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 64963 term 15 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 86->85
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 0  matchIndex[0]: 85
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 56208 term 15 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 86->85
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 0  matchIndex[0]: 85
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 0  matchIndex[2]: 85
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 0  matchIndex[0]: 85
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 0  matchIndex[2]: 85
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 17 server 0 vote for server 2
term 17 server 2 get vote from server 0
term 17 server 2 become leader
------------------------------------------------------
flag 1168 term 17 leader 2 nextIndex[0]: 86  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 82245 term 17 leader 2 nextIndex[1]: 86  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85}]
------------------------------------------------------
client write log 3845390887278476264 (index 86) to leader 2
term 15 leader 1 nextIndex[0]: 0  matchIndex[0]: 85
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 0  matchIndex[2]: 85
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 36677 term 17 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 17 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
flag 30875 term 17 leader 2 nextIndex[1]: 86  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85} {3845390887278476264 17 86}]
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 0  matchIndex[0]: 85
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 0  matchIndex[2]: 85
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 32243 term 17 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 17 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 15362 term 17 leader 2 nextIndex[1]: 86  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85} {3845390887278476264 17 86}]
------------------------------------------------------
client write log 2054934724851128651 (index 87) to leader 2
client write log 1725996823245327285 (index 88) to leader 2
client write log 928832293890863764 (index 89) to leader 2
client write log 8740883795926077499 (index 90) to leader 2
client write log 1830849737980801253 (index 91) to leader 2
client write log 8818233578928768232 (index 92) to leader 2
client write log 3889825802731860683 (index 93) to leader 2
client write log 1306242650753354832 (index 94) to leader 2
client write log 2422026148236614581 (index 95) to leader 2
term 15 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
term 15 leader 1 nextIndex[0]: 0  matchIndex[0]: 85
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 99755 term 15 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 15 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 19936 term 17 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 17 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 43504 term 17 leader 2 nextIndex[1]: 86  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 79} {5518096157014107465 13 80} {1008614348751957053 13 81} {1950527396360701005 13 82} {3231943151596838500 13 83} {2811054118240547360 13 84} {2811054118240547360 15 85} {3845390887278476264 17 86} {2054934724851128651 17 87} {1725996823245327285 17 88} {928832293890863764 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 17 Server2 start snapshot! index=89
term 17 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=95
-------------------------------------------------------------
term 15 leader 1 nextIndex[0]: 0  matchIndex[0]: 85
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 51335 term 15 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 15 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 54137 term 17 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 17 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 17 leader 2 nextIndex[1]: 86  matchIndex[1]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 17 Server0 start snapshot! index=89
term 17 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=95
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6958909679594996919 (index 86) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 80->79
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 0  matchIndex[0]: 85
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 0  matchIndex[2]: 79
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 17 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 17 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80562 term 17 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 17 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 17 leader 2 nextIndex[1]: 86  matchIndex[1]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 1 InstallSnapshot success
------------------------------------------------------
term 17 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 17 rf.commitIndex 89 rf.lastApplied 89
term 17 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 17 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 17 server 2 not vote for server 1, 日志不够新
term 17 server 0 not vote for server 1, 日志不够新
term 19 server 1 vote for server 2
term 19 server 0 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
term 19 server 2 get outdate rpc reply from server 0
flag 45475 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 60851 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 96->95
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
flag 67403 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 47106 term 19 leader 2 nextIndex[1]: 90  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 2 not vote for server 1, 任期不够新
term 19 server 1 get outdate rpc reply from server 2
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37629 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 64771 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
flag 49955 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 46068 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
flag 81621 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 18729 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
flag 80466 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 30185 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 1 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 1
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34870 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 54303 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71830 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 65873 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
flag 73103 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 77305 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
flag 47140 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 29577 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
flag 91616 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 40321 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
flag 73773 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 7278 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47290 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 27185 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 0 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92971 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 51495 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
flag 71216 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 62896 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
flag 5469 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 49487 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 1 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 1
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18551 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 94953 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95315 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 25892 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95}]
------------------------------------------------------
term 19 server 1 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6958909679594996919 (index 96) to leader 2
flag 35502 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
flag 42774 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96}]
------------------------------------------------------
flag 86010 term 19 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
flag 3046 term 19 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96}]
------------------------------------------------------
flag 8453 term 19 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
flag 36750 term 19 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:96 
term 19 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
------------------------------------------------------
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96}]
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94407 term 19 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
flag 43830 term 19 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96}]
------------------------------------------------------
flag 56077 term 19 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
flag 7719 term 19 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96}]
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4440 term 19 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
flag 44365 term 19 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96}]
------------------------------------------------------
flag 45959 term 19 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
flag 16838 term 19 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5372603292902630805 (index 97) to leader 2
flag 63092 term 19 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
flag 35696 term 19 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96} {5372603292902630805 19 97}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78721 term 19 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 97 
------------------------------------------------------
flag 18004 term 19 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 19 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 19 leaderCommit: 97 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96} {5372603292902630805 19 97}]
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 7391822652904400889 (index 98) to leader 2
client write log 9120821906869355283 (index 99) to leader 2
client write log 9197074472933554379 (index 100) to leader 2
client write log 114594548173401971 (index 101) to leader 2
client write log 5796717416198017931 (index 102) to leader 2
client write log 6155281349425520176 (index 103) to leader 2
client write log 263734071722967481 (index 104) to leader 2
flag 18759 term 19 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 19 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 97 
------------------------------------------------------
flag 59633 term 19 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 19 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 19 leaderCommit: 97 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 17 89} {8740883795926077499 17 90} {1830849737980801253 17 91} {8818233578928768232 17 92} {3889825802731860683 17 93} {1306242650753354832 17 94} {2422026148236614581 17 95} {6958909679594996919 19 96} {5372603292902630805 19 97} {7391822652904400889 19 98} {9120821906869355283 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104}]
------------------------------------------------------
term 19 Server2 start snapshot! index=99
term 19 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=104
-------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
flag 95167 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104}]
------------------------------------------------------
term 19 Server1 start snapshot! index=99
term 19 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=104
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3277525339590025848 (index 105) to leader 2
term 19 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
term 21 server 1 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get outdate rpc reply from server 0
flag 74633 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 16918 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 106->105
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 106->105
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 97  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
flag 14687 term 21 leader 2 nextIndex[1]: 105  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 19 rf.commitIndex 99 rf.lastApplied 99
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11725 term 21 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 21 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 21141 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
flag 70350 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 37291 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50870 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 55606 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
flag 60267 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 81632 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65647 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 3986 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
flag 23500 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 39557 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25115 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 78310 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66271 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 42263 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
flag 90693 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 99031 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
flag 1051 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 94349 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
flag 13702 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 813 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
flag 99651 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 43016 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
flag 51427 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 78999 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76943 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 11737 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
flag 44867 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 64609 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
flag 46804 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 11578 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
flag 15181 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 91085 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82978 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 99210 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105}]
------------------------------------------------------
client write log 3277525339590025848 (index 106) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44852 term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 81567 term 21 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 21 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97112 term 21 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 53609 term 21 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32962 term 21 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 35780 term 21 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106}]
------------------------------------------------------
flag 23075 term 21 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 43138 term 21 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106}]
------------------------------------------------------
flag 98 term 21 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 74827 term 21 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106}]
------------------------------------------------------
flag 73499 term 21 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 6024 term 21 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106}]
------------------------------------------------------
flag 50529 term 21 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 91664 term 21 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3075669680418996805 (index 107) to leader 2
flag 30357 term 21 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 3142 term 21 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106} {3075669680418996805 21 107}]
------------------------------------------------------
flag 20900 term 21 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
flag 47510 term 21 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 21 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106} {3075669680418996805 21 107}]
------------------------------------------------------
client write log 1116424715760646233 (index 108) to leader 2
client write log 1093131700388626205 (index 109) to leader 2
client write log 3833998744022284095 (index 110) to leader 2
client write log 7613197314316620257 (index 111) to leader 2
client write log 2001053245032878748 (index 112) to leader 2
client write log 4212139479595494538 (index 113) to leader 2
client write log 3588462078380083006 (index 114) to leader 2
client write log 383858758833667318 (index 115) to leader 2
client write log 1107769466719382107 (index 116) to leader 2
client write log 9106663293153984290 (index 117) to leader 2
term 21 server 1 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 1
flag 81263 term 21 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 21 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
flag 89569 term 21 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 21 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 99} {9197074472933554379 19 100} {114594548173401971 19 101} {5796717416198017931 19 102} {6155281349425520176 19 103} {263734071722967481 19 104} {3277525339590025848 19 105} {3277525339590025848 21 106} {3075669680418996805 21 107} {1116424715760646233 21 108} {1093131700388626205 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117}]
------------------------------------------------------
term 21 Server2 start snapshot! index=109
term 21 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=117
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
flag 50791 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117}]
------------------------------------------------------
term 21 Server1 start snapshot! index=109
term 21 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=117
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2997167228826787906 (index 118) to leader 2
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
flag 22987 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
term 22 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 1 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 0 vote for server 2
term 23 server 2 get outdate rpc reply from server 0
flag 4965 term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 81068 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 119->118
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 107  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
flag 19940 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 21 rf.commitIndex 109 rf.lastApplied 109
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
flag 86214 term 23 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 23 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 88460 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
term 23 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
flag 10650 term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 41838 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42793 term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 38696 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
flag 12472 term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 57410 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
flag 79126 term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 38579 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
flag 63185 term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 17157 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
flag 84237 term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 10478 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 46067 term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 23132 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 73388 term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 44151 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 39389 term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 4286 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 18020 term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 58578 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 24 server 0 vote for server 1
term 24 server 1 get vote from server 0
term 24 server 1 become leader
------------------------------------------------------
client write log 5416109298232390958 (index 119) to leader 1
flag 94609 term 24 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 52374 term 24 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 21 109} {3833998744022284095 21 110} {7613197314316620257 21 111} {2001053245032878748 21 112} {4212139479595494538 21 113} {3588462078380083006 21 114} {383858758833667318 21 115} {1107769466719382107 21 116} {9106663293153984290 21 117} {2997167228826787906 21 118} {5416109298232390958 24 119}]
------------------------------------------------------
term 24 Server1 start snapshot! index=119
term 24 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 43884 term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 81340 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 92106 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 24 leaderCommit: 119 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 24 119}]
------------------------------------------------------
term 24 Server0 start snapshot! index=119
term 24 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
client write log 8641813163752436261 (index 120) to leader 1
flag 13443 term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 34070 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 50994 term 24 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 24 leaderCommit: 119 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 24 119} {8641813163752436261 24 120}]
------------------------------------------------------
flag 77319 term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 91249 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 119->118
------------------------------------------------------
flag 30424 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 24 119} {8641813163752436261 24 120}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5825142895681406483 (index 121) to leader 1
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 118
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
flag 85910 term 23 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 23 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 24 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25423 term 24 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 24 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 24 leaderCommit: 120 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 24 rf.commitIndex 119 rf.lastApplied 119
term 24 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
flag 21068 term 24 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
flag 37891 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
flag 46833 term 24 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
flag 93257 term 24 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 24 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
flag 53347 term 24 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
flag 38235 term 24 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37061 term 24 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
flag 93902 term 24 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
flag 72681 term 24 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
flag 22812 term 24 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
term 24 server 1 not vote for server 0, 任期不够新
term 24 server 0 get outdate rpc reply from server 1
flag 90640 term 24 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
flag 70212 term 24 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
flag 12632 term 24 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
flag 35514 term 24 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7170404581518837672 (index 122) to leader 1
flag 4960 term 24 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
flag 37672 term 24 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 121 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121} {7170404581518837672 24 122}]
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56897 term 24 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 24 leaderCommit: 122 
------------------------------------------------------
flag 12681 term 24 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 122 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121} {7170404581518837672 24 122}]
------------------------------------------------------
client write log 2475213449191585550 (index 123) to leader 1
client write log 147520673381888319 (index 124) to leader 1
client write log 5768097350751691578 (index 125) to leader 1
client write log 7497233095744459303 (index 126) to leader 1
client write log 6166806023195363025 (index 127) to leader 1
client write log 6005935796827306560 (index 128) to leader 1
client write log 4962988945342508049 (index 129) to leader 1
client write log 9114550949872543050 (index 130) to leader 1
client write log 7027641680830693106 (index 131) to leader 1
client write log 6466282844324287212 (index 132) to leader 1
client write log 2986853119457621329 (index 133) to leader 1
client write log 6297713672453488628 (index 134) to leader 1
flag 10980 term 24 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 24 leaderCommit: 122 
------------------------------------------------------
flag 52189 term 24 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 24 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 24 leaderCommit: 122 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 24 119} {8641813163752436261 24 120} {5825142895681406483 24 121} {7170404581518837672 24 122} {2475213449191585550 24 123} {147520673381888319 24 124} {5768097350751691578 24 125} {7497233095744459303 24 126} {6166806023195363025 24 127} {6005935796827306560 24 128} {4962988945342508049 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134}]
------------------------------------------------------
term 24 Server1 start snapshot! index=129
term 24 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=134
-------------------------------------------------------------
flag 69332 term 24 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 24 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134}]
------------------------------------------------------
term 24 Server0 start snapshot! index=129
term 24 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=134
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 6623583572110222282 (index 135) to leader 1
term 24 server 1 not vote for server 2, 日志不够新
term 24 server 0 not vote for server 2, 日志不够新
term 26 server 2 vote for server 1
term 26 server 0 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
term 26 server 1 get outdate rpc reply from server 0
flag 48204 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 74890 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 136->135
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 136->135
------------------------------------------------------
flag 2260 term 26 leader 1 nextIndex[0]: 135  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 122  matchIndex[2]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 24
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 24 rf.commitIndex 129 rf.lastApplied 129
flag 71269 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 95263 term 26 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 26 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
term 26 server 2 not vote for server 1, 任期不够新
term 26 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11634 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 1999 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83607 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 51180 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60931 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 97563 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
flag 5108 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 51084 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
flag 8803 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 56023 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27010 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 57272 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
flag 51298 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 34171 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
flag 92724 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 86043 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
flag 20567 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 91663 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
flag 23108 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 66710 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
flag 90416 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 42388 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
flag 32166 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 24995 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
flag 12185 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 53182 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27225 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 87955 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
flag 34840 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 93282 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
flag 96555 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 6074 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
flag 54332 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 51983 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=134
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135}]
------------------------------------------------------
client write log 6623583572110222282 (index 136) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24311 term 26 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 71845 term 26 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 26 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=136
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136}]
------------------------------------------------------
flag 35964 term 26 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 26 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 26 leaderCommit: 136 
------------------------------------------------------
flag 20943 term 26 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 26 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 26 leaderCommit: 136 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=136
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136}]
------------------------------------------------------
flag 92478 term 26 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 26 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 26 leaderCommit: 136 
------------------------------------------------------
flag 47040 term 26 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 26 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 26 leaderCommit: 136 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=136
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39392 term 26 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 26 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 26 leaderCommit: 136 
------------------------------------------------------
flag 93237 term 26 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 26 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 26 leaderCommit: 136 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=136
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136}]
------------------------------------------------------
flag 76998 term 26 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 26 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 26 leaderCommit: 136 
------------------------------------------------------
flag 62013 term 26 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 26 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 26 leaderCommit: 136 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=136
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136}]
------------------------------------------------------
flag 88726 term 26 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 26 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 26 leaderCommit: 136 
------------------------------------------------------
flag 81168 term 26 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 26 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 26 leaderCommit: 136 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:136 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=136
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8067796167918343234 (index 137) to leader 1
flag 98262 term 26 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 26 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 26 leaderCommit: 136 
------------------------------------------------------
flag 61927 term 26 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 26 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 26 leaderCommit: 136 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136} {8067796167918343234 26 137}]
------------------------------------------------------
flag 27113 term 26 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 26 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 26 leaderCommit: 137 
------------------------------------------------------
flag 83730 term 26 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 26 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 26 leaderCommit: 137 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136} {8067796167918343234 26 137}]
------------------------------------------------------
client write log 9148389219875202110 (index 138) to leader 1
client write log 3379010540872177946 (index 139) to leader 1
client write log 6116529259737613385 (index 140) to leader 1
client write log 5323985216184597714 (index 141) to leader 1
client write log 6503420937106032209 (index 142) to leader 1
client write log 5427748357247681651 (index 143) to leader 1
client write log 3847160543617630759 (index 144) to leader 1
client write log 274283059177641326 (index 145) to leader 1
client write log 5766825407131440074 (index 146) to leader 1
client write log 5633151343213902426 (index 147) to leader 1
client write log 3799117764189345860 (index 148) to leader 1
client write log 2853717486803549630 (index 149) to leader 1
client write log 8410113386584957292 (index 150) to leader 1
client write log 7841194425878715433 (index 151) to leader 1
flag 66774 term 26 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 26 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 26 leaderCommit: 137 
------------------------------------------------------
flag 7825 term 26 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 26 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 26 leaderCommit: 137 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 129} {9114550949872543050 24 130} {7027641680830693106 24 131} {6466282844324287212 24 132} {2986853119457621329 24 133} {6297713672453488628 24 134} {6623583572110222282 24 135} {6623583572110222282 26 136} {8067796167918343234 26 137} {9148389219875202110 26 138} {3379010540872177946 26 139} {6116529259737613385 26 140} {5323985216184597714 26 141} {6503420937106032209 26 142} {5427748357247681651 26 143} {3847160543617630759 26 144} {274283059177641326 26 145} {5766825407131440074 26 146} {5633151343213902426 26 147} {3799117764189345860 26 148} {2853717486803549630 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151}]
------------------------------------------------------
term 26 Server1 start snapshot! index=139
term 26 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=151
-------------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=151
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60314 term 26 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 26 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151}]
------------------------------------------------------
term 26 Server0 start snapshot! index=139
term 26 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=151
-------------------------------------------------------------
term 26 Server0 start snapshot! index=149
term 26 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=151
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3761469235610959679 (index 152) to leader 1
term 26 server 1 not vote for server 2, 日志不够新
term 26 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 2 vote for server 1
term 28 server 0 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
term 28 server 1 get outdate rpc reply from server 0
flag 54466 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 69647 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 153->152
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 153->152
------------------------------------------------------
flag 11781 term 28 leader 1 nextIndex[0]: 152  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 137  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35276 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 11828 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63712 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 85510 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
flag 94484 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 39340 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
flag 43907 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 87860 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
term 28 server 2 not vote for server 0, 任期不够新
term 28 server 0 get outdate rpc reply from server 2
flag 47791 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 77647 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
flag 86097 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 40256 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
flag 18547 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 81927 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
flag 91638 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 79446 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40423 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 2070 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46668 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 76094 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
flag 37615 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 79475 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
flag 80167 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 41341 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
flag 23252 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 57319 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28365 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 23857 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
flag 19591 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 84727 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
flag 59952 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 68136 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34382 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 14726 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152}]
------------------------------------------------------
client write log 3761469235610959679 (index 153) to leader 1
flag 51886 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
flag 76410 term 28 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22773 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 11554 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
flag 62510 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 95395 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1399 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 75945 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
flag 2331 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 92803 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
flag 92156 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 20463 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
flag 61880 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 29819 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 45274 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 23923 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 23005 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 49621 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80620 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 4553 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 34012 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 74987 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
term 29 server 0 vote for server 2
term 29 server 2 get vote from server 0
term 29 server 2 become leader
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62948 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 49237 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153}]
------------------------------------------------------
client write log 3432685346013715574 (index 154) to leader 2
flag 7925 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 99685 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 67004 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 74534 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153} {3432685346013715574 29 154}]
------------------------------------------------------
flag 37201 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 80598 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 99026 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 34361 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153} {3432685346013715574 29 154}]
------------------------------------------------------
client write log 7405840921870041729 (index 155) to leader 2
client write log 7602607523535435990 (index 156) to leader 2
client write log 5835227325054063814 (index 157) to leader 2
client write log 3954444961595642797 (index 158) to leader 2
client write log 104355542954196010 (index 159) to leader 2
client write log 5226160693687423431 (index 160) to leader 2
client write log 340289167451924124 (index 161) to leader 2
client write log 5987244791159750999 (index 162) to leader 2
client write log 6767331092005738805 (index 163) to leader 2
client write log 9210346959208270043 (index 164) to leader 2
client write log 5642457289065687744 (index 165) to leader 2
client write log 1081199958357769186 (index 166) to leader 2
client write log 3426627421427110270 (index 167) to leader 2
client write log 6813582150746923144 (index 168) to leader 2
client write log 1500273512560443729 (index 169) to leader 2
flag 70178 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 20323 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 15845 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 50368 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 149} {8410113386584957292 26 150} {7841194425878715433 26 151} {3761469235610959679 26 152} {3761469235610959679 28 153} {3432685346013715574 29 154} {7405840921870041729 29 155} {7602607523535435990 29 156} {5835227325054063814 29 157} {3954444961595642797 29 158} {104355542954196010 29 159} {5226160693687423431 29 160} {340289167451924124 29 161} {5987244791159750999 29 162} {6767331092005738805 29 163} {9210346959208270043 29 164} {5642457289065687744 29 165} {1081199958357769186 29 166} {3426627421427110270 29 167} {6813582150746923144 29 168} {1500273512560443729 29 169}]
------------------------------------------------------
term 29 Server2 start snapshot! index=159
term 29 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=169
-------------------------------------------------------------
term 29 Server2 start snapshot! index=169
term 29 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 154->153
------------------------------------------------------
term 28 leader 1 nextIndex[0]: 0  matchIndex[0]: 153
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 34105 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 65346 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 Server0 start snapshot! index=159
term 29 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=169
-------------------------------------------------------------
term 29 Server0 start snapshot! index=169
term 29 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8609659065981860765 (index 154) to leader 1
term 28 leader 1 nextIndex[0]: 0  matchIndex[0]: 153
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 77254 term 28 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 2 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95989 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 InstallSnapshot success
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 29 rf.commitIndex 169 rf.lastApplied 169
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 30 server 2 vote for server 1
term 30 server 0 vote for server 1
term 30 server 1 get vote from server 2
term 30 server 1 become leader
------------------------------------------------------
term 30 server 1 get outdate rpc reply from server 0
flag 124 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 98104 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 49254 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 70469 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42730 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 20831 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 84740 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 17332 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5324 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 93483 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 44527 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 2449 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 65086 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 78729 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 61007 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 78165 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 25629 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 16449 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40387 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 30670 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 30 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42931 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 25000 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10628 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 63475 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 68018 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 94025 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 77011 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 85983 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11118 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 23755 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 11843 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 53954 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 8927 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 59090 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 69468 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 6420 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 28169 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 55890 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8609659065981860765 (index 170) to leader 1
flag 6033 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 48479 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8609659065981860765 30 170}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8609659065981860765 30 170}]
------------------------------------------------------
flag 29835 term 30 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 92389 term 30 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8609659065981860765 30 170}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8609659065981860765 30 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96145 term 30 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 9583 term 30 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8609659065981860765 30 170}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8609659065981860765 30 170}]
------------------------------------------------------
term 30 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2725 term 30 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 84543 term 30 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8609659065981860765 30 170}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8609659065981860765 30 170}]
------------------------------------------------------
flag 24609 term 30 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 50987 term 30 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8609659065981860765 30 170}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8609659065981860765 30 170}]
------------------------------------------------------
flag 14924 term 30 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 99909 term 30 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8609659065981860765 30 170}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8609659065981860765 30 170}]
------------------------------------------------------
flag 10187 term 30 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 84585 term 30 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8609659065981860765 30 170}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {8609659065981860765 30 170}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6050045773064338882 (index 171) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38548 term 30 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 66880 term 30 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {8609659065981860765 30 170} {6050045773064338882 30 171}]
------------------------------------------------------
flag 10441 term 30 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 47842 term 30 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {8609659065981860765 30 170} {6050045773064338882 30 171}]
------------------------------------------------------
client write log 5831042622959677973 (index 172) to leader 1
client write log 6873595087072999444 (index 173) to leader 1
client write log 2773311760364077827 (index 174) to leader 1
client write log 7210420564103072916 (index 175) to leader 1
client write log 1593659656483826620 (index 176) to leader 1
client write log 8327070189060880793 (index 177) to leader 1
client write log 3754622949780400165 (index 178) to leader 1
client write log 1600145299771610785 (index 179) to leader 1
client write log 7064057767094737506 (index 180) to leader 1
flag 11929 term 30 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 23898 term 30 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 169} {8609659065981860765 30 170} {6050045773064338882 30 171} {5831042622959677973 30 172} {6873595087072999444 30 173} {2773311760364077827 30 174} {7210420564103072916 30 175} {1593659656483826620 30 176} {8327070189060880793 30 177} {3754622949780400165 30 178} {1600145299771610785 30 179} {7064057767094737506 30 180}]
------------------------------------------------------
term 30 Server1 start snapshot! index=179
term 30 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=180
-------------------------------------------------------------
flag 61740 term 30 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 30 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180}]
------------------------------------------------------
term 30 Server0 start snapshot! index=179
term 30 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=180
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8729325454666632884 (index 181) to leader 1
flag 82961 term 30 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 30 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
term 31 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 vote for server 1
term 32 server 0 vote for server 1
term 32 server 1 get vote from server 2
term 32 server 1 become leader
------------------------------------------------------
term 32 server 1 get outdate rpc reply from server 0
flag 82462 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 74649 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 182->181
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
flag 77472 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 171  matchIndex[2]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
term 32 server 2 InstallSnapshot success
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 30 rf.commitIndex 179 rf.lastApplied 179
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
flag 9341 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 78300 term 32 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
term 32 server 1 not vote for server 2, 任期不够新
term 32 server 2 get outdate rpc reply from server 1
flag 71634 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 85775 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
flag 19949 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 74523 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51573 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 77109 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92736 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 61213 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36039 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 97954 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
flag 24559 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 96161 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
flag 64606 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 29670 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
flag 34698 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 47550 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
flag 49131 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 27551 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
flag 5911 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 33620 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
flag 58608 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 78259 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
flag 55065 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 20467 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
flag 29077 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 86033 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
flag 52878 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 73860 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
flag 34349 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 74200 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
flag 42334 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 88521 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181}]
------------------------------------------------------
client write log 8729325454666632884 (index 182) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75413 term 32 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 95065 term 32 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 32 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14257 term 32 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
flag 61486 term 32 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182}]
------------------------------------------------------
flag 95743 term 32 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
flag 28283 term 32 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182}]
------------------------------------------------------
flag 58295 term 32 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
flag 25595 term 32 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182}]
------------------------------------------------------
flag 37864 term 32 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
flag 46534 term 32 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56696 term 32 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
flag 7825 term 32 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182}]
------------------------------------------------------
flag 29988 term 32 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
flag 98204 term 32 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3612722728638961412 (index 183) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58536 term 32 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
flag 9242 term 32 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 182 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182} {3612722728638961412 32 183}]
------------------------------------------------------
flag 46511 term 32 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 32 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
flag 69479 term 32 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 32 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182} {3612722728638961412 32 183}]
------------------------------------------------------
client write log 858704478498341741 (index 184) to leader 1
client write log 1286678120548392296 (index 185) to leader 1
client write log 1897214696496379760 (index 186) to leader 1
client write log 8551509743732647572 (index 187) to leader 1
client write log 3191975685354841172 (index 188) to leader 1
client write log 7688569277936831904 (index 189) to leader 1
client write log 5958309143666607132 (index 190) to leader 1
client write log 107645360987414672 (index 191) to leader 1
client write log 7254069184830427799 (index 192) to leader 1
client write log 5861098185086056930 (index 193) to leader 1
client write log 5446824565138381974 (index 194) to leader 1
client write log 7171997517590527889 (index 195) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 183->182
------------------------------------------------------
flag 71098 term 32 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 32 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 32 leaderCommit: 183 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 0  matchIndex[2]: 182
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 30 179} {7064057767094737506 30 180} {8729325454666632884 30 181} {8729325454666632884 32 182} {3612722728638961412 32 183} {858704478498341741 32 184} {1286678120548392296 32 185} {1897214696496379760 32 186} {8551509743732647572 32 187} {3191975685354841172 32 188} {7688569277936831904 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195}]
------------------------------------------------------
term 32 Server1 start snapshot! index=189
term 32 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=195
-------------------------------------------------------------
flag 33756 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 0  matchIndex[2]: 182
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195}]
------------------------------------------------------
term 32 Server0 start snapshot! index=189
term 32 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=195
-------------------------------------------------------------
!!!!!!connect server 2
client write log 205426858784175680 (index 196) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 1 not vote for server 2, 日志不够新
term 32 server 0 not vote for server 2, 日志不够新
term 34 server 2 vote for server 1
term 34 server 0 vote for server 1
term 34 server 1 get vote from server 2
term 34 server 1 become leader
------------------------------------------------------
term 34 server 1 get outdate rpc reply from server 0
flag 79690 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 17795 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 197->196
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 197->196
------------------------------------------------------
flag 45104 term 34 leader 1 nextIndex[0]: 196  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 183  matchIndex[2]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
term 34 server 2 InstallSnapshot success
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 32 rf.commitIndex 189 rf.lastApplied 189
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 12797 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 79264 term 34 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47502 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 85770 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 1 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 1
flag 57243 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 25846 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90070 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 51004 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 6715 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 31842 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 61773 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 2630 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 93732 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 11077 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 35778 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 57696 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 50156 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 70843 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 6837 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 27453 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 61676 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 57404 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 95060 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 46721 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 60674 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 21458 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 93415 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 93154 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 65858 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 63460 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 38586 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 25364 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 68076 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 23339 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
flag 92057 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 5850 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196}]
------------------------------------------------------
client write log 205426858784175680 (index 197) to leader 1
flag 27229 term 34 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 8709 term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 34 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197}]
------------------------------------------------------
flag 92701 term 34 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 32010 term 34 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197}]
------------------------------------------------------
flag 52879 term 34 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 81150 term 34 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197}]
------------------------------------------------------
flag 22833 term 34 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 77091 term 34 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197}]
------------------------------------------------------
flag 37205 term 34 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 36578 term 34 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197}]
------------------------------------------------------
flag 93416 term 34 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 24029 term 34 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197}]
------------------------------------------------------
flag 94293 term 34 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 60117 term 34 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 9855 term 34 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 81406 term 34 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 42927 term 34 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 29295 term 34 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 34 server 0 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 198->197
------------------------------------------------------
flag 51066 term 34 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 0  matchIndex[2]: 197
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
term 35 server 0 vote for server 2
term 35 server 2 get vote from server 0
term 35 server 2 become leader
------------------------------------------------------
client write log 847842831803081037 (index 198) to leader 2
flag 3954 term 35 leader 2 nextIndex[0]: 198  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 83472 term 35 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197} {847842831803081037 35 198}]
------------------------------------------------------
flag 33165 term 34 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 0  matchIndex[2]: 197
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11526 term 35 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 35 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
flag 30875 term 35 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197} {847842831803081037 35 198}]
------------------------------------------------------
client write log 7147358221697890115 (index 199) to leader 2
client write log 4412715765742793098 (index 200) to leader 2
client write log 478756058003775326 (index 201) to leader 2
client write log 664564274804484524 (index 202) to leader 2
client write log 1097198129772107191 (index 203) to leader 2
client write log 6531263575040951249 (index 204) to leader 2
client write log 2066460291612325313 (index 205) to leader 2
client write log 9222770118913305915 (index 206) to leader 2
flag 21645 term 34 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 0  matchIndex[2]: 197
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 98261 term 35 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 35 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
flag 83454 term 35 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 32 189} {5958309143666607132 32 190} {107645360987414672 32 191} {7254069184830427799 32 192} {5861098185086056930 32 193} {5446824565138381974 32 194} {7171997517590527889 32 195} {205426858784175680 32 196} {205426858784175680 34 197} {847842831803081037 35 198} {7147358221697890115 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 35 Server2 start snapshot! index=199
term 35 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=206
-------------------------------------------------------------
flag 96680 term 34 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 0  matchIndex[2]: 197
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 60523 term 35 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 35 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 198->197
------------------------------------------------------
term 35 Server0 start snapshot! index=199
term 35 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=206
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2550194192619130652 (index 198) to leader 1
flag 42334 term 34 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 0  matchIndex[2]: 197
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
term 35 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 server 0 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28057 term 35 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 35 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 35 rf.commitIndex 199 rf.lastApplied 199
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 35 server 2 not vote for server 1, 日志不够新
term 35 server 0 not vote for server 1, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 1 vote for server 2
term 37 server 2 get vote from server 1
term 37 server 2 become leader
------------------------------------------------------
term 37 server 0 vote for server 2
term 37 server 2 get outdate rpc reply from server 0
flag 34206 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 21945 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 207->206
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
flag 27399 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 7809 term 37 leader 2 nextIndex[1]: 200  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47301 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 21699 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
flag 85398 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 33258 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
flag 91959 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 39620 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
flag 97434 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 70904 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
flag 35314 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 39072 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
flag 58616 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 28474 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96625 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 61991 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
flag 16877 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 43549 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
flag 14795 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 40748 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95943 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 31331 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
flag 92481 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 52240 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
flag 3329 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 49873 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
flag 74519 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 87890 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
flag 52942 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 58121 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24313 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 9253 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81813 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 21925 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
flag 68812 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 5049 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206}]
------------------------------------------------------
client write log 2550194192619130652 (index 207) to leader 2
flag 75337 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 29350 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207}]
------------------------------------------------------
flag 50806 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
flag 34828 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207}]
------------------------------------------------------
flag 59885 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
flag 58547 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207}]
------------------------------------------------------
flag 92677 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
flag 26094 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207}]
------------------------------------------------------
flag 876 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
flag 87487 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207}]
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37290 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
flag 18193 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207}]
------------------------------------------------------
flag 119 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
flag 73886 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4166997263205680931 (index 208) to leader 2
flag 75138 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
flag 38875 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207} {4166997263205680931 37 208}]
------------------------------------------------------
flag 40936 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 208 
------------------------------------------------------
flag 97096 term 37 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 37 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 37 leaderCommit: 208 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207} {4166997263205680931 37 208}]
------------------------------------------------------
client write log 7183702823849475577 (index 209) to leader 2
client write log 2815045412611227036 (index 210) to leader 2
client write log 2303338762472156182 (index 211) to leader 2
client write log 4902150776245026215 (index 212) to leader 2
client write log 8142530687894656382 (index 213) to leader 2
client write log 3595482001348710562 (index 214) to leader 2
client write log 4410410115608169685 (index 215) to leader 2
client write log 8472166837632382780 (index 216) to leader 2
client write log 3258307222391821837 (index 217) to leader 2
client write log 1213990518664432768 (index 218) to leader 2
client write log 4682564604520477020 (index 219) to leader 2
client write log 8953420766506743505 (index 220) to leader 2
client write log 1348414645506491142 (index 221) to leader 2
client write log 3741091683015681531 (index 222) to leader 2
client write log 8278901498104301239 (index 223) to leader 2
flag 38154 term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 208 
------------------------------------------------------
flag 4014 term 37 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 37 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 37 leaderCommit: 208 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 199} {4412715765742793098 35 200} {478756058003775326 35 201} {664564274804484524 35 202} {1097198129772107191 35 203} {6531263575040951249 35 204} {2066460291612325313 35 205} {9222770118913305915 35 206} {2550194192619130652 37 207} {4166997263205680931 37 208} {7183702823849475577 37 209} {2815045412611227036 37 210} {2303338762472156182 37 211} {4902150776245026215 37 212} {8142530687894656382 37 213} {3595482001348710562 37 214} {4410410115608169685 37 215} {8472166837632382780 37 216} {3258307222391821837 37 217} {1213990518664432768 37 218} {4682564604520477020 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223}]
------------------------------------------------------
term 37 Server2 start snapshot! index=209
term 37 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=223
-------------------------------------------------------------
term 37 Server2 start snapshot! index=219
term 37 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=223
-------------------------------------------------------------
term 37 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 57416 term 37 leader 2 nextIndex[1]: 224  matchIndex[1]: 223
term 37 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223}]
------------------------------------------------------
term 37 Server1 start snapshot! index=209
term 37 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=223
-------------------------------------------------------------
term 37 Server1 start snapshot! index=219
term 37 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=223
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7442375114786076687 (index 224) to leader 2
term 37 server 2 not vote for server 0, 日志不够新
term 37 server 1 not vote for server 0, 日志不够新
term 39 server 1 vote for server 2
term 39 server 0 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
term 39 server 2 get outdate rpc reply from server 0
flag 38872 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 24329 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 225->224
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 225->224
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 208  matchIndex[0]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 29567 term 39 leader 2 nextIndex[1]: 224  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 37 rf.commitIndex 219 rf.lastApplied 219
flag 70479 term 39 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 39 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 59024 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
flag 57206 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 27167 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20311 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 41199 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
flag 35176 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 55535 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
flag 54170 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 33728 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
flag 9892 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 91258 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
flag 31464 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 50282 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
flag 81316 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 62548 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52816 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 57024 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
flag 97381 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 15686 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
flag 71757 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 27510 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
flag 57787 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 10739 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
flag 18065 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 31045 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
flag 90902 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 55634 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
flag 7627 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 67876 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24485 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 34769 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
flag 5361 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 57768 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94388 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 97818 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224}]
------------------------------------------------------
client write log 7442375114786076687 (index 225) to leader 2
flag 96649 term 39 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 93367 term 39 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 39 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225}]
------------------------------------------------------
flag 93704 term 39 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 77142 term 39 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225}]
------------------------------------------------------
flag 10310 term 39 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 99026 term 39 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225}]
------------------------------------------------------
flag 42563 term 39 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 3828 term 39 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225}]
------------------------------------------------------
flag 80458 term 39 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 65365 term 39 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225}]
------------------------------------------------------
flag 63572 term 39 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 14620 term 39 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225}]
------------------------------------------------------
term 39 server 1 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 1
!!!!!!diconnect server 0
client write log 8287413982656918569 (index 226) to leader 2
flag 86976 term 39 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 2468 term 39 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225} {8287413982656918569 39 226}]
------------------------------------------------------
flag 50706 term 39 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 25984 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225} {8287413982656918569 39 226}]
------------------------------------------------------
client write log 5638737822415810657 (index 227) to leader 2
client write log 884725182941800259 (index 228) to leader 2
client write log 8982727556704887577 (index 229) to leader 2
client write log 8206914088688759516 (index 230) to leader 2
client write log 7652172016455251797 (index 231) to leader 2
client write log 1509180732377838306 (index 232) to leader 2
client write log 9135890980599670435 (index 233) to leader 2
client write log 3666663019602682680 (index 234) to leader 2
client write log 1879538727316516378 (index 235) to leader 2
client write log 5471634854412062583 (index 236) to leader 2
client write log 6994260953748088623 (index 237) to leader 2
client write log 1009998479532543981 (index 238) to leader 2
flag 74027 term 39 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 71654 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 219} {8953420766506743505 37 220} {1348414645506491142 37 221} {3741091683015681531 37 222} {8278901498104301239 37 223} {7442375114786076687 37 224} {7442375114786076687 39 225} {8287413982656918569 39 226} {5638737822415810657 39 227} {884725182941800259 39 228} {8982727556704887577 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238}]
------------------------------------------------------
term 39 Server2 start snapshot! index=229
term 39 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=238
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
flag 54188 term 39 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 39 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238}]
------------------------------------------------------
term 39 Server1 start snapshot! index=229
term 39 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=238
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4623003351771625895 (index 239) to leader 2
term 39 server 2 not vote for server 0, 日志不够新
term 39 server 1 not vote for server 0, 日志不够新
term 41 server 1 vote for server 2
term 41 server 2 get vote from server 1
term 41 server 0 vote for server 2
term 41 server 2 become leader
------------------------------------------------------
term 41 server 2 get outdate rpc reply from server 0
flag 63807 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 9126 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 240->239
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 240->239
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 0
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
flag 76348 term 41 leader 2 nextIndex[1]: 239  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 39 rf.commitIndex 229 rf.lastApplied 229
flag 97361 term 41 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 41 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 56471 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99589 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 2480 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37685 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 31176 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
flag 31280 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 97666 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43348 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 99290 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
flag 50387 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 26409 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
flag 91527 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 55077 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
flag 71173 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 50090 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
flag 94095 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 2965 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41778 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 72190 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40975 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 1447 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85264 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 96978 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
flag 16378 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 94161 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
flag 5379 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 50165 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24784 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 2884 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6571 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 56100 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
flag 27417 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 78481 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239}]
------------------------------------------------------
client write log 4623003351771625895 (index 240) to leader 2
flag 78117 term 41 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 40739 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 229} {8206914088688759516 39 230} {7652172016455251797 39 231} {1509180732377838306 39 232} {9135890980599670435 39 233} {3666663019602682680 39 234} {1879538727316516378 39 235} {5471634854412062583 39 236} {6994260953748088623 39 237} {1009998479532543981 39 238} {4623003351771625895 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
term 41 Server2 start snapshot! index=239
term 41 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
flag 13707 term 41 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 34846 term 41 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
term 41 Server0 start snapshot! index=239
term 41 Server1 start snapshot! index=239
term 41 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
term 41 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
flag 64094 term 41 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 46561 term 41 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
flag 46306 term 41 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 73521 term 41 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
flag 6520 term 41 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 8406 term 41 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
flag 34469 term 41 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 48086 term 41 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
flag 46988 term 41 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 63660 term 41 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 52353 term 41 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 44767 term 41 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 88655 term 41 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 82199 term 41 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 66664 term 41 leader 2 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 75296 term 41 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 41 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 241->240
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 241->240
------------------------------------------------------
term 42 server 0 vote for server 1
term 42 server 1 get vote from server 0
term 42 server 1 become leader
------------------------------------------------------
flag 72824 term 42 leader 1 nextIndex[0]: 241  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 84936 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 39 239} {4623003351771625895 41 240}]
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 0  matchIndex[0]: 240
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 0  matchIndex[1]: 240
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
client write log 3216991183029097634 (index 241) to leader 1
flag 11840 term 42 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 91717 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241}]
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 0  matchIndex[0]: 240
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 0  matchIndex[1]: 240
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
flag 12380 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 56691 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241}]
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 0  matchIndex[0]: 240
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 0  matchIndex[1]: 240
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
client write log 2455704724910347999 (index 242) to leader 1
flag 61701 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 63860 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242}]
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 0  matchIndex[0]: 240
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 0  matchIndex[1]: 240
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
flag 81905 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
flag 22626 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242}]
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 0  matchIndex[0]: 240
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 0  matchIndex[1]: 240
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
!!!!!!connect server 2
client write log 5010930872345074059 (index 243) to leader 1
flag 45432 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
flag 25491 term 42 leader 1 nextIndex[2]: 241  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 244->243
------------------------------------------------------
flag 12503 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 243
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
term 42 server 2 InstallSnapshot fail
rf.commitIndex 240 args.LastIncludedIndex 239
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 240->239
------------------------------------------------------
flag 49260 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 239
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243}]
------------------------------------------------------
term 42 server 2 InstallSnapshot fail
rf.commitIndex 240 args.LastIncludedIndex 239
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
flag 69102 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
flag 17187 term 42 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 42 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17772 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
flag 32825 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243}]
------------------------------------------------------
flag 51705 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
flag 93947 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243}]
------------------------------------------------------
flag 87862 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
flag 24980 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75752 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
flag 54130 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 385213673476773946 (index 244) to leader 1
flag 69991 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
flag 92818 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243} {385213673476773946 42 244}]
------------------------------------------------------
flag 69821 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 49366 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243} {385213673476773946 42 244}]
------------------------------------------------------
client write log 6039169213259764882 (index 245) to leader 1
client write log 1385560260514357074 (index 246) to leader 1
client write log 5748381331837571529 (index 247) to leader 1
client write log 3454536658088525604 (index 248) to leader 1
client write log 3636484064363129790 (index 249) to leader 1
client write log 4474679019729642826 (index 250) to leader 1
client write log 6470491308050064266 (index 251) to leader 1
flag 7149 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 80958 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 239} {4623003351771625895 41 240} {3216991183029097634 42 241} {2455704724910347999 42 242} {5010930872345074059 42 243} {385213673476773946 42 244} {6039169213259764882 42 245} {1385560260514357074 42 246} {5748381331837571529 42 247} {3454536658088525604 42 248} {3636484064363129790 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251}]
------------------------------------------------------
term 42 Server1 start snapshot! index=249
term 42 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=251
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 244->243
------------------------------------------------------
flag 20684 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 243
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251}]
------------------------------------------------------
term 42 Server0 start snapshot! index=249
term 42 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=251
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2855080911303417097 (index 252) to leader 1
flag 9437 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 243
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
term 43 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 vote for server 1
term 44 server 1 get vote from server 2
term 44 server 1 become leader
------------------------------------------------------
term 44 server 0 vote for server 1
term 44 server 1 get outdate rpc reply from server 0
flag 9722 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 3725 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 253->252
------------------------------------------------------
term 44 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51264 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 244  matchIndex[2]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 42 rf.commitIndex 249 rf.lastApplied 249
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
flag 83641 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 91434 term 44 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
flag 7082 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 99557 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
flag 54312 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 55302 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92826 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 55898 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
flag 75767 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 97935 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
flag 57188 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 66449 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
flag 90320 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 57638 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
flag 50696 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 91303 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
flag 95801 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 26957 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
flag 34172 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 94570 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
flag 71139 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 70081 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38394 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 90015 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
flag 31389 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 35628 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
flag 26211 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 99001 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
flag 58835 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 94807 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
flag 14649 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 4606 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252}]
------------------------------------------------------
client write log 2855080911303417097 (index 253) to leader 1
flag 71705 term 44 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 23988 term 44 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 44 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253}]
------------------------------------------------------
flag 23324 term 44 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 253 
------------------------------------------------------
flag 4047 term 44 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 253 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253}]
------------------------------------------------------
flag 96091 term 44 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 253 
------------------------------------------------------
flag 46927 term 44 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 253 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253}]
------------------------------------------------------
flag 63219 term 44 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 253 
------------------------------------------------------
flag 70915 term 44 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 253 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253}]
------------------------------------------------------
term 44 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60425 term 44 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 253 
------------------------------------------------------
flag 59953 term 44 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 253 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253}]
------------------------------------------------------
flag 88539 term 44 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 253 
------------------------------------------------------
flag 98350 term 44 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 253 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18661 term 44 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 253 
------------------------------------------------------
flag 22064 term 44 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 253 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3214747783067015981 (index 254) to leader 1
flag 7275 term 44 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 253 
------------------------------------------------------
flag 24190 term 44 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 253 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253} {3214747783067015981 44 254}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17367 term 44 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 65325 term 44 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253} {3214747783067015981 44 254}]
------------------------------------------------------
client write log 3907671995552671618 (index 255) to leader 1
client write log 9077317025248829113 (index 256) to leader 1
client write log 530883653020381502 (index 257) to leader 1
client write log 8279071412582223786 (index 258) to leader 1
client write log 7361883047261505523 (index 259) to leader 1
client write log 7588204498238884128 (index 260) to leader 1
client write log 4922245022321531234 (index 261) to leader 1
client write log 1959170356196583776 (index 262) to leader 1
client write log 799387812313875902 (index 263) to leader 1
client write log 2911377303121725806 (index 264) to leader 1
client write log 1541711146475740421 (index 265) to leader 1
flag 76946 term 44 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 36105 term 44 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 44 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 249} {4474679019729642826 42 250} {6470491308050064266 42 251} {2855080911303417097 42 252} {2855080911303417097 44 253} {3214747783067015981 44 254} {3907671995552671618 44 255} {9077317025248829113 44 256} {530883653020381502 44 257} {8279071412582223786 44 258} {7361883047261505523 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265}]
------------------------------------------------------
term 44 Server1 start snapshot! index=259
term 44 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=265
-------------------------------------------------------------
flag 48633 term 44 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 44 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265}]
------------------------------------------------------
term 44 Server0 start snapshot! index=259
term 44 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=265
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6320775211946078238 (index 266) to leader 1
flag 92231 term 44 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 44 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
term 45 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 2 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 2 vote for server 1
term 46 server 1 get vote from server 2
term 46 server 1 become leader
------------------------------------------------------
term 46 server 0 vote for server 1
term 46 server 1 get outdate rpc reply from server 0
flag 30671 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 20778 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 267->266
------------------------------------------------------
flag 99508 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 254  matchIndex[2]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
term 46 server 2 InstallSnapshot success
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 44 rf.commitIndex 259 rf.lastApplied 259
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23398 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 51956 term 46 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 46 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
flag 65616 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 88835 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
flag 59284 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 11343 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 0
flag 6609 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 4594 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
flag 73189 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 38529 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39675 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 70906 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
flag 78667 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 29179 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
flag 97137 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 94190 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64437 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 49480 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
flag 26779 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 8807 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4069 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 86041 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19954 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 97227 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84633 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 67319 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
flag 45034 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 8802 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 1 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 1
flag 57861 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 81089 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
flag 83434 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 61863 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
flag 66125 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 95776 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266}]
------------------------------------------------------
client write log 6320775211946078238 (index 267) to leader 1
flag 96804 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 50087 term 46 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267}]
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33373 term 46 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 51217 term 46 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267}]
------------------------------------------------------
flag 8351 term 46 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 44356 term 46 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267}]
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95536 term 46 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 88693 term 46 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267}]
------------------------------------------------------
flag 6033 term 46 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 48115 term 46 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267}]
------------------------------------------------------
flag 30814 term 46 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 34934 term 46 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 30259 term 46 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 58145 term 46 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 46964 term 46 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 54235 term 46 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 90949 term 46 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 79150 term 46 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 47 server 2 vote for server 0
term 47 server 0 get vote from server 2
term 47 server 0 become leader
------------------------------------------------------
flag 85653 term 47 leader 0 nextIndex[1]: 268  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 45245 term 47 leader 0 nextIndex[2]: 268  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267}]
------------------------------------------------------
client write log 6080715971298652050 (index 268) to leader 0
flag 1420 term 46 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 98710 term 46 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17624 term 47 leader 0 nextIndex[1]: 268  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 41487 term 47 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267} {6080715971298652050 47 268}]
------------------------------------------------------
flag 48044 term 46 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 41235 term 46 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 5861 term 47 leader 0 nextIndex[1]: 268  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 268 
------------------------------------------------------
flag 25879 term 47 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267} {6080715971298652050 47 268}]
------------------------------------------------------
client write log 7172035452843263140 (index 269) to leader 0
flag 11631 term 46 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 96895 term 46 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 80587 term 47 leader 0 nextIndex[1]: 268  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 268 
------------------------------------------------------
flag 26 term 47 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 44 259} {7588204498238884128 44 260} {4922245022321531234 44 261} {1959170356196583776 44 262} {799387812313875902 44 263} {2911377303121725806 44 264} {1541711146475740421 44 265} {6320775211946078238 44 266} {6320775211946078238 46 267} {6080715971298652050 47 268} {7172035452843263140 47 269}]
------------------------------------------------------
term 47 Server0 start snapshot! index=269
term 47 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
flag 16335 term 46 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 28308 term 46 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 268->267
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 268  matchIndex[1]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
flag 25627 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 Server2 start snapshot! index=269
term 47 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3817299414604604823 (index 268) to leader 1
term 46 leader 1 nextIndex[0]: 0  matchIndex[0]: 267
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
flag 8138 term 46 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 47 server 2 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 47 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 leader 0 nextIndex[1]: 268  matchIndex[1]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
flag 62066 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 47 rf.commitIndex 269 rf.lastApplied 269
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
flag 90239 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 7846 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
flag 98260 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 28812 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53796 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 35619 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
flag 49771 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 64133 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
flag 16732 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 24465 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
flag 23104 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 72364 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
flag 39233 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 31224 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 270->269
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 0  matchIndex[1]: 269
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
flag 12567 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 server 1 InstallSnapshot fail
rf.commitIndex 269 args.LastIncludedIndex 269
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24350 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 69146 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 server 1 not vote for server 0, 日志不够新
term 47 server 0 get outdate rpc reply from server 1
flag 70874 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 73564 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99784 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 68516 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
flag 49620 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 86897 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
flag 37155 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 38496 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
flag 60407 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 36775 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
flag 87263 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 18252 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 270->269
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 0  matchIndex[1]: 269
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
flag 68683 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 server 1 InstallSnapshot fail
rf.commitIndex 269 args.LastIncludedIndex 269
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
flag 9628 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 74838 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
flag 46523 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 36276 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
flag 50391 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 97654 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
client write log 3817299414604604823 (index 270) to leader 0
flag 37158 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
flag 71555 term 47 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {3817299414604604823 47 270}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {3817299414604604823 47 270}]
------------------------------------------------------
flag 6933 term 47 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 47 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 56433 term 47 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {3817299414604604823 47 270}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {3817299414604604823 47 270}]
------------------------------------------------------
flag 1685 term 47 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 47 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 97447 term 47 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {3817299414604604823 47 270}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {3817299414604604823 47 270}]
------------------------------------------------------
term 47 server 1 not vote for server 2, 任期不够新
term 47 server 2 get outdate rpc reply from server 1
flag 47595 term 47 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 47 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 20954 term 47 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {3817299414604604823 47 270}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {3817299414604604823 47 270}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24881 term 47 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 47 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 58258 term 47 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {3817299414604604823 47 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {3817299414604604823 47 270}]
------------------------------------------------------
flag 68762 term 47 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 47 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 92171 term 47 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {3817299414604604823 47 270}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {3817299414604604823 47 270}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1070043106576305887 (index 271) to leader 0
flag 48109 term 47 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 47 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 17793 term 47 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 47 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 47 269} {3817299414604604823 47 270} {1070043106576305887 47 271}]
------------------------------------------------------
flag 6423 term 47 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 47 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 271 
------------------------------------------------------
flag 66059 term 47 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 47 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 47 leaderCommit: 271 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 47 269} {3817299414604604823 47 270} {1070043106576305887 47 271}]
------------------------------------------------------
client write log 3610320816841603343 (index 272) to leader 0
client write log 2896073365530875666 (index 273) to leader 0
client write log 4706968554514172879 (index 274) to leader 0
client write log 1144120096917887998 (index 275) to leader 0
client write log 73578275119776421 (index 276) to leader 0
client write log 7407201039360970227 (index 277) to leader 0
client write log 8105434787925522016 (index 278) to leader 0
client write log 488477361945349018 (index 279) to leader 0
client write log 3803851279101008841 (index 280) to leader 0
client write log 1420153605171599185 (index 281) to leader 0
client write log 6772731052731641393 (index 282) to leader 0
client write log 5548797340136915173 (index 283) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53379 term 47 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 47 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 271 
------------------------------------------------------
flag 30660 term 47 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 47 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 47 leaderCommit: 271 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 269} {3817299414604604823 47 270} {1070043106576305887 47 271} {3610320816841603343 47 272} {2896073365530875666 47 273} {4706968554514172879 47 274} {1144120096917887998 47 275} {73578275119776421 47 276} {7407201039360970227 47 277} {8105434787925522016 47 278} {488477361945349018 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283}]
------------------------------------------------------
term 47 Server0 start snapshot! index=279
term 47 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=283
-------------------------------------------------------------
term 47 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 64739 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283}]
------------------------------------------------------
term 47 Server2 start snapshot! index=279
term 47 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=283
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2610136260614504710 (index 284) to leader 0
term 47 server 2 not vote for server 1, 日志不够新
term 47 server 0 not vote for server 1, 日志不够新
term 49 server 2 vote for server 0
term 49 server 1 vote for server 0
term 49 server 0 get vote from server 2
term 49 server 0 become leader
------------------------------------------------------
term 49 server 0 get outdate rpc reply from server 1
flag 41291 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 67884 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 285->284
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 285->284
------------------------------------------------------
term 49 server 0 not vote for server 2, 任期不够新
term 49 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 11398 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
term 49 server 1 InstallSnapshot success
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 47 rf.commitIndex 279 rf.lastApplied 279
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61339 term 49 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 49 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 37909 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66266 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 34499 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54075 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 72826 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
flag 50873 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 33975 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
flag 52796 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 42735 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
flag 76326 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 8776 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
flag 73724 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 81921 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
flag 92862 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 57803 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
flag 29575 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 54117 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
flag 24856 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 81709 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
flag 70389 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 95277 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96994 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 90768 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
flag 96424 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 7476 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
flag 49364 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 60599 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
flag 71709 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 55134 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
flag 19173 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 19783 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19870 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 76015 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 2610136260614504710 (index 285) to leader 0
flag 41461 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 86337 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50721 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 36683 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47016 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 46533 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285}]
------------------------------------------------------
flag 6998 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 8780 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285}]
------------------------------------------------------
flag 51698 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 74952 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44987 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 17828 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285}]
------------------------------------------------------
flag 39706 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 2419 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5826763770082744196 (index 286) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78935 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 76381 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285} {5826763770082744196 49 286}]
------------------------------------------------------
flag 38255 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 83365 term 49 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 49 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285} {5826763770082744196 49 286}]
------------------------------------------------------
client write log 6176319488897613130 (index 287) to leader 0
client write log 485192381768323921 (index 288) to leader 0
client write log 8146887841372746546 (index 289) to leader 0
client write log 8745076764033791523 (index 290) to leader 0
client write log 6052436939050571276 (index 291) to leader 0
client write log 2426417826049128562 (index 292) to leader 0
client write log 8357026529316528205 (index 293) to leader 0
client write log 1031330369790502955 (index 294) to leader 0
client write log 8333788450508329105 (index 295) to leader 0
client write log 4139572462026274721 (index 296) to leader 0
client write log 6872440169387859570 (index 297) to leader 0
client write log 3250216480321315378 (index 298) to leader 0
client write log 1424779019771653642 (index 299) to leader 0
flag 7994 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 68084 term 49 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 49 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 47 279} {3803851279101008841 47 280} {1420153605171599185 47 281} {6772731052731641393 47 282} {5548797340136915173 47 283} {2610136260614504710 47 284} {2610136260614504710 49 285} {5826763770082744196 49 286} {6176319488897613130 49 287} {485192381768323921 49 288} {8146887841372746546 49 289} {8745076764033791523 49 290} {6052436939050571276 49 291} {2426417826049128562 49 292} {8357026529316528205 49 293} {1031330369790502955 49 294} {8333788450508329105 49 295} {4139572462026274721 49 296} {6872440169387859570 49 297} {3250216480321315378 49 298} {1424779019771653642 49 299}]
------------------------------------------------------
term 49 Server0 start snapshot! index=289
term 49 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=299
-------------------------------------------------------------
term 49 Server0 start snapshot! index=299
term 49 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 2618 term 49 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 49 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 49 299}]
------------------------------------------------------
term 49 Server2 start snapshot! index=289
term 49 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=299
-------------------------------------------------------------
term 49 Server2 start snapshot! index=299
term 49 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7647708359675982139 (index 300) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 286->285
------------------------------------------------------
term 49 server 2 not vote for server 1, 日志不够新
term 49 server 0 not vote for server 1, 日志不够新
term 51 server 2 vote for server 0
term 51 server 0 get vote from server 2
term 51 server 1 vote for server 0
term 51 server 0 become leader
------------------------------------------------------
term 51 server 0 get outdate rpc reply from server 1
flag 65318 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 4626 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 301->300
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 301->300
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 286  matchIndex[1]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 41822 term 51 leader 0 nextIndex[2]: 300  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 49 rf.commitIndex 299 rf.lastApplied 299
flag 57725 term 51 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 55697 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 81327 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 83684 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26338 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 53867 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 10205 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 26217 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 39576 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 28411 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 47810 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 45889 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 69674 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 73875 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50424 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 72871 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 38490 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 14690 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 98730 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 20265 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 29342 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 51250 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 1159 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 10838 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 25374 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 67399 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 42300 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 9459 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 31897 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 85422 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 65821 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 91690 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 52374 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 21306 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
flag 68410 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 30554 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 49 299} {7647708359675982139 49 300}]
------------------------------------------------------
client write log 7647708359675982139 (index 301) to leader 0
flag 75395 term 51 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
flag 12672 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301}]
------------------------------------------------------
flag 7901 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 93797 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301}]
------------------------------------------------------
flag 40577 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 21224 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301}]
------------------------------------------------------
flag 51511 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 56633 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301}]
------------------------------------------------------
flag 58781 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 73530 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301}]
------------------------------------------------------
flag 50204 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 10810 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 94308 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 97065 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 30356 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 10655 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 52838 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 22609 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 89469 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 56818 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 52 server 2 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
flag 30929 term 52 leader 1 nextIndex[0]: 302  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 1490 term 52 leader 1 nextIndex[2]: 302  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301}]
------------------------------------------------------
client write log 559628189865148378 (index 302) to leader 1
flag 35270 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 72447 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 57268 term 52 leader 1 nextIndex[0]: 302  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 21130 term 52 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 52 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301} {559628189865148378 52 302}]
------------------------------------------------------
flag 81833 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 52980 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 93075 term 52 leader 1 nextIndex[0]: 302  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
flag 84413 term 52 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 52 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301} {559628189865148378 52 302}]
------------------------------------------------------
client write log 1618578292087241601 (index 303) to leader 1
client write log 429447771788260447 (index 304) to leader 1
client write log 8499980903742064863 (index 305) to leader 1
client write log 5127735231021079935 (index 306) to leader 1
client write log 6147108608883947122 (index 307) to leader 1
client write log 7262375459153985641 (index 308) to leader 1
client write log 2794854284431779240 (index 309) to leader 1
client write log 6895807635359782659 (index 310) to leader 1
client write log 8767914219874912761 (index 311) to leader 1
client write log 3090694853576720774 (index 312) to leader 1
client write log 448511725062707960 (index 313) to leader 1
client write log 3272336854474341292 (index 314) to leader 1
client write log 3628319737369412418 (index 315) to leader 1
client write log 4680075582858356888 (index 316) to leader 1
client write log 3914886852516134244 (index 317) to leader 1
flag 85427 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 8845 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 94092 term 52 leader 1 nextIndex[0]: 302  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
flag 88678 term 52 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 52 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 302 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 49 299} {7647708359675982139 49 300} {7647708359675982139 51 301} {559628189865148378 52 302} {1618578292087241601 52 303} {429447771788260447 52 304} {8499980903742064863 52 305} {5127735231021079935 52 306} {6147108608883947122 52 307} {7262375459153985641 52 308} {2794854284431779240 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317}]
------------------------------------------------------
term 52 Server1 start snapshot! index=309
term 52 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=317
-------------------------------------------------------------
flag 41458 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 95608 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 52 leader 1 nextIndex[0]: 302  matchIndex[0]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
flag 49062 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 52 leaderCommit: 317 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317}]
------------------------------------------------------
term 52 Server2 start snapshot! index=309
term 52 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=317
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3798699396093656338 (index 318) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 302->301
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 0  matchIndex[1]: 301
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 73983 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 52 server 2 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 52 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 leader 1 nextIndex[0]: 302  matchIndex[0]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
flag 93164 term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 52 leaderCommit: 317 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
term 52 server 0 InstallSnapshot success
------------------------------------------------------
term 52 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 52 rf.commitIndex 309 rf.lastApplied 309
flag 59063 term 52 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 52 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 12213 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 319->318
------------------------------------------------------
term 52 leader 1 nextIndex[0]: 0  matchIndex[0]: 318
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
flag 36315 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
term 52 server 0 InstallSnapshot fail
rf.commitIndex 309 args.LastIncludedIndex 309
------------------------------------------------------
term 52 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 310->309
------------------------------------------------------
term 52 leader 1 nextIndex[0]: 0  matchIndex[0]: 309
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
flag 8337 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
term 52 server 0 InstallSnapshot fail
rf.commitIndex 309 args.LastIncludedIndex 309
------------------------------------------------------
term 52 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
flag 152 term 52 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 52 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 88307 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
flag 35048 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 87893 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
flag 16719 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 58968 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
flag 26778 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 48353 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
flag 33479 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 14060 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 610558719444641061 (index 319) to leader 1
flag 90941 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 12636 term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 309} {6895807635359782659 52 310} {8767914219874912761 52 311} {3090694853576720774 52 312} {448511725062707960 52 313} {3272336854474341292 52 314} {3628319737369412418 52 315} {4680075582858356888 52 316} {3914886852516134244 52 317} {3798699396093656338 52 318} {610558719444641061 52 319}]
------------------------------------------------------
term 52 Server1 start snapshot! index=319
term 52 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
flag 75881 term 52 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
term 52 Server0 start snapshot! index=319
term 52 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
client write log 6784115745089008562 (index 320) to leader 1
client write log 2649822693811033044 (index 321) to leader 1
client write log 3567124271288197053 (index 322) to leader 1
client write log 2226019600863417488 (index 323) to leader 1
client write log 4526757505672989651 (index 324) to leader 1
client write log 326941276291968571 (index 325) to leader 1
client write log 7588916216002925712 (index 326) to leader 1
client write log 4534603943221165423 (index 327) to leader 1
client write log 4861988871096443156 (index 328) to leader 1
client write log 1704553396172655703 (index 329) to leader 1
client write log 748206709966216931 (index 330) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99925 term 52 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 319} {6784115745089008562 52 320} {2649822693811033044 52 321} {3567124271288197053 52 322} {2226019600863417488 52 323} {4526757505672989651 52 324} {326941276291968571 52 325} {7588916216002925712 52 326} {4534603943221165423 52 327} {4861988871096443156 52 328} {1704553396172655703 52 329} {748206709966216931 52 330}]
------------------------------------------------------
term 52 Server1 start snapshot! index=329
term 52 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=330
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95760 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330}]
------------------------------------------------------
term 52 Server0 start snapshot! index=329
term 52 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2802155512249343104 (index 331) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 331->330
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 1 nextIndex[0]: 0  matchIndex[0]: 330
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 52
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 52
------------------------------------------------------
term 53 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 server 0 InstallSnapshot fail
rf.commitIndex 330 args.LastIncludedIndex 329
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 54 server 2 vote for server 1
term 54 server 0 vote for server 1
term 54 server 1 get vote from server 2
term 54 server 1 become leader
------------------------------------------------------
term 54 server 1 get outdate rpc reply from server 0
flag 17312 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 97754 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 332->331
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 332->331
------------------------------------------------------
flag 21605 term 54 leader 1 nextIndex[0]: 331  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 319  matchIndex[2]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 52
------------------------------------------------------
term 54 server 2 InstallSnapshot success
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 52 rf.commitIndex 329 rf.lastApplied 329
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
flag 35528 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 86167 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
flag 913 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 76765 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
term 54 server 0 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 0
flag 3713 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 98214 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
flag 29833 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 91484 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
flag 24090 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 41271 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20945 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 95577 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
flag 77621 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 65318 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
flag 2645 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 98649 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
flag 36876 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 40850 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
flag 17485 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 63338 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
flag 32370 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 25624 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67691 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 80734 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
flag 27068 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 40921 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
flag 31415 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 2198 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
flag 80356 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 82214 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
flag 84786 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 2841 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96847 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 87281 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331}]
------------------------------------------------------
client write log 2802155512249343104 (index 332) to leader 1
flag 53408 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 69684 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42589 term 54 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 68420 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332}]
------------------------------------------------------
flag 80561 term 54 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 759 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332}]
------------------------------------------------------
flag 86134 term 54 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 92972 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332}]
------------------------------------------------------
flag 74805 term 54 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 76127 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332}]
------------------------------------------------------
flag 63840 term 54 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 54019 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332}]
------------------------------------------------------
flag 95946 term 54 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 3550 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1745505457788403797 (index 333) to leader 1
flag 42574 term 54 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 94760 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332} {1745505457788403797 54 333}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40272 term 54 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 54 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 333 
------------------------------------------------------
flag 32250 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 333 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332} {1745505457788403797 54 333}]
------------------------------------------------------
client write log 8988263808111288433 (index 334) to leader 1
client write log 349390088215048033 (index 335) to leader 1
client write log 21406183329793998 (index 336) to leader 1
client write log 1455270407168216035 (index 337) to leader 1
client write log 7035719746665134965 (index 338) to leader 1
client write log 213789284381090107 (index 339) to leader 1
client write log 3647038152885464621 (index 340) to leader 1
client write log 3693939596255212697 (index 341) to leader 1
client write log 6347628619570276317 (index 342) to leader 1
client write log 6970358920575457285 (index 343) to leader 1
client write log 3068003214049575860 (index 344) to leader 1
client write log 3034722269412843150 (index 345) to leader 1
client write log 6210319999183444055 (index 346) to leader 1
client write log 5867776164208710709 (index 347) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99483 term 54 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 54 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 333 
------------------------------------------------------
flag 42676 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 333 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 52 329} {748206709966216931 52 330} {2802155512249343104 52 331} {2802155512249343104 54 332} {1745505457788403797 54 333} {8988263808111288433 54 334} {349390088215048033 54 335} {21406183329793998 54 336} {1455270407168216035 54 337} {7035719746665134965 54 338} {213789284381090107 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347}]
------------------------------------------------------
term 54 Server1 start snapshot! index=339
term 54 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=347
-------------------------------------------------------------
flag 57420 term 54 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 54 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 333->332
------------------------------------------------------
term 54 Server0 start snapshot! index=339
term 54 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=347
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4312159070672924932 (index 348) to leader 1
flag 82663 term 54 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 54 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 332
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
term 55 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 server 2 vote for server 1
term 56 server 0 vote for server 1
term 56 server 1 get vote from server 2
term 56 server 1 become leader
------------------------------------------------------
term 56 server 1 get outdate rpc reply from server 0
flag 21230 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 91335 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 349->348
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
flag 44558 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 333  matchIndex[2]: 0
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
term 56 server 2 InstallSnapshot success
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 54 rf.commitIndex 339 rf.lastApplied 339
flag 87097 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 16664 term 56 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 56 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
flag 94414 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 37272 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
flag 76754 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 67208 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
flag 68056 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 94398 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
flag 46199 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 17719 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
flag 28103 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 6115 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
flag 14711 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 57164 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29186 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 74062 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93386 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 75317 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38894 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 52155 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79704 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 90740 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 server 0 not vote for server 1, 任期不够新
term 56 server 1 get outdate rpc reply from server 0
flag 37473 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 64577 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
flag 88558 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 20026 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23986 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 11434 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
flag 92418 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 80143 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 1 not vote for server 2, 任期不够新
term 56 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16550 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 73670 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30854 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 65458 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348}]
------------------------------------------------------
client write log 4312159070672924932 (index 349) to leader 1
flag 55350 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
flag 63244 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 54 leaderCommit: 347 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348} {4312159070672924932 56 349}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 54 339} {3647038152885464621 54 340} {3693939596255212697 54 341} {6347628619570276317 54 342} {6970358920575457285 54 343} {3068003214049575860 54 344} {3034722269412843150 54 345} {6210319999183444055 54 346} {5867776164208710709 54 347} {4312159070672924932 54 348} {4312159070672924932 56 349}]
------------------------------------------------------
term 56 Server1 start snapshot! index=349
term 56 server1 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
flag 10508 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 55081 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 56 349}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 56 349}]
------------------------------------------------------
term 56 Server2 start snapshot! index=349
term 56 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
term 56 Server0 start snapshot! index=349
term 56 server0 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
flag 19162 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 97680 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 56 349}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 56 349}]
------------------------------------------------------
flag 20344 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 3828 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 56 349}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 56 349}]
------------------------------------------------------
flag 50672 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 97534 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 56 349}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 56 349}]
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 56 server 1 not vote for server 2, 任期不够新
term 56 server 2 get outdate rpc reply from server 1
flag 59430 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 84535 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 56 349}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 56 349}]
------------------------------------------------------
flag 66712 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 77001 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 56 349}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 56 349}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 924 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 61563 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 94927 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 83648 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 57376 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 9447 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 server 0 vote for server 2
term 57 server 2 get vote from server 0
term 57 server 2 become leader
------------------------------------------------------
flag 502 term 57 leader 2 nextIndex[0]: 350  matchIndex[0]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 79387 term 57 leader 2 nextIndex[1]: 350  matchIndex[1]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 56 349}]
------------------------------------------------------
client write log 6430555786543138531 (index 350) to leader 2
flag 41688 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 18305 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 90466 term 57 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 57 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 77181 term 57 leader 2 nextIndex[1]: 350  matchIndex[1]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=350
leader log:
[{snapshot 56 349} {6430555786543138531 57 350}]
------------------------------------------------------
flag 68143 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 40842 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 73829 term 57 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 57 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 57 leaderCommit: 350 
------------------------------------------------------
flag 26296 term 57 leader 2 nextIndex[1]: 350  matchIndex[1]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 350 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=350
leader log:
[{snapshot 56 349} {6430555786543138531 57 350}]
------------------------------------------------------
client write log 8110222779755725333 (index 351) to leader 2
client write log 5154382619271913639 (index 352) to leader 2
client write log 5952458031574320992 (index 353) to leader 2
client write log 6054108327700425740 (index 354) to leader 2
client write log 3807405466307428290 (index 355) to leader 2
client write log 5386171958019999316 (index 356) to leader 2
client write log 5125579187256007653 (index 357) to leader 2
client write log 1525605779295835778 (index 358) to leader 2
client write log 4955898200485958657 (index 359) to leader 2
client write log 7684560190925654726 (index 360) to leader 2
client write log 202200575052823601 (index 361) to leader 2
client write log 3977291647087761195 (index 362) to leader 2
client write log 2782108984156511250 (index 363) to leader 2
client write log 8606540536427320266 (index 364) to leader 2
client write log 1332668767061168702 (index 365) to leader 2
flag 87328 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 13312 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 42217 term 57 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 57 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 57 leaderCommit: 350 
------------------------------------------------------
flag 80310 term 57 leader 2 nextIndex[1]: 350  matchIndex[1]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 350 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 56 349} {6430555786543138531 57 350} {8110222779755725333 57 351} {5154382619271913639 57 352} {5952458031574320992 57 353} {6054108327700425740 57 354} {3807405466307428290 57 355} {5386171958019999316 57 356} {5125579187256007653 57 357} {1525605779295835778 57 358} {4955898200485958657 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 Server2 start snapshot! index=359
term 57 server2 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=365
-------------------------------------------------------------
flag 18664 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 55681 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 49606 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 leader 2 nextIndex[1]: 350  matchIndex[1]: 0
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 57
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 Server0 start snapshot! index=359
term 57 server0 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=365
-------------------------------------------------------------
flag 11096 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
flag 77049 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 349 
------------------------------------------------------
!!!!!!connect server 1
client write log 2530881681666101678 (index 350) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 350->349
------------------------------------------------------
flag 49220 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 leader 2 nextIndex[1]: 350  matchIndex[1]: 0
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 57
------------------------------------------------------
term 57 server 1 InstallSnapshot success
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
term 57 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 360 matchIndex[1] 359 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 57 rf.commitIndex 359 rf.lastApplied 359
flag 81184 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 39038 term 57 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 57 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
flag 36843 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 74936 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
flag 43205 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 92 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
flag 88154 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 20782 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99712 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 33872 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87658 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 82725 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
flag 67845 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 74358 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
flag 60101 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 73566 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
flag 32884 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 63352 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
flag 98554 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 56952 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 366->365
------------------------------------------------------
flag 30184 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 leader 2 nextIndex[1]: 0  matchIndex[1]: 365
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 57
------------------------------------------------------
term 57 server 1 InstallSnapshot fail
rf.commitIndex 365 args.LastIncludedIndex 359
------------------------------------------------------
term 57 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 360 matchIndex[1] 359 
------------------------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
flag 23892 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 10634 term 57 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 57 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
flag 67954 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 12251 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
flag 84683 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 53671 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
flag 79365 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 88487 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88030 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 93941 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65022 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 25935 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44116 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 23592 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 server 0 not vote for server 2, 任期不够新
term 57 server 2 get outdate rpc reply from server 0
flag 69745 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 6402 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365}]
------------------------------------------------------
client write log 2530881681666101678 (index 366) to leader 2
flag 86520 term 57 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
flag 94837 term 57 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 57 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 57 leaderCommit: 365 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366}]
------------------------------------------------------
flag 50721 term 57 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 57 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 57 leaderCommit: 366 
------------------------------------------------------
flag 49908 term 57 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 57 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 57 leaderCommit: 366 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366}]
------------------------------------------------------
flag 75921 term 57 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 57 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 57 leaderCommit: 366 
------------------------------------------------------
flag 15417 term 57 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 57 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 57 leaderCommit: 366 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366}]
------------------------------------------------------
flag 97106 term 57 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 57 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 57 leaderCommit: 366 
------------------------------------------------------
flag 99442 term 57 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 57 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 57 leaderCommit: 366 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366}]
------------------------------------------------------
flag 35597 term 57 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 57 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 57 leaderCommit: 366 
------------------------------------------------------
flag 84855 term 57 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 57 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 57 leaderCommit: 366 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366}]
------------------------------------------------------
flag 38741 term 57 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 57 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 57 leaderCommit: 366 
------------------------------------------------------
flag 2173 term 57 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 57 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 57 leaderCommit: 366 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8536547864605250968 (index 367) to leader 2
flag 9996 term 57 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 57 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 57 leaderCommit: 366 
------------------------------------------------------
flag 93143 term 57 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 57 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 57 leaderCommit: 366 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=368
update matchIndex[1]=367
update leader CommitIndex=367
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366} {8536547864605250968 57 367}]
------------------------------------------------------
flag 51793 term 57 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 57 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 57 leaderCommit: 367 
------------------------------------------------------
flag 69910 term 57 leader 2 nextIndex[1]: 368  matchIndex[1]: 367
term 57 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 57 leaderCommit: 367 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=368
update matchIndex[1]=367
update leader CommitIndex=367
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366} {8536547864605250968 57 367}]
------------------------------------------------------
client write log 4152344558451482275 (index 368) to leader 2
client write log 6579099784131659269 (index 369) to leader 2
client write log 8618947717207809529 (index 370) to leader 2
client write log 5460585041213916163 (index 371) to leader 2
client write log 6671653062204393067 (index 372) to leader 2
client write log 5756279797085401075 (index 373) to leader 2
client write log 8913418695196882559 (index 374) to leader 2
client write log 4461260802247894020 (index 375) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8744 term 57 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 57 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 57 leaderCommit: 367 
------------------------------------------------------
flag 58683 term 57 leader 2 nextIndex[1]: 368  matchIndex[1]: 367
term 57 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 57 leaderCommit: 367 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 57 359} {7684560190925654726 57 360} {202200575052823601 57 361} {3977291647087761195 57 362} {2782108984156511250 57 363} {8606540536427320266 57 364} {1332668767061168702 57 365} {2530881681666101678 57 366} {8536547864605250968 57 367} {4152344558451482275 57 368} {6579099784131659269 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375}]
------------------------------------------------------
term 57 Server2 start snapshot! index=369
term 57 server2 snapshot success
lastIncludedIndex=369 lastApplied=369 lastIndex=375
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 367->366
------------------------------------------------------
term 57 leader 2 nextIndex[0]: 0  matchIndex[0]: 366
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 57
------------------------------------------------------
flag 15786 term 57 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 57 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375}]
------------------------------------------------------
term 57 Server1 start snapshot! index=369
term 57 server1 snapshot success
lastIncludedIndex=369 lastApplied=369 lastIndex=375
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4615134634451507328 (index 376) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 server 2 not vote for server 0, 日志不够新
term 57 server 1 not vote for server 0, 日志不够新
term 59 server 1 vote for server 2
term 59 server 2 get vote from server 1
term 59 server 0 vote for server 2
term 59 server 2 become leader
------------------------------------------------------
term 59 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8166 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 0
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 82115 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 0
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 59 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 377->376
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 377->376
------------------------------------------------------
term 59 leader 2 nextIndex[0]: 367  matchIndex[0]: 0
term 59 leader 2 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 57
------------------------------------------------------
flag 30963 term 59 leader 2 nextIndex[1]: 376  matchIndex[1]: 0
term 59 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
term 59 server 0 InstallSnapshot success
------------------------------------------------------
term 59 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 370 matchIndex[0] 369 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 369 rf.lastIncludedTerm 57 rf.commitIndex 369 rf.lastApplied 369
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74565 term 59 leader 2 nextIndex[0]: 370  matchIndex[0]: 369
term 59 leader 2 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 78539 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
term 59 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14356 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 45534 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
flag 2948 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 83967 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69149 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 5064 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
flag 20192 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 18302 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
flag 4052 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 64073 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9700 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 23562 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
flag 11327 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 44019 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89085 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 57022 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70189 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 88317 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
flag 1152 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 22833 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
flag 17746 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 56197 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54740 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 31252 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14617 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 13355 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
flag 56912 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 72599 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
flag 21075 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 31509 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
flag 28198 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 78211 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=375
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376}]
------------------------------------------------------
client write log 4615134634451507328 (index 377) to leader 2
flag 553 term 59 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
flag 69075 term 59 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 59 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 57 leaderCommit: 375 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=378
update matchIndex[1]=377
update leader CommitIndex=377
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376} {4615134634451507328 59 377}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=378
update matchIndex[0]=377
update leader CommitIndex=377
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376} {4615134634451507328 59 377}]
------------------------------------------------------
flag 99480 term 59 leader 2 nextIndex[0]: 378  matchIndex[0]: 377
term 59 leader 2 sendAppendEntries PrevLogIndex: 377  PrevLogTerm: 59 leaderCommit: 377 
------------------------------------------------------
flag 19892 term 59 leader 2 nextIndex[1]: 378  matchIndex[1]: 377
term 59 leader 2 sendAppendEntries PrevLogIndex: 377  PrevLogTerm: 59 leaderCommit: 377 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:377 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:377 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=378
update matchIndex[1]=377
update leader CommitIndex=377
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376} {4615134634451507328 59 377}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=378
update matchIndex[0]=377
update leader CommitIndex=377
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376} {4615134634451507328 59 377}]
------------------------------------------------------
flag 14427 term 59 leader 2 nextIndex[0]: 378  matchIndex[0]: 377
term 59 leader 2 sendAppendEntries PrevLogIndex: 377  PrevLogTerm: 59 leaderCommit: 377 
------------------------------------------------------
flag 8496 term 59 leader 2 nextIndex[1]: 378  matchIndex[1]: 377
term 59 leader 2 sendAppendEntries PrevLogIndex: 377  PrevLogTerm: 59 leaderCommit: 377 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:377 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=378
update matchIndex[1]=377
update leader CommitIndex=377
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376} {4615134634451507328 59 377}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:377 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=378
update matchIndex[0]=377
update leader CommitIndex=377
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376} {4615134634451507328 59 377}]
------------------------------------------------------
flag 63590 term 59 leader 2 nextIndex[0]: 378  matchIndex[0]: 377
term 59 leader 2 sendAppendEntries PrevLogIndex: 377  PrevLogTerm: 59 leaderCommit: 377 
------------------------------------------------------
flag 33216 term 59 leader 2 nextIndex[1]: 378  matchIndex[1]: 377
term 59 leader 2 sendAppendEntries PrevLogIndex: 377  PrevLogTerm: 59 leaderCommit: 377 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:377 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=378
update matchIndex[1]=377
update leader CommitIndex=377
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376} {4615134634451507328 59 377}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:377 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=378
update matchIndex[0]=377
update leader CommitIndex=377
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376} {4615134634451507328 59 377}]
------------------------------------------------------
term 59 server 1 not vote for server 2, 任期不够新
term 59 server 2 get outdate rpc reply from server 1
flag 26393 term 59 leader 2 nextIndex[0]: 378  matchIndex[0]: 377
term 59 leader 2 sendAppendEntries PrevLogIndex: 377  PrevLogTerm: 59 leaderCommit: 377 
------------------------------------------------------
flag 20541 term 59 leader 2 nextIndex[1]: 378  matchIndex[1]: 377
term 59 leader 2 sendAppendEntries PrevLogIndex: 377  PrevLogTerm: 59 leaderCommit: 377 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:377 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=378
update matchIndex[1]=377
update leader CommitIndex=377
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376} {4615134634451507328 59 377}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:377 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=378
update matchIndex[0]=377
update leader CommitIndex=377
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376} {4615134634451507328 59 377}]
------------------------------------------------------
flag 55546 term 59 leader 2 nextIndex[0]: 378  matchIndex[0]: 377
term 59 leader 2 sendAppendEntries PrevLogIndex: 377  PrevLogTerm: 59 leaderCommit: 377 
------------------------------------------------------
flag 76123 term 59 leader 2 nextIndex[1]: 378  matchIndex[1]: 377
term 59 leader 2 sendAppendEntries PrevLogIndex: 377  PrevLogTerm: 59 leaderCommit: 377 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:377 
term 59 server 0 AppendEntries true commitIndex:377 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=378
update matchIndex[0]=377
update leader CommitIndex=377
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376} {4615134634451507328 59 377}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=378
update matchIndex[1]=377
update leader CommitIndex=377
leader log:
[{snapshot 57 369} {8618947717207809529 57 370} {5460585041213916163 57 371} {6671653062204393067 57 372} {5756279797085401075 57 373} {8913418695196882559 57 374} {4461260802247894020 57 375} {4615134634451507328 57 376} {4615134634451507328 59 377}]
------------------------------------------------------
  ... Passed --  85.1  3 1946  904124  377
--- PASS: TestSnapshotInstall2D (85.14s)
PASS
