=== RUN   TestSnapshotAllCrash2D
Test (2D): crash and restart all servers ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
flag 54227 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 77789 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
server 2 log:
term 1 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0}]
------------------------------------------------------
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 3752956415962525508 (index 1) to leader 1
flag 83479 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
[{3752956415962525508 1 1}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 91173 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
[{3752956415962525508 1 1}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3752956415962525508 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3752956415962525508 1 1}]
------------------------------------------------------
flag 31017 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 93081 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3752956415962525508 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3752956415962525508 1 1}]
------------------------------------------------------
client write log 9090469986259469369 (index 2) to leader 1
flag 30844 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
[{9090469986259469369 1 2}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 43040 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
[{9090469986259469369 1 2}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2}]
------------------------------------------------------
flag 49118 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 51070 term 1 leader 1 nextIndex[2]: 3  matchIndex[2]: 2
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2}]
------------------------------------------------------
client write log 6254961982623529669 (index 3) to leader 1
flag 48444 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
[{6254961982623529669 1 3}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 77356 term 1 leader 1 nextIndex[2]: 3  matchIndex[2]: 2
[{6254961982623529669 1 3}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=4
update matchIndex[2]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=4
update matchIndex[0]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3}]
------------------------------------------------------
flag 3260 term 1 leader 1 nextIndex[0]: 4  matchIndex[0]: 3
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 16005 term 1 leader 1 nextIndex[2]: 4  matchIndex[2]: 3
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:3 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=4
update matchIndex[0]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:3 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=4
update matchIndex[2]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3}]
------------------------------------------------------
client write log 8230851662036717951 (index 4) to leader 1
flag 17423 term 1 leader 1 nextIndex[0]: 4  matchIndex[0]: 3
[{8230851662036717951 1 4}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 14514 term 1 leader 1 nextIndex[2]: 4  matchIndex[2]: 3
[{8230851662036717951 1 4}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:3 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=5
update matchIndex[2]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:3 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=5
update matchIndex[0]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4}]
------------------------------------------------------
flag 19962 term 1 leader 1 nextIndex[0]: 5  matchIndex[0]: 4
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 11778 term 1 leader 1 nextIndex[2]: 5  matchIndex[2]: 4
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:4 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:4 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=5
update matchIndex[0]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=5
update matchIndex[2]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4}]
------------------------------------------------------
client write log 2971684943214254902 (index 5) to leader 1
flag 84659 term 1 leader 1 nextIndex[0]: 5  matchIndex[0]: 4
[{2971684943214254902 1 5}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 94344 term 1 leader 1 nextIndex[2]: 5  matchIndex[2]: 4
[{2971684943214254902 1 5}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:4 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=6
term 1 server 0 AppendEntries true commitIndex:4 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5}]
------------------------------------------------------
update matchIndex[2]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=6
update matchIndex[0]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5}]
------------------------------------------------------
flag 78331 term 1 leader 1 nextIndex[0]: 6  matchIndex[0]: 5
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 83584 term 1 leader 1 nextIndex[2]: 6  matchIndex[2]: 5
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:5 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5}]
term 1 server 0 AppendEntries true commitIndex:5 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=6
update matchIndex[0]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=6
update matchIndex[2]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5}]
------------------------------------------------------
client write log 495488459723771488 (index 6) to leader 1
flag 95818 term 1 leader 1 nextIndex[0]: 6  matchIndex[0]: 5
[{495488459723771488 1 6}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 5415 term 1 leader 1 nextIndex[2]: 6  matchIndex[2]: 5
[{495488459723771488 1 6}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:5 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=7
update matchIndex[0]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:5 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=7
update matchIndex[2]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6}]
------------------------------------------------------
flag 7974 term 1 leader 1 nextIndex[0]: 7  matchIndex[0]: 6
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 34106 term 1 leader 1 nextIndex[2]: 7  matchIndex[2]: 6
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:6 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=7
update matchIndex[2]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:6 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=7
update matchIndex[0]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6}]
------------------------------------------------------
client write log 7905683769285881471 (index 7) to leader 1
flag 11458 term 1 leader 1 nextIndex[0]: 7  matchIndex[0]: 6
[{7905683769285881471 1 7}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 58504 term 1 leader 1 nextIndex[2]: 7  matchIndex[2]: 6
[{7905683769285881471 1 7}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:6 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=8
update matchIndex[0]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:6 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7}]
------------------------------------------------------
flag 48805 term 1 leader 1 nextIndex[0]: 8  matchIndex[0]: 7
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 84863 term 1 leader 1 nextIndex[2]: 8  matchIndex[2]: 7
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:7 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:7 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=8
update matchIndex[0]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7}]
------------------------------------------------------
client write log 7441525432285134934 (index 8) to leader 1
flag 71560 term 1 leader 1 nextIndex[0]: 8  matchIndex[0]: 7
[{7441525432285134934 1 8}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 15335 term 1 leader 1 nextIndex[2]: 8  matchIndex[2]: 7
[{7441525432285134934 1 8}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:7 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7} {7441525432285134934 1 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7} {7441525432285134934 1 8}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:7 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7} {7441525432285134934 1 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7} {7441525432285134934 1 8}]
------------------------------------------------------
flag 58492 term 1 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 27076 term 1 leader 1 nextIndex[2]: 9  matchIndex[2]: 8
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7} {7441525432285134934 1 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7} {7441525432285134934 1 8}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7} {7441525432285134934 1 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7} {7441525432285134934 1 8}]
------------------------------------------------------
client write log 5456915535353457460 (index 9) to leader 1
flag 81646 term 1 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
[{5456915535353457460 1 9}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 91240 term 1 leader 1 nextIndex[2]: 9  matchIndex[2]: 8
[{5456915535353457460 1 9}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7} {7441525432285134934 1 8} {5456915535353457460 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7} {7441525432285134934 1 8} {5456915535353457460 1 9}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7} {7441525432285134934 1 8} {5456915535353457460 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7} {7441525432285134934 1 8} {5456915535353457460 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
flag 70660 term 1 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 31990 term 1 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7} {7441525432285134934 1 8} {5456915535353457460 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{<nil> 0 0} {3752956415962525508 1 1} {9090469986259469369 1 2} {6254961982623529669 1 3} {8230851662036717951 1 4} {2971684943214254902 1 5} {495488459723771488 1 6} {7905683769285881471 1 7} {7441525432285134934 1 8} {5456915535353457460 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
client write log 5152500700230527681 (index 10) to leader 1
flag 44764 term 1 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
[{5152500700230527681 1 10}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 65914 term 1 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
[{5152500700230527681 1 10}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 1 9} {5152500700230527681 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152500700230527681 1 10}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152500700230527681 1 10}]
------------------------------------------------------
flag 60865 term 1 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 17270 term 1 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:10 
server 2 log:
[{snapshot 1 9} {5152500700230527681 1 10}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152500700230527681 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152500700230527681 1 10}]
------------------------------------------------------
client write log 3158711608895989498 (index 11) to leader 1
flag 68933 term 1 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
[{3158711608895989498 1 11}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 20287 term 1 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
[{3158711608895989498 1 11}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:10 
server 2 log:
term 1 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11}]
------------------------------------------------------
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11}]
------------------------------------------------------
flag 90996 term 1 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 87400 term 1 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:11 
server 2 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 1 voteFor 1 logs [{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 1 voteFor 1 logs [{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 1 voteFor 1 logs [{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11}]
!!!!!! server 2 crash
flag 38561 term 1 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 91715 term 1 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 2 server 1 not vote for server 2, 投给了其他人
term 2 server 0 vote for server 2
term 2 server 2 not vote for server 1, 投给了其他人
term 2 server 2 get vote from server 0
term 2 server 2 become leader
------------------------------------------------------
term 2 server 2 get outdate rpc reply from server 1
term 2 server 0 not vote for server 1, 投给了其他人
client write log 5390513582907764976 (index 12) to leader 2
flag 84711 term 2 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
[{5390513582907764976 2 12}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 11726 term 2 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
[{5390513582907764976 2 12}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12}]
------------------------------------------------------
flag 13786 term 2 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
flag 76119 term 2 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:12 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:12 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12}]
------------------------------------------------------
client write log 2631294484175366460 (index 13) to leader 2
flag 52305 term 2 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
[{2631294484175366460 2 13}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
flag 47596 term 2 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
[{2631294484175366460 2 13}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:12 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:12 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13}]
------------------------------------------------------
flag 6625 term 2 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 27023 term 2 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:13 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13}]
------------------------------------------------------
client write log 1585280540634268729 (index 14) to leader 2
flag 48188 term 2 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
[{1585280540634268729 2 14}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 87516 term 2 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
[{1585280540634268729 2 14}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:13 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14}]
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14}]
------------------------------------------------------
flag 93127 term 2 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 10460 term 2 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:14 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:14 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14}]
------------------------------------------------------
client write log 4364627748907453883 (index 15) to leader 2
flag 27343 term 2 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
[{4364627748907453883 2 15}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 11675 term 2 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
[{4364627748907453883 2 15}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:14 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:14 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15}]
------------------------------------------------------
flag 38679 term 2 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 35425 term 2 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:15 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:15 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15}]
------------------------------------------------------
client write log 8710873595913581172 (index 16) to leader 2
flag 72168 term 2 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
[{8710873595913581172 2 16}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 33100 term 2 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
[{8710873595913581172 2 16}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:15 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:15 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16}]
------------------------------------------------------
flag 62491 term 2 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 21304 term 2 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:16 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:16 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16}]
------------------------------------------------------
client write log 1670957224115282556 (index 17) to leader 2
flag 85575 term 2 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
[{1670957224115282556 2 17}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 91415 term 2 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
[{1670957224115282556 2 17}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:16 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:16 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17}]
------------------------------------------------------
flag 99050 term 2 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 98763 term 2 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:17 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:17 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17}]
------------------------------------------------------
client write log 3907671957611508669 (index 18) to leader 2
flag 84388 term 2 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
[{3907671957611508669 2 18}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 88603 term 2 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
[{3907671957611508669 2 18}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:17 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17} {3907671957611508669 2 18}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:17 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17} {3907671957611508669 2 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17} {3907671957611508669 2 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17} {3907671957611508669 2 18}]
------------------------------------------------------
flag 59769 term 2 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 83853 term 2 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:18 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17} {3907671957611508669 2 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17} {3907671957611508669 2 18}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:18 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17} {3907671957611508669 2 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17} {3907671957611508669 2 18}]
------------------------------------------------------
client write log 4090930609727886810 (index 19) to leader 2
flag 83721 term 2 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
[{4090930609727886810 2 19}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 81329 term 2 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
[{4090930609727886810 2 19}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:18 
server 1 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17} {3907671957611508669 2 18} {4090930609727886810 2 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17} {3907671957611508669 2 18} {4090930609727886810 2 19}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:18 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17} {3907671957611508669 2 18} {4090930609727886810 2 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17} {3907671957611508669 2 18} {4090930609727886810 2 19}]
------------------------------------------------------
term 2 Server2 start snapshot! index=19
term 2 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 73277 term 2 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 11912 term 2 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:19 
server 1 log:
term 2 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17} {3907671957611508669 2 18} {4090930609727886810 2 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
[{snapshot 1 9} {5152500700230527681 1 10} {3158711608895989498 1 11} {5390513582907764976 2 12} {2631294484175366460 2 13} {1585280540634268729 2 14} {4364627748907453883 2 15} {8710873595913581172 2 16} {1670957224115282556 2 17} {3907671957611508669 2 18} {4090930609727886810 2 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 Server0 start snapshot! index=19
term 2 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 2 Server1 start snapshot! index=19
term 2 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 2 voteFor 2 logs [{snapshot 2 19}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 2 voteFor 2 logs [{snapshot 2 19}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 2 voteFor 2 logs [{snapshot 2 19}]
!!!!!! server 2 crash
flag 64419 term 2 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 24514 term 2 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 vote for server 0
term 3 server 1 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 20->19
------------------------------------------------------
flag 41516 term 3 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 99924 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 2 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
client write log 5262171264518269418 (index 20) to leader 0
flag 12775 term 3 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
[{5262171264518269418 3 20}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 63037 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
[{5262171264518269418 3 20}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {5262171264518269418 3 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {5262171264518269418 3 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 12->11
------------------------------------------------------
flag 51671 term 3 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
flag 89512 term 3 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {5262171264518269418 3 20}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:20 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {5262171264518269418 3 20}]
------------------------------------------------------
client write log 4432453540459086235 (index 21) to leader 0
flag 65690 term 3 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
[{4432453540459086235 3 21}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
flag 36509 term 3 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
[{4432453540459086235 3 21}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:20 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21}]
------------------------------------------------------
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21}]
------------------------------------------------------
flag 84249 term 3 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 33765 term 3 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:21 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21}]
------------------------------------------------------
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21}]
------------------------------------------------------
client write log 5899767539463572787 (index 22) to leader 0
flag 38170 term 3 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
[{5899767539463572787 3 22}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 41578 term 3 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
[{5899767539463572787 3 22}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:21 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22}]
------------------------------------------------------
flag 66520 term 3 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
flag 36166 term 3 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:22 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22}]
------------------------------------------------------
client write log 7510803289058253013 (index 23) to leader 0
flag 110 term 3 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
[{7510803289058253013 3 23}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
flag 4353 term 3 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
[{7510803289058253013 3 23}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:22 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23}]
------------------------------------------------------
flag 64451 term 3 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
flag 59635 term 3 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:23 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
term 3 server 1 AppendEntries true commitIndex:23 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23}]
------------------------------------------------------
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23}]
------------------------------------------------------
client write log 3167649664193008220 (index 24) to leader 0
flag 66192 term 3 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
[{3167649664193008220 3 24}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
flag 1253 term 3 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
[{3167649664193008220 3 24}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:23 
server 2 log:
term 3 server 1 AppendEntries true commitIndex:23 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24}]
------------------------------------------------------
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24}]
------------------------------------------------------
flag 90034 term 3 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
flag 88215 term 3 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:24 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:24 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24}]
------------------------------------------------------
client write log 2479094163340603391 (index 25) to leader 0
flag 1480 term 3 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
[{2479094163340603391 3 25}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
flag 13167 term 3 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
[{2479094163340603391 3 25}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:24 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
term 3 server 1 AppendEntries true commitIndex:24 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25}]
------------------------------------------------------
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25}]
------------------------------------------------------
flag 44671 term 3 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 44869 term 3 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:25 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25}]
------------------------------------------------------
client write log 4525775217378505906 (index 26) to leader 0
flag 36360 term 3 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
[{4525775217378505906 3 26}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 56728 term 3 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
[{4525775217378505906 3 26}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:25 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26}]
------------------------------------------------------
flag 11281 term 3 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 98147 term 3 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:26 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26}]
------------------------------------------------------
client write log 8067583919151374512 (index 27) to leader 0
flag 5269 term 3 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
[{8067583919151374512 3 27}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 62646 term 3 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
[{8067583919151374512 3 27}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:26 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27}]
------------------------------------------------------
flag 4652 term 3 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 69209 term 3 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:27 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:27 
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27}]
------------------------------------------------------
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27}]
------------------------------------------------------
client write log 1529840611844919056 (index 28) to leader 0
flag 16044 term 3 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
[{1529840611844919056 3 28}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 40097 term 3 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
[{1529840611844919056 3 28}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:27 
server 2 log:
term 3 server 1 AppendEntries true commitIndex:27 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27} {1529840611844919056 3 28}]
------------------------------------------------------
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27} {1529840611844919056 3 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27} {1529840611844919056 3 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27} {1529840611844919056 3 28}]
------------------------------------------------------
flag 87642 term 3 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 49312 term 3 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:28 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27} {1529840611844919056 3 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27} {1529840611844919056 3 28}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:28 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27} {1529840611844919056 3 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27} {1529840611844919056 3 28}]
------------------------------------------------------
client write log 7566414324404341453 (index 29) to leader 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 12->11
------------------------------------------------------
flag 60897 term 3 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
[{7566414324404341453 3 29}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 28198 term 3 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
[{7566414324404341453 3 29}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:28 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27} {1529840611844919056 3 28} {7566414324404341453 3 29}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:28 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27} {1529840611844919056 3 28} {7566414324404341453 3 29}]
------------------------------------------------------
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27} {1529840611844919056 3 28} {7566414324404341453 3 29}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27} {1529840611844919056 3 28} {7566414324404341453 3 29}]
------------------------------------------------------
term 3 Server0 start snapshot! index=29
term 3 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 68553 term 3 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 95253 term 3 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27} {1529840611844919056 3 28} {7566414324404341453 3 29}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 2 19} {5262171264518269418 3 20} {4432453540459086235 3 21} {5899767539463572787 3 22} {7510803289058253013 3 23} {3167649664193008220 3 24} {2479094163340603391 3 25} {4525775217378505906 3 26} {8067583919151374512 3 27} {1529840611844919056 3 28} {7566414324404341453 3 29}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 Server1 start snapshot! index=29
term 3 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 3 Server2 start snapshot! index=29
term 3 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
client write log 9133642010878940297 (index 30) to leader 0
flag 94140 term 3 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
[{9133642010878940297 3 30}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 26947 term 3 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
[{9133642010878940297 3 30}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 3 29} {9133642010878940297 3 30}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {9133642010878940297 3 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {9133642010878940297 3 30}]
------------------------------------------------------
flag 9970 term 3 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
flag 67945 term 3 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:30 
server 2 log:
[{snapshot 3 29} {9133642010878940297 3 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {9133642010878940297 3 30}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:30 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {9133642010878940297 3 30}]
------------------------------------------------------
client write log 6796026188239230617 (index 31) to leader 0
flag 85921 term 3 leader 0 nextIndex[1]: 31  matchIndex[1]: 30
[{6796026188239230617 3 31}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
flag 81861 term 3 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
[{6796026188239230617 3 31}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:30 
server 2 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
term 3 server 1 AppendEntries true commitIndex:30 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31}]
------------------------------------------------------
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31}]
------------------------------------------------------
flag 42688 term 3 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
flag 84580 term 3 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:31 
server 2 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:31 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31}]
------------------------------------------------------
client write log 3883334889394507542 (index 32) to leader 0
flag 59483 term 3 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
[{3883334889394507542 3 32}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
flag 25230 term 3 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
[{3883334889394507542 3 32}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:31 
server 2 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:31 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32}]
------------------------------------------------------
flag 42273 term 3 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
flag 91623 term 3 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:32 
server 2 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32}]
------------------------------------------------------
client write log 4551424002538870262 (index 33) to leader 0
flag 38373 term 3 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
[{4551424002538870262 3 33}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
flag 63710 term 3 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
[{4551424002538870262 3 33}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:32 
server 2 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33}]
------------------------------------------------------
flag 80963 term 3 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
flag 81914 term 3 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:33 
server 2 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33}]
------------------------------------------------------
client write log 3673491069997147501 (index 34) to leader 0
flag 19896 term 3 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
[{3673491069997147501 3 34}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
flag 67708 term 3 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
[{3673491069997147501 3 34}]
term 3 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:33 
server 2 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
------------------------------------------------------
flag 21363 term 3 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
flag 4779 term 3 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:34 
server 2 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 3 voteFor 0 logs [{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 3 voteFor 0 logs [{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 3 voteFor 0 logs [{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
!!!!!! server 2 crash
flag 10368 term 3 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
flag 67555 term 3 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
[]
term 3 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 1 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
term 4 server 2 get outdate rpc reply from server 1
flag 90199 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 0
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 50468 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 0
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=29
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=29
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34}]
------------------------------------------------------
client write log 5335820732880529967 (index 35) to leader 2
flag 43344 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
[{5335820732880529967 4 35}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 97537 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
[{5335820732880529967 4 35}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35}]
------------------------------------------------------
flag 30521 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 35849 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35}]
------------------------------------------------------
client write log 1184146095420131906 (index 36) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 35->34
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 20->19
------------------------------------------------------
flag 11623 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
[{1184146095420131906 4 36}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 48461 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
[{1184146095420131906 4 36}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36}]
------------------------------------------------------
flag 96534 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 89735 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36}]
------------------------------------------------------
client write log 52418374490301646 (index 37) to leader 2
flag 19277 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
[{52418374490301646 4 37}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 91151 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
[{52418374490301646 4 37}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37}]
------------------------------------------------------
flag 87648 term 4 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 42785 term 4 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37}]
------------------------------------------------------
client write log 7913727045829435405 (index 38) to leader 2
flag 16992 term 4 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
[{7913727045829435405 4 38}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 70752 term 4 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
[{7913727045829435405 4 38}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37} {7913727045829435405 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37} {7913727045829435405 4 38}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37} {7913727045829435405 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37} {7913727045829435405 4 38}]
------------------------------------------------------
flag 1333 term 4 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 72958 term 4 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37} {7913727045829435405 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37} {7913727045829435405 4 38}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:38 
server 0 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37} {7913727045829435405 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37} {7913727045829435405 4 38}]
------------------------------------------------------
client write log 996469954068321559 (index 39) to leader 2
flag 14678 term 4 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
[{996469954068321559 4 39}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 44614 term 4 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
[{996469954068321559 4 39}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37} {7913727045829435405 4 38} {996469954068321559 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37} {7913727045829435405 4 38} {996469954068321559 4 39}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:38 
server 0 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37} {7913727045829435405 4 38} {996469954068321559 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37} {7913727045829435405 4 38} {996469954068321559 4 39}]
------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 6174 term 4 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 21067 term 4 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37} {7913727045829435405 4 38} {996469954068321559 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 3 29} {9133642010878940297 3 30} {6796026188239230617 3 31} {3883334889394507542 3 32} {4551424002538870262 3 33} {3673491069997147501 3 34} {5335820732880529967 4 35} {1184146095420131906 4 36} {52418374490301646 4 37} {7913727045829435405 4 38} {996469954068321559 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 9053733405855361371 (index 40) to leader 2
flag 69531 term 4 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
[{9053733405855361371 4 40}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 25504 term 4 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
[{9053733405855361371 4 40}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {9053733405855361371 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {9053733405855361371 4 40}]
------------------------------------------------------
flag 42562 term 4 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 73427 term 4 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {9053733405855361371 4 40}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:40 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {9053733405855361371 4 40}]
------------------------------------------------------
client write log 1583918850627804319 (index 41) to leader 2
flag 17311 term 4 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
[{1583918850627804319 4 41}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 15172 term 4 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
[{1583918850627804319 4 41}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:40 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41}]
------------------------------------------------------
flag 5803 term 4 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 60111 term 4 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:41 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41}]
------------------------------------------------------
client write log 3177762797944216624 (index 42) to leader 2
flag 43116 term 4 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
[{3177762797944216624 4 42}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 63519 term 4 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
[{3177762797944216624 4 42}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:41 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42}]
------------------------------------------------------
flag 47178 term 4 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 53113 term 4 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:42 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42}]
------------------------------------------------------
client write log 1003464775528385458 (index 43) to leader 2
flag 4855 term 4 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
[{1003464775528385458 4 43}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 11645 term 4 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
[{1003464775528385458 4 43}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:42 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43}]
------------------------------------------------------
flag 16552 term 4 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 5739 term 4 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:43 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43}]
------------------------------------------------------
client write log 6138921576529020022 (index 44) to leader 2
flag 93980 term 4 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
[{6138921576529020022 4 44}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 40369 term 4 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
[{6138921576529020022 4 44}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:43 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44}]
------------------------------------------------------
flag 93904 term 4 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 81824 term 4 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:44 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44}]
------------------------------------------------------
client write log 6959004757110141916 (index 45) to leader 2
flag 50507 term 4 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
[{6959004757110141916 4 45}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 38717 term 4 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
[{6959004757110141916 4 45}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:44 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45}]
------------------------------------------------------
flag 75664 term 4 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
flag 59464 term 4 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:45 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45}]
------------------------------------------------------
client write log 4703039676069673039 (index 46) to leader 2
flag 58662 term 4 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
[{4703039676069673039 4 46}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
flag 9708 term 4 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
[{4703039676069673039 4 46}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:45 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46}]
------------------------------------------------------
flag 6061 term 4 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 5648 term 4 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:46 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:46 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46}]
------------------------------------------------------
client write log 5659333604745074507 (index 47) to leader 2
flag 60208 term 4 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
[{5659333604745074507 4 47}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 42773 term 4 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
[{5659333604745074507 4 47}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:46 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:46 
server 0 log:
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=48
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47}]
------------------------------------------------------
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47}]
------------------------------------------------------
flag 4382 term 4 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
flag 9606 term 4 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:47 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47}]
------------------------------------------------------
client write log 6929134432737618357 (index 48) to leader 2
flag 50969 term 4 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
[{6929134432737618357 4 48}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
flag 35308 term 4 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
[{6929134432737618357 4 48}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47} {6929134432737618357 4 48}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:47 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47} {6929134432737618357 4 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47} {6929134432737618357 4 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47} {6929134432737618357 4 48}]
------------------------------------------------------
flag 30600 term 4 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 48 
------------------------------------------------------
flag 93859 term 4 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 48 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:48 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47} {6929134432737618357 4 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47} {6929134432737618357 4 48}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:48 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47} {6929134432737618357 4 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47} {6929134432737618357 4 48}]
------------------------------------------------------
client write log 4368535100656363244 (index 49) to leader 2
flag 25129 term 4 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
[{4368535100656363244 4 49}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 48 
------------------------------------------------------
flag 18130 term 4 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
[{4368535100656363244 4 49}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 48 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:48 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47} {6929134432737618357 4 48} {4368535100656363244 4 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47} {6929134432737618357 4 48} {4368535100656363244 4 49}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:48 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47} {6929134432737618357 4 48} {4368535100656363244 4 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47} {6929134432737618357 4 48} {4368535100656363244 4 49}]
------------------------------------------------------
term 4 Server2 start snapshot! index=49
term 4 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 32333 term 4 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
flag 66193 term 4 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47} {6929134432737618357 4 48} {4368535100656363244 4 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 49}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 4 39} {9053733405855361371 4 40} {1583918850627804319 4 41} {3177762797944216624 4 42} {1003464775528385458 4 43} {6138921576529020022 4 44} {6959004757110141916 4 45} {4703039676069673039 4 46} {5659333604745074507 4 47} {6929134432737618357 4 48} {4368535100656363244 4 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 49}]
------------------------------------------------------
term 4 Server0 start snapshot! index=49
term 4 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 4 Server1 start snapshot! index=49
term 4 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 4 voteFor 2 logs [{snapshot 4 49}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 4 voteFor 2 logs [{snapshot 4 49}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 4 voteFor 2 logs [{snapshot 4 49}]
!!!!!! server 2 crash
flag 77728 term 4 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
flag 1504 term 4 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
term 5 server 2 vote for server 0
term 5 server 0 get vote from server 2
term 5 server 0 become leader
------------------------------------------------------
term 5 server 1 vote for server 0
term 5 server 0 get outdate rpc reply from server 1
flag 94154 term 5 leader 0 nextIndex[1]: 50  matchIndex[1]: 0
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
flag 95154 term 5 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 4 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 49}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 4 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 49}]
------------------------------------------------------
client write log 2588709516913339091 (index 50) to leader 0
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 50->49
------------------------------------------------------
flag 55742 term 5 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
[{2588709516913339091 5 50}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
flag 38590 term 5 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
[{2588709516913339091 5 50}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {2588709516913339091 5 50}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {2588709516913339091 5 50}]
------------------------------------------------------
flag 830 term 5 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
flag 89509 term 5 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:50 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:50 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {2588709516913339091 5 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {2588709516913339091 5 50}]
------------------------------------------------------
client write log 2943716699123019747 (index 51) to leader 0
flag 29127 term 5 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
[{2943716699123019747 5 51}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
flag 74329 term 5 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
[{2943716699123019747 5 51}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:50 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
term 5 server 1 AppendEntries true commitIndex:50 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51}]
------------------------------------------------------
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51}]
------------------------------------------------------
flag 97288 term 5 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
flag 88616 term 5 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:51 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:51 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51}]
------------------------------------------------------
client write log 3289305968371823606 (index 52) to leader 0
flag 1323 term 5 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
[{3289305968371823606 5 52}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
flag 32556 term 5 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
[{3289305968371823606 5 52}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:51 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:51 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52}]
------------------------------------------------------
flag 9127 term 5 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
flag 66057 term 5 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:52 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:52 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52}]
------------------------------------------------------
client write log 3337568525172184842 (index 53) to leader 0
flag 60004 term 5 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
[{3337568525172184842 5 53}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
flag 47616 term 5 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
[{3337568525172184842 5 53}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:52 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:52 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53}]
------------------------------------------------------
flag 28579 term 5 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 6702 term 5 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:53 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:53 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53}]
------------------------------------------------------
client write log 3684949467409968358 (index 54) to leader 0
flag 61525 term 5 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
[{3684949467409968358 5 54}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 49254 term 5 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
[{3684949467409968358 5 54}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:53 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:53 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54}]
------------------------------------------------------
flag 118 term 5 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 31656 term 5 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:54 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:54 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54}]
------------------------------------------------------
client write log 5595092273937159158 (index 55) to leader 0
flag 88453 term 5 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
[{5595092273937159158 5 55}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 3512 term 5 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
[{5595092273937159158 5 55}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:54 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:54 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55}]
------------------------------------------------------
flag 57068 term 5 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
flag 31871 term 5 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:55 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:55 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55}]
------------------------------------------------------
client write log 9047384824299420128 (index 56) to leader 0
flag 97344 term 5 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
[{9047384824299420128 5 56}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
flag 81599 term 5 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
[{9047384824299420128 5 56}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:55 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:55 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 50->49
------------------------------------------------------
flag 79177 term 5 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
flag 2303 term 5 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:56 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:56 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56}]
------------------------------------------------------
client write log 8234783109718122375 (index 57) to leader 0
flag 39210 term 5 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
[{8234783109718122375 5 57}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
flag 16403 term 5 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
[{8234783109718122375 5 57}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:56 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:56 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57}]
------------------------------------------------------
flag 8622 term 5 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
flag 13296 term 5 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:57 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:57 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57}]
------------------------------------------------------
client write log 2362144306136745828 (index 58) to leader 0
flag 48856 term 5 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
[{2362144306136745828 5 58}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
flag 290 term 5 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
[{2362144306136745828 5 58}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:57 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57} {2362144306136745828 5 58}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:57 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57} {2362144306136745828 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57} {2362144306136745828 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57} {2362144306136745828 5 58}]
------------------------------------------------------
flag 37983 term 5 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
flag 58167 term 5 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:58 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57} {2362144306136745828 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57} {2362144306136745828 5 58}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:58 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57} {2362144306136745828 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57} {2362144306136745828 5 58}]
------------------------------------------------------
client write log 7172823183188579856 (index 59) to leader 0
flag 5511 term 5 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
[{7172823183188579856 5 59}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
flag 95992 term 5 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
[{7172823183188579856 5 59}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:58 
server 2 log:
term 5 server 1 AppendEntries true commitIndex:58 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57} {2362144306136745828 5 58} {7172823183188579856 5 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57} {2362144306136745828 5 58} {7172823183188579856 5 59}]
------------------------------------------------------
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57} {2362144306136745828 5 58} {7172823183188579856 5 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57} {2362144306136745828 5 58} {7172823183188579856 5 59}]
------------------------------------------------------
term 5 Server0 start snapshot! index=59
term 5 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 52118 term 5 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 37398 term 5 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:59 
server 2 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57} {2362144306136745828 5 58} {7172823183188579856 5 59}]
term 5 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 4 49} {2588709516913339091 5 50} {2943716699123019747 5 51} {3289305968371823606 5 52} {3337568525172184842 5 53} {3684949467409968358 5 54} {5595092273937159158 5 55} {9047384824299420128 5 56} {8234783109718122375 5 57} {2362144306136745828 5 58} {7172823183188579856 5 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 59}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 59}]
------------------------------------------------------
term 5 Server1 start snapshot! index=59
term 5 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 5 Server2 start snapshot! index=59
term 5 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
client write log 1518680454853760383 (index 60) to leader 0
flag 16277 term 5 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
[{1518680454853760383 5 60}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 71189 term 5 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
[{1518680454853760383 5 60}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:59 
server 2 log:
[{snapshot 5 59} {1518680454853760383 5 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {1518680454853760383 5 60}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 5 59} {1518680454853760383 5 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {1518680454853760383 5 60}]
------------------------------------------------------
flag 90316 term 5 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
flag 25028 term 5 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:60 
server 2 log:
[{snapshot 5 59} {1518680454853760383 5 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {1518680454853760383 5 60}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:60 
server 1 log:
[{snapshot 5 59} {1518680454853760383 5 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {1518680454853760383 5 60}]
------------------------------------------------------
client write log 3194572130952943285 (index 61) to leader 0
flag 57939 term 5 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
[{3194572130952943285 5 61}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
flag 94827 term 5 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
[{3194572130952943285 5 61}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:60 
server 2 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:60 
server 1 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61}]
------------------------------------------------------
flag 84859 term 5 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
flag 15261 term 5 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:61 
server 2 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:61 
server 1 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61}]
------------------------------------------------------
client write log 3817856272916837669 (index 62) to leader 0
flag 82342 term 5 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
[{3817856272916837669 5 62}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
flag 79794 term 5 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
[{3817856272916837669 5 62}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:61 
server 2 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:61 
server 1 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62}]
------------------------------------------------------
flag 47865 term 5 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 5 leaderCommit: 62 
------------------------------------------------------
flag 43982 term 5 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 5 leaderCommit: 62 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:62 
server 1 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:62 
server 2 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62}]
------------------------------------------------------
client write log 3482512132581447951 (index 63) to leader 0
flag 20736 term 5 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
[{3482512132581447951 5 63}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 5 leaderCommit: 62 
------------------------------------------------------
flag 15921 term 5 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
[{3482512132581447951 5 63}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 5 leaderCommit: 62 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:62 
server 1 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:62 
server 2 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63}]
------------------------------------------------------
flag 41804 term 5 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 63 
------------------------------------------------------
flag 47972 term 5 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 63 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:63 
server 2 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:63 
server 1 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 5 voteFor 0 logs [{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 5 voteFor 0 logs [{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 5 voteFor 0 logs [{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63}]
!!!!!! server 2 crash
flag 9908 term 5 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 63 
------------------------------------------------------
flag 1637 term 5 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 63 
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 29551 term 6 leader 1 nextIndex[0]: 64  matchIndex[0]: 0
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 67561 term 6 leader 1 nextIndex[2]: 64  matchIndex[2]: 0
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:59 
server 2 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=59
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:59 
server 0 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63}]
------------------------------------------------------
client write log 13277852556148064 (index 64) to leader 1
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=59
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63} {13277852556148064 6 64}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 35->34
------------------------------------------------------
flag 47614 term 6 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
[{13277852556148064 6 64}]
term 6 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 99326 term 6 leader 1 nextIndex[2]: 64  matchIndex[2]: 63
[{13277852556148064 6 64}]
term 6 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:59 
server 2 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63} {13277852556148064 6 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63} {13277852556148064 6 64}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:59 
server 0 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63} {13277852556148064 6 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63} {13277852556148064 6 64}]
------------------------------------------------------
flag 94193 term 6 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 6 leaderCommit: 64 
------------------------------------------------------
flag 52529 term 6 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 6 leaderCommit: 64 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:64 
server 2 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63} {13277852556148064 6 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63} {13277852556148064 6 64}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:64 
server 0 log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63} {13277852556148064 6 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 5 59} {1518680454853760383 5 60} {3194572130952943285 5 61} {3817856272916837669 5 62} {3482512132581447951 5 63} {13277852556148064 6 64}]
------------------------------------------------------
  ... Passed --  14.7  3  310   91627   64
--- PASS: TestSnapshotAllCrash2D (14.75s)
PASS
