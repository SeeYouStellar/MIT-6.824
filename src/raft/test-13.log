=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
flag 4190 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 79672 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 5311812675003224770 (index 1) to leader 0
flag 90532 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 92203 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5311812675003224770 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5311812675003224770 1 1}]
------------------------------------------------------
flag 94410 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 44691 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5311812675003224770 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5311812675003224770 1 1}]
------------------------------------------------------
flag 95720 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 1299 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5311812675003224770 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5311812675003224770 1 1}]
------------------------------------------------------
flag 93962 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 49154 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5311812675003224770 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5311812675003224770 1 1}]
------------------------------------------------------
flag 53281 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 84310 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5311812675003224770 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5311812675003224770 1 1}]
------------------------------------------------------
flag 41332 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 57592 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5311812675003224770 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5311812675003224770 1 1}]
------------------------------------------------------
flag 91004 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 50297 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5311812675003224770 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5311812675003224770 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 462102452427776261 (index 2) to leader 0
flag 18336 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 59724 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {5311812675003224770 1 1} {462102452427776261 1 2}]
------------------------------------------------------
flag 81624 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 44257 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {5311812675003224770 1 1} {462102452427776261 1 2}]
------------------------------------------------------
client write log 1740255464119458405 (index 3) to leader 0
client write log 4603002824915153886 (index 4) to leader 0
client write log 5447530680328047114 (index 5) to leader 0
client write log 3357389592272131963 (index 6) to leader 0
client write log 109500110939179207 (index 7) to leader 0
client write log 9143409700731421512 (index 8) to leader 0
client write log 550576256321727047 (index 9) to leader 0
client write log 1096972013599040744 (index 10) to leader 0
flag 85582 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 62402 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {5311812675003224770 1 1} {462102452427776261 1 2} {1740255464119458405 1 3} {4603002824915153886 1 4} {5447530680328047114 1 5} {3357389592272131963 1 6} {109500110939179207 1 7} {9143409700731421512 1 8} {550576256321727047 1 9} {1096972013599040744 1 10}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 26265 term 1 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 1 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2092691056828360734 (index 11) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 2 vote for server 0
term 3 server 1 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 0 get outdate rpc reply from server 1
flag 36751 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 50808 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 12->11
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 70162 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueServer1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
update nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 74391 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 34291 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 2642 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 32386 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 85619 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 74008 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 28542 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 8514 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 52841 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 51820 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 7958 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 93913 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 47971 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 31262 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 10264 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 22031 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 26860 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 89797 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 8899 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 48129 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 34774 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 73715 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 26366 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 73889 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 25042 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 20249 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 87528 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 78551 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 58686 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 99110 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 91761 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 63453 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 78331 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 10378 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
flag 40142 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 99774 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11}]
------------------------------------------------------
client write log 2092691056828360734 (index 12) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94710 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 21648 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
flag 82991 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 4089 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
flag 61866 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 46132 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
flag 21518 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 28762 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
flag 40081 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 96723 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
flag 95724 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 70872 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
flag 55801 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 32151 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 53095 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 87131 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 72386 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 72691 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 468 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 5603 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 vote for server 2
term 4 server 2 get vote from server 1
term 4 server 2 become leader
------------------------------------------------------
flag 59551 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 23827 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12}]
------------------------------------------------------
client write log 6753820549778349006 (index 13) to leader 2
flag 66598 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 39762 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 13->12
------------------------------------------------------
flag 56401 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 19331 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13}]
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 8677 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 23565 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 43946 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13}]
------------------------------------------------------
client write log 2975467994432034763 (index 14) to leader 2
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 83353 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 47432 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 88581 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14}]
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 18282 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44940 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 45015 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14}]
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 5668 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
!!!!!!connect server 0
client write log 5222986198499606285 (index 15) to leader 2
flag 31101 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 37930 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14} {5222986198499606285 4 15}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14} {5222986198499606285 4 15}]
------------------------------------------------------
flag 64641 term 4 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 35872 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14} {5222986198499606285 4 15}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14} {5222986198499606285 4 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 16->15
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 0  matchIndex[0]: 15
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 78836 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 InstallSnapshot fail
rf.commitIndex 15 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14} {5222986198499606285 4 15}]
------------------------------------------------------
flag 5236 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 68434 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14} {5222986198499606285 4 15}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14} {5222986198499606285 4 15}]
------------------------------------------------------
flag 3367 term 4 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 56036 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14} {5222986198499606285 4 15}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14} {5222986198499606285 4 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 16->15
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 0  matchIndex[0]: 15
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 96242 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 InstallSnapshot fail
rf.commitIndex 15 args.LastIncludedIndex 9
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14} {5222986198499606285 4 15}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5119208965062913331 (index 16) to leader 2
flag 36519 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 899 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14} {5222986198499606285 4 15} {5119208965062913331 4 16}]
------------------------------------------------------
flag 78476 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 32597 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14} {5222986198499606285 4 15} {5119208965062913331 4 16}]
------------------------------------------------------
client write log 3779160251294861464 (index 17) to leader 2
client write log 796785055936075734 (index 18) to leader 2
client write log 8253695010572435833 (index 19) to leader 2
client write log 7858745330261515311 (index 20) to leader 2
client write log 5808450907224296937 (index 21) to leader 2
client write log 2142504469641720684 (index 22) to leader 2
client write log 7027422780687129381 (index 23) to leader 2
client write log 4720753380707337428 (index 24) to leader 2
flag 33653 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 59255 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 1 9} {1096972013599040744 1 10} {2092691056828360734 1 11} {2092691056828360734 3 12} {6753820549778349006 4 13} {2975467994432034763 4 14} {5222986198499606285 4 15} {5119208965062913331 4 16} {3779160251294861464 4 17} {796785055936075734 4 18} {8253695010572435833 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=24
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 596 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=24
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8112264628930465902 (index 25) to leader 2
term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 14606 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 0 vote for server 2
term 6 server 2 get outdate rpc reply from server 0
flag 75438 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 94460 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 26->25
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 16  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 39810 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39644 term 6 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 6 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 44718 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
flag 73438 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 52791 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
flag 80790 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 74675 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
flag 18657 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 59908 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
flag 67365 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 4985 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93314 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 98075 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
flag 71489 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 51297 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1162564316752257506 (index 26) to leader 2
flag 74215 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 34907 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25} {1162564316752257506 6 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98239 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 24808 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25} {1162564316752257506 6 26}]
------------------------------------------------------
client write log 332670408381522554 (index 27) to leader 2
client write log 6898190228613139038 (index 28) to leader 2
client write log 7446814703011724709 (index 29) to leader 2
client write log 3194899022738998944 (index 30) to leader 2
client write log 569623540137260810 (index 31) to leader 2
client write log 7228547963825951387 (index 32) to leader 2
client write log 8092917720561541244 (index 33) to leader 2
flag 77825 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 53327 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 19} {7858745330261515311 4 20} {5808450907224296937 4 21} {2142504469641720684 4 22} {7027422780687129381 4 23} {4720753380707337428 4 24} {8112264628930465902 4 25} {1162564316752257506 6 26} {332670408381522554 6 27} {6898190228613139038 6 28} {7446814703011724709 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 83924 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2443708691545886406 (index 34) to leader 2
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 server 1 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 0 vote for server 2
term 8 server 2 get outdate rpc reply from server 0
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98291 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 81611 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 35->34
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 35->34
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 26  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 52987 term 8 leader 2 nextIndex[1]: 34  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
flag 26707 term 8 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 8 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 54325 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
flag 38131 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 63911 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
flag 76390 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 6544 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
flag 86393 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 30983 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96513 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 14888 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33635 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 4145 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61217 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 25805 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
flag 17783 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 75937 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
flag 17348 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 73693 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
flag 25187 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 65488 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37235 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 48870 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17718 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 21682 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
flag 29386 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 70940 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
flag 22584 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 38901 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
flag 58914 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 89691 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
flag 92275 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 37427 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
flag 43705 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 25177 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2443708691545886406 (index 35) to leader 2
flag 35562 term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 80491 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88879 term 8 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
flag 27337 term 8 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33943 term 8 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
flag 65231 term 8 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35}]
------------------------------------------------------
flag 11226 term 8 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
flag 64621 term 8 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22864 term 8 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
flag 48681 term 8 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 0 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 0
flag 12575 term 8 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
flag 51713 term 8 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 92596 term 8 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
flag 2606 term 8 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
flag 3395 term 8 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
flag 94493 term 8 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75512 term 8 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
flag 96763 term 8 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 36->35
------------------------------------------------------
term 9 server 1 vote for server 0
term 9 server 0 get vote from server 1
term 9 server 0 become leader
------------------------------------------------------
flag 82447 term 9 leader 0 nextIndex[1]: 36  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
flag 20929 term 9 leader 0 nextIndex[2]: 36  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35}]
------------------------------------------------------
client write log 4302410986387254121 (index 36) to leader 0
flag 63024 term 8 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 35
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 73746 term 9 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 9 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
flag 19201 term 9 leader 0 nextIndex[2]: 36  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35} {4302410986387254121 9 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 36->35
------------------------------------------------------
flag 72353 term 8 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 35
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 88031 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35} {4302410986387254121 9 36}]
------------------------------------------------------
client write log 4183912392133115001 (index 37) to leader 0
client write log 8196117392268809652 (index 38) to leader 0
client write log 6469260317590234200 (index 39) to leader 0
client write log 9039846131568100498 (index 40) to leader 0
client write log 9202814455066172238 (index 41) to leader 0
client write log 5265746582070682559 (index 42) to leader 0
client write log 7355937445790325748 (index 43) to leader 0
client write log 5054399586850257653 (index 44) to leader 0
flag 543 term 8 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 35
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61397 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 29} {3194899022738998944 6 30} {569623540137260810 6 31} {7228547963825951387 6 32} {8092917720561541244 6 33} {2443708691545886406 6 34} {2443708691545886406 8 35} {4302410986387254121 9 36} {4183912392133115001 9 37} {8196117392268809652 9 38} {6469260317590234200 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
term 9 Server0 start snapshot! index=39
term 9 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=44
-------------------------------------------------------------
flag 69235 term 8 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 35
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 85782 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
term 9 Server1 start snapshot! index=39
term 9 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=44
-------------------------------------------------------------
flag 38751 term 8 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 35
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
!!!!!!connect server 2
client write log 4255467538390309063 (index 36) to leader 2
flag 46923 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot success
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 9 rf.commitIndex 39 rf.lastApplied 39
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
flag 23674 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 98673 term 9 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
flag 44677 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 75085 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30209 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 898 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
flag 99368 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 25605 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 1 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 1
flag 86152 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 6046 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
flag 16405 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 15768 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93305 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 39645 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
flag 63218 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 89341 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
flag 6228 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 80385 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
flag 97279 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 72866 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
flag 99347 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 84423 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20739 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 70006 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
flag 82139 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 99212 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
flag 68738 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 34682 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34584 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 94960 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
flag 71788 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 62530 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
flag 78719 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 90647 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27470 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 55877 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
flag 77153 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 14041 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44}]
------------------------------------------------------
client write log 4255467538390309063 (index 45) to leader 0
term 9 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42282 term 9 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 65009 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45}]
------------------------------------------------------
flag 9683 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 20755 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88961 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 67614 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45}]
------------------------------------------------------
flag 1911 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 64431 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87886 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 57534 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23499 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 37964 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45}]
------------------------------------------------------
flag 57428 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 60651 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 754528733793187471 (index 46) to leader 0
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3902 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 77866 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45} {754528733793187471 9 46}]
------------------------------------------------------
flag 6156 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 84782 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45} {754528733793187471 9 46}]
------------------------------------------------------
client write log 800857178720419687 (index 47) to leader 0
client write log 5977136262242691607 (index 48) to leader 0
client write log 4915574354026571954 (index 49) to leader 0
client write log 8126673561378786368 (index 50) to leader 0
client write log 1973797998415271941 (index 51) to leader 0
client write log 2425765083594778697 (index 52) to leader 0
client write log 5915799750128369430 (index 53) to leader 0
client write log 16483468464044853 (index 54) to leader 0
client write log 5055416295776654609 (index 55) to leader 0
client write log 7413140781454425067 (index 56) to leader 0
client write log 6723631264429722915 (index 57) to leader 0
client write log 2537781045122562365 (index 58) to leader 0
client write log 1792934715334746519 (index 59) to leader 0
client write log 1460887784758196599 (index 60) to leader 0
client write log 3965448836368343378 (index 61) to leader 0
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
flag 65672 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 22248 term 9 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 39} {9039846131568100498 9 40} {9202814455066172238 9 41} {5265746582070682559 9 42} {7355937445790325748 9 43} {5054399586850257653 9 44} {4255467538390309063 9 45} {754528733793187471 9 46} {800857178720419687 9 47} {5977136262242691607 9 48} {4915574354026571954 9 49} {8126673561378786368 9 50} {1973797998415271941 9 51} {2425765083594778697 9 52} {5915799750128369430 9 53} {16483468464044853 9 54} {5055416295776654609 9 55} {7413140781454425067 9 56} {6723631264429722915 9 57} {2537781045122562365 9 58} {1792934715334746519 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=61
-------------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=61
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 46->45
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 45
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 12865 term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=61
-------------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=61
-------------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 7547390802544391607 (index 62) to leader 0
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 45
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 13291 term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
term 10 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 2 vote for server 0
term 11 server 1 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 0 get outdate rpc reply from server 1
flag 84637 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 40296 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 63->62
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 85455 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70513 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 12743 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48957 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 66670 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
term 11 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87141 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 81379 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20130 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 21584 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
flag 25226 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 87639 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
flag 44534 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 80052 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
flag 20817 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 45941 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3426080582052329343 (index 63) to leader 0
flag 76997 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 52293 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62} {3426080582052329343 11 63}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74405 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 56814 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62} {3426080582052329343 11 63}]
------------------------------------------------------
client write log 4278520507923834644 (index 64) to leader 0
client write log 1979527300114463942 (index 65) to leader 0
client write log 334010962447680794 (index 66) to leader 0
client write log 8792897460677824254 (index 67) to leader 0
client write log 2447641000095622509 (index 68) to leader 0
client write log 8704485801791471306 (index 69) to leader 0
client write log 6078350114927849755 (index 70) to leader 0
client write log 1848199055232248723 (index 71) to leader 0
client write log 8086031533061037274 (index 72) to leader 0
client write log 2838477470567415914 (index 73) to leader 0
client write log 8444182490699953617 (index 74) to leader 0
client write log 7796959049865498158 (index 75) to leader 0
client write log 6698594426044262305 (index 76) to leader 0
client write log 5144321260323873956 (index 77) to leader 0
client write log 2068312545505984710 (index 78) to leader 0
flag 86291 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 30094 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 59} {1460887784758196599 9 60} {3965448836368343378 9 61} {7547390802544391607 9 62} {3426080582052329343 11 63} {4278520507923834644 11 64} {1979527300114463942 11 65} {334010962447680794 11 66} {8792897460677824254 11 67} {2447641000095622509 11 68} {8704485801791471306 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=78
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 7008 term 11 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 11 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=78
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8758747877725423530 (index 79) to leader 0
term 11 server 2 not vote for server 1, 日志不够新
term 11 server 0 not vote for server 1, 日志不够新
term 13 server 2 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 1 vote for server 0
term 13 server 0 get outdate rpc reply from server 1
flag 66557 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 31322 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 80->79
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 80->79
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 63  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 63967 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
flag 38410 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 60089 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
flag 81598 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 84885 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
flag 92949 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 28422 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
flag 12515 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 23775 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
flag 90717 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 87374 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
flag 6711 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 65871 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
flag 58097 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 52983 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40114 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 27817 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15542 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 4637 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
flag 4018 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 18268 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
flag 32867 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 10030 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71240 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 58753 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
flag 46572 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 147 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 2 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 2
flag 42086 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 40912 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
flag 84585 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 97403 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 2 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 2
flag 61923 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 1134 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55866 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 26142 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
flag 64223 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 90770 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79}]
------------------------------------------------------
client write log 8758747877725423530 (index 80) to leader 0
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6844 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 16870 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 69} {6078350114927849755 11 70} {1848199055232248723 11 71} {8086031533061037274 11 72} {2838477470567415914 11 73} {8444182490699953617 11 74} {7796959049865498158 11 75} {6698594426044262305 11 76} {5144321260323873956 11 77} {2068312545505984710 11 78} {8758747877725423530 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
term 13 Server0 start snapshot! index=79
term 13 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
flag 63051 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 6842 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
term 13 Server2 start snapshot! index=79
term 13 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73135 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 94543 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
flag 18766 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 34717 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
flag 50023 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 25495 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
flag 47137 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 31298 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
flag 52597 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 21233 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 65783 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 46484 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 59601 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 11137 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 87777 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 95229 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75433 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 52240 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 vote for server 2
term 14 server 2 get vote from server 1
term 14 server 2 become leader
------------------------------------------------------
flag 89747 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 68431 term 14 leader 2 nextIndex[1]: 81  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {8758747877725423530 13 80}]
------------------------------------------------------
flag 59534 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 74092 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
client write log 5445331237188629212 (index 81) to leader 2
flag 42280 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 77503 term 14 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81}]
------------------------------------------------------
flag 84476 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 4938 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 3772 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 42606 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81}]
------------------------------------------------------
flag 2979 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 63493 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
client write log 2738682867941150360 (index 82) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 81->80
------------------------------------------------------
flag 54680 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 27691 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82}]
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 80
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 8810 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 28427 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 13450 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82}]
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 80
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 3063 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
!!!!!!connect server 0
client write log 2995630974754258799 (index 83) to leader 2
term 13 server 0 not vote for server 1, 任期不够新
term 14 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 81->80
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 73945 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 0 InstallSnapshot fail
rf.commitIndex 80 args.LastIncludedIndex 79
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
flag 5899 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 31067 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41906 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 22118 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
flag 43892 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 62089 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
flag 24773 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 66710 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
flag 86750 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 68760 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
flag 16026 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 18069 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34516 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 91061 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1376540548784646195 (index 84) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2420 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 84691 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83} {1376540548784646195 14 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95068 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 98322 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83} {1376540548784646195 14 84}]
------------------------------------------------------
client write log 3952570571879503820 (index 85) to leader 2
client write log 7292741142400895952 (index 86) to leader 2
client write log 6317674249246077998 (index 87) to leader 2
client write log 2092794596658176280 (index 88) to leader 2
client write log 2062847189224073669 (index 89) to leader 2
client write log 9051755870824592877 (index 90) to leader 2
client write log 5535016896869579319 (index 91) to leader 2
flag 77346 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 87903 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 79} {8758747877725423530 13 80} {5445331237188629212 14 81} {2738682867941150360 14 82} {2995630974754258799 14 83} {1376540548784646195 14 84} {3952570571879503820 14 85} {7292741142400895952 14 86} {6317674249246077998 14 87} {2092794596658176280 14 88} {2062847189224073669 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91}]
------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=91
-------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 31480 term 14 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=91
-------------------------------------------------------------
!!!!!!connect server 0
client write log 407155663489272990 (index 92) to leader 2
term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 67148 term 14 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
term 15 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 1 vote for server 2
term 16 server 2 get vote from server 1
term 16 server 2 become leader
------------------------------------------------------
term 16 server 0 vote for server 2
term 16 server 2 get outdate rpc reply from server 0
flag 18019 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 57139 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 93->92
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 17070 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55517 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 51011 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
flag 24544 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 32211 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 2
flag 4075 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 6032 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
flag 24356 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 3285 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
flag 74389 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 84615 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3793 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 80192 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
flag 98038 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 52091 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2926593449664546443 (index 93) to leader 2
flag 81515 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 19274 term 16 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92} {2926593449664546443 16 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89373 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 12443 term 16 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92} {2926593449664546443 16 93}]
------------------------------------------------------
client write log 1154317788284426134 (index 94) to leader 2
client write log 9134648229785958495 (index 95) to leader 2
client write log 1180697802129015613 (index 96) to leader 2
client write log 4026446071158245944 (index 97) to leader 2
client write log 4342613346588795125 (index 98) to leader 2
client write log 796319154329801835 (index 99) to leader 2
client write log 6302229341294136623 (index 100) to leader 2
flag 88577 term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 11710 term 16 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 89} {9051755870824592877 14 90} {5535016896869579319 14 91} {407155663489272990 14 92} {2926593449664546443 16 93} {1154317788284426134 16 94} {9134648229785958495 16 95} {1180697802129015613 16 96} {4026446071158245944 16 97} {4342613346588795125 16 98} {796319154329801835 16 99} {6302229341294136623 16 100}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=100
-------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 53916 term 16 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=100
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2157628036163180447 (index 101) to leader 2
term 16 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 93321 term 16 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 1 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
term 18 server 0 vote for server 2
term 18 server 2 get outdate rpc reply from server 0
flag 41873 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 68639 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 102->101
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 40798 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6024 term 18 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 66903 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71483 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 13844 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
flag 19105 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 68502 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51757 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 94704 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10518 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 85375 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46952 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 76883 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
flag 63423 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 85354 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
flag 55423 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 29078 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25329 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 29008 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
flag 59892 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 10964 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62824 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 37559 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
flag 88311 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 48282 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85484 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 26038 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77613 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 92696 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
flag 38184 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 11291 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8673 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 3330 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
term 18 server 1 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3073 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 79199 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101}]
------------------------------------------------------
client write log 2157628036163180447 (index 102) to leader 2
flag 64567 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 11451 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102}]
------------------------------------------------------
flag 20438 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 20110 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102}]
------------------------------------------------------
flag 58475 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 77363 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102}]
------------------------------------------------------
flag 84151 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 49627 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102}]
------------------------------------------------------
flag 60245 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 35498 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
term 18 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102}]
------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
flag 10261 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 78796 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102}]
------------------------------------------------------
flag 14595 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 36733 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
!!!!!!diconnect server 2
flag 85846 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 98042 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62508 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 54713 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 1 vote for server 0
term 19 server 0 get vote from server 1
term 19 server 0 become leader
------------------------------------------------------
flag 4379 term 19 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 61573 term 19 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102}]
------------------------------------------------------
flag 11754 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 28778 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
client write log 4052297322693012154 (index 103) to leader 0
flag 32842 term 19 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 19 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 64859 term 19 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102} {4052297322693012154 19 103}]
------------------------------------------------------
flag 32382 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 81016 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 72386 term 19 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 19 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
flag 23387 term 19 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102} {4052297322693012154 19 103}]
------------------------------------------------------
flag 7017 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 65593 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
client write log 2287847234446274848 (index 104) to leader 0
client write log 8541797528333766282 (index 105) to leader 0
client write log 5033902004517733699 (index 106) to leader 0
client write log 4732767784352988833 (index 107) to leader 0
client write log 1181130168413043692 (index 108) to leader 0
client write log 2820318638215761267 (index 109) to leader 0
client write log 460370646832028318 (index 110) to leader 0
client write log 8833970599177660940 (index 111) to leader 0
client write log 9071126236323448695 (index 112) to leader 0
client write log 701885587752849488 (index 113) to leader 0
client write log 3096032584112830092 (index 114) to leader 0
client write log 5023092509992577080 (index 115) to leader 0
client write log 8654826832651899569 (index 116) to leader 0
client write log 7065588228357886353 (index 117) to leader 0
client write log 8546779610399951198 (index 118) to leader 0
flag 12965 term 19 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 19 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
flag 61880 term 19 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 99} {6302229341294136623 16 100} {2157628036163180447 16 101} {2157628036163180447 18 102} {4052297322693012154 19 103} {2287847234446274848 19 104} {8541797528333766282 19 105} {5033902004517733699 19 106} {4732767784352988833 19 107} {1181130168413043692 19 108} {2820318638215761267 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=118
-------------------------------------------------------------
flag 23878 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 75711 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 17937 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
flag 54286 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 38754 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=118
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4643455978433487404 (index 103) to leader 2
flag 24321 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot success
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 110->109
------------------------------------------------------
flag 17033 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 109
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 109 args.LastIncludedIndex 109
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 server 2 not vote for server 0, 日志不够新
flag 72072 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 2526 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 0 get outdate rpc reply from server 2
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35212 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 57417 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89221 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 78821 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
flag 84035 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 51995 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
flag 74299 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 85400 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 119->118
------------------------------------------------------
flag 70413 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 118
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 118 args.LastIncludedIndex 109
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
flag 4654 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 34543 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
flag 86589 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 39350 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
flag 88577 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 24148 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
flag 46793 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 76075 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
flag 4754 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 61854 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
flag 12733 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 29235 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81932 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 15940 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
flag 77037 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 3485 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
flag 8940 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 70463 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
flag 30182 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 85180 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
flag 10526 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 20766 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
flag 7890 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 44791 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118}]
------------------------------------------------------
client write log 4643455978433487404 (index 119) to leader 0
flag 19350 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 9673 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118} {4643455978433487404 19 119}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 109} {460370646832028318 19 110} {8833970599177660940 19 111} {9071126236323448695 19 112} {701885587752849488 19 113} {3096032584112830092 19 114} {5023092509992577080 19 115} {8654826832651899569 19 116} {7065588228357886353 19 117} {8546779610399951198 19 118} {4643455978433487404 19 119}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 120->119
------------------------------------------------------
flag 77294 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 119
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 58446 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 41776 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
flag 80355 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 62949 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20195 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 48364 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
flag 12704 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 56539 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82956 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 8557 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1324829555412660118 (index 120) to leader 0
flag 16712 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 88922 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1324829555412660118 19 120}]
------------------------------------------------------
flag 33445 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 75793 term 19 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 19 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1324829555412660118 19 120}]
------------------------------------------------------
client write log 6904634436747451677 (index 121) to leader 0
client write log 4503139037322750983 (index 122) to leader 0
client write log 2522151260678112228 (index 123) to leader 0
client write log 1567189588643785250 (index 124) to leader 0
client write log 1611247387731664558 (index 125) to leader 0
client write log 5082582526181404793 (index 126) to leader 0
client write log 6309683342420340902 (index 127) to leader 0
client write log 7313215988066085926 (index 128) to leader 0
client write log 5486251484256722437 (index 129) to leader 0
client write log 5319350375672025768 (index 130) to leader 0
client write log 7174607772270346216 (index 131) to leader 0
flag 52635 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 5885 term 19 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 19 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 119} {1324829555412660118 19 120} {6904634436747451677 19 121} {4503139037322750983 19 122} {2522151260678112228 19 123} {1567189588643785250 19 124} {1611247387731664558 19 125} {5082582526181404793 19 126} {6309683342420340902 19 127} {7313215988066085926 19 128} {5486251484256722437 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131}]
------------------------------------------------------
term 19 Server0 start snapshot! index=129
term 19 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=131
-------------------------------------------------------------
term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 53325 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131}]
------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=131
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 6684021476317299677 (index 132) to leader 0
term 19 server 2 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 2
term 19 server 2 not vote for server 1, 日志不够新
term 19 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 1 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 0 get outdate rpc reply from server 1
flag 57501 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 89709 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 133->132
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 133->132
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 120  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 69135 term 21 leader 0 nextIndex[2]: 132  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 19 rf.commitIndex 129 rf.lastApplied 129
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40459 term 21 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 21 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 66962 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
flag 3976 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 69535 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
flag 24647 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 62760 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
flag 59126 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 25599 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34054 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 9508 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35089 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 42203 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
flag 49762 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 41540 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
flag 15313 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 90665 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
flag 78479 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 11139 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89094 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 78876 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33989 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 58906 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
flag 49629 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 89247 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90147 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 63854 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22395 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 77378 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
flag 59150 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 78082 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
flag 78191 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 46489 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82891 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 4728 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
flag 67803 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 75135 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132}]
------------------------------------------------------
client write log 6684021476317299677 (index 133) to leader 0
flag 91004 term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 65152 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44563 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 24335 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133}]
------------------------------------------------------
flag 42127 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 1791 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133}]
------------------------------------------------------
flag 69899 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 88711 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90470 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 7702 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133}]
------------------------------------------------------
flag 91378 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 81352 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95968 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 53715 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5704774644593998691 (index 134) to leader 0
flag 80559 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 31563 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133} {5704774644593998691 21 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25160 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 20943 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133} {5704774644593998691 21 134}]
------------------------------------------------------
client write log 9131886428995404930 (index 135) to leader 0
client write log 8438815770547065367 (index 136) to leader 0
client write log 1958007161272490295 (index 137) to leader 0
client write log 7238615896554235453 (index 138) to leader 0
client write log 2037342375047253188 (index 139) to leader 0
client write log 762668185808688423 (index 140) to leader 0
client write log 3115735088329772686 (index 141) to leader 0
client write log 9095058629310098552 (index 142) to leader 0
client write log 4573268303598945174 (index 143) to leader 0
client write log 8782492853763546611 (index 144) to leader 0
flag 86400 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 38575 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 129} {5319350375672025768 19 130} {7174607772270346216 19 131} {6684021476317299677 19 132} {6684021476317299677 21 133} {5704774644593998691 21 134} {9131886428995404930 21 135} {8438815770547065367 21 136} {1958007161272490295 21 137} {7238615896554235453 21 138} {2037342375047253188 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144}]
------------------------------------------------------
term 21 Server0 start snapshot! index=139
term 21 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=144
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 23904 term 21 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144}]
------------------------------------------------------
term 21 Server2 start snapshot! index=139
term 21 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=144
-------------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 2079981047287997111 (index 145) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2234 term 21 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 987 term 21 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
term 22 server 1 AppendEntries false 领导者任期过期 args.Term 21
------------------------------------------------------
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 not vote for server 1, 日志不够新
term 22 server 0 not vote for server 1, 日志不够新
term 24 server 1 vote for server 2
term 24 server 0 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
term 24 server 2 get outdate rpc reply from server 0
flag 77632 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 34497 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 146->145
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
flag 38516 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 134  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 21 rf.commitIndex 139 rf.lastApplied 139
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
flag 58070 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 36999 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
flag 68204 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 39495 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
flag 99609 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 46173 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
flag 2021 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 25583 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
flag 2293 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 45250 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
flag 89370 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 82407 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
flag 52496 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 63655 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
flag 36263 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 65137 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
flag 25731 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 72951 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
flag 38243 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 15981 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
flag 91086 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 88445 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
flag 44645 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 79301 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
flag 14873 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 58353 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145}]
------------------------------------------------------
client write log 2079981047287997111 (index 146) to leader 2
flag 25200 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 61707 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146}]
------------------------------------------------------
flag 3792 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 34757 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146}]
------------------------------------------------------
flag 52171 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 65556 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146}]
------------------------------------------------------
flag 7101 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 31324 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146}]
------------------------------------------------------
flag 34753 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 29760 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146}]
------------------------------------------------------
flag 11961 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 42925 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146}]
------------------------------------------------------
flag 54265 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 96400 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 93126 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 26 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 26612 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 57342 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 147->146
------------------------------------------------------
flag 76708 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 146
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
term 25 server 0 vote for server 1
term 25 server 1 get vote from server 0
term 25 server 1 become leader
------------------------------------------------------
client write log 8841492685752972593 (index 147) to leader 1
flag 41570 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 82248 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146} {8841492685752972593 25 147}]
------------------------------------------------------
flag 63196 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 146
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
term 25 server 0 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 0
flag 81928 term 25 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 24583 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146} {8841492685752972593 25 147}]
------------------------------------------------------
flag 60816 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 146
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
client write log 1826148993504529124 (index 148) to leader 1
flag 64270 term 25 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 14750 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146} {8841492685752972593 25 147} {1826148993504529124 25 148}]
------------------------------------------------------
flag 36841 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 146
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
term 25 server 1 not vote for server 0, 任期不够新
term 25 server 0 get outdate rpc reply from server 1
flag 66042 term 25 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 25 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 148 
------------------------------------------------------
flag 8906 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 148 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146} {8841492685752972593 25 147} {1826148993504529124 25 148}]
------------------------------------------------------
flag 76010 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 146
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
!!!!!!connect server 2
client write log 9151167178393939742 (index 149) to leader 1
flag 6554 term 25 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 25 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 148 
------------------------------------------------------
flag 35580 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 148 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146} {8841492685752972593 25 147} {1826148993504529124 25 148} {9151167178393939742 25 149}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 139} {762668185808688423 21 140} {3115735088329772686 21 141} {9095058629310098552 21 142} {4573268303598945174 21 143} {8782492853763546611 21 144} {2079981047287997111 21 145} {2079981047287997111 24 146} {8841492685752972593 25 147} {1826148993504529124 25 148} {9151167178393939742 25 149}]
------------------------------------------------------
term 25 Server1 start snapshot! index=149
term 25 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
flag 70040 term 25 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 86012 term 25 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 25 149}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 25 149}]
------------------------------------------------------
term 25 Server0 start snapshot! index=149
term 25 Server2 start snapshot! index=149
term 25 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 25 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
flag 93315 term 25 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 27194 term 25 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 25 149}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 25 149}]
------------------------------------------------------
flag 90561 term 25 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 39441 term 25 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
term 25 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader log:
[{snapshot 25 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 25 149}]
------------------------------------------------------
flag 4815 term 25 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 29971 term 25 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 25 149}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 25 149}]
------------------------------------------------------
flag 81951 term 25 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 66660 term 25 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 25 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 25 149}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5992714861162750660 (index 150) to leader 1
flag 57062 term 25 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
flag 29132 term 25 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 149 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {5992714861162750660 25 150}]
------------------------------------------------------
flag 35356 term 25 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 25 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 82749 term 25 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {5992714861162750660 25 150}]
------------------------------------------------------
client write log 8400665000415921324 (index 151) to leader 1
client write log 4028900170026497254 (index 152) to leader 1
client write log 7362741575808291238 (index 153) to leader 1
client write log 2227020085596621969 (index 154) to leader 1
client write log 3348710902650231264 (index 155) to leader 1
client write log 4625248788226995514 (index 156) to leader 1
client write log 670109826713774512 (index 157) to leader 1
flag 20978 term 25 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 25 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 72807 term 25 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157}]
------------------------------------------------------
flag 73147 term 25 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 25 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 65685 term 25 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6141825841266770450 (index 158) to leader 1
term 25 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 1 not vote for server 2, 日志不够新
term 25 server 0 not vote for server 2, 日志不够新
term 27 server 2 vote for server 1
term 27 server 1 get vote from server 2
term 27 server 1 become leader
------------------------------------------------------
term 27 server 0 vote for server 1
term 27 server 1 get outdate rpc reply from server 0
flag 10963 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 4533 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 159->158
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 159->158
------------------------------------------------------
flag 34069 term 27 leader 1 nextIndex[0]: 158  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 62253 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
flag 29459 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 52979 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
flag 52773 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 16576 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
flag 13736 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 10926 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
flag 66482 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 65435 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
flag 94893 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 90619 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
flag 81174 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 91203 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92840 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 4486 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
flag 90038 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 10432 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
flag 21447 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 10474 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
flag 59592 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 66758 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
term 27 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65997 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 51320 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
flag 11598 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 86550 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
term 27 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82720 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 64851 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
flag 88323 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 25932 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39609 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 36951 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
flag 13442 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 10796 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
flag 34482 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 22763 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158}]
------------------------------------------------------
client write log 6141825841266770450 (index 159) to leader 1
flag 20653 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 3376 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158} {6141825841266770450 27 159}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 149} {5992714861162750660 25 150} {8400665000415921324 25 151} {4028900170026497254 25 152} {7362741575808291238 25 153} {2227020085596621969 25 154} {3348710902650231264 25 155} {4625248788226995514 25 156} {670109826713774512 25 157} {6141825841266770450 25 158} {6141825841266770450 27 159}]
------------------------------------------------------
term 27 Server1 start snapshot! index=159
term 27 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 85734 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 27737 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 Server0 start snapshot! index=159
term 27 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 27 Server2 start snapshot! index=159
term 27 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 42465 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 20270 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 39070 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 23795 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 24146 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 52353 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34408 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 58310 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 20919 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 76126 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1220801181738039939 (index 160) to leader 1
flag 61185 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 4812 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {1220801181738039939 27 160}]
------------------------------------------------------
flag 25432 term 27 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 25604 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {1220801181738039939 27 160}]
------------------------------------------------------
client write log 8867094124973191070 (index 161) to leader 1
client write log 246749239769550856 (index 162) to leader 1
client write log 3360550163205196736 (index 163) to leader 1
client write log 8032459585711436985 (index 164) to leader 1
client write log 7557964274084732965 (index 165) to leader 1
client write log 6132967335856759020 (index 166) to leader 1
client write log 2306462023492489520 (index 167) to leader 1
client write log 1889586809739586098 (index 168) to leader 1
client write log 6465753980071614944 (index 169) to leader 1
client write log 8510985128552161738 (index 170) to leader 1
client write log 9154631238879856923 (index 171) to leader 1
client write log 5724307001535402941 (index 172) to leader 1
client write log 3086215713832510437 (index 173) to leader 1
client write log 797539948368423046 (index 174) to leader 1
client write log 3823881582604729726 (index 175) to leader 1
flag 20300 term 27 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 27 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 27726 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 159} {1220801181738039939 27 160} {8867094124973191070 27 161} {246749239769550856 27 162} {3360550163205196736 27 163} {8032459585711436985 27 164} {7557964274084732965 27 165} {6132967335856759020 27 166} {2306462023492489520 27 167} {1889586809739586098 27 168} {6465753980071614944 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175}]
------------------------------------------------------
term 27 Server1 start snapshot! index=169
term 27 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
flag 62283 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175}]
------------------------------------------------------
term 27 Server0 start snapshot! index=169
term 27 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1598941378291141167 (index 176) to leader 1
flag 38912 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
term 28 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 0 vote for server 1
term 29 server 1 get vote from server 0
term 29 server 1 become leader
------------------------------------------------------
term 29 server 2 vote for server 1
term 29 server 1 get outdate rpc reply from server 2
flag 68408 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 68271 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 177->176
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
flag 83326 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 2 InstallSnapshot success
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 27 rf.commitIndex 169 rf.lastApplied 169
flag 32967 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 93820 term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
flag 57207 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 52103 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75362 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 33627 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
flag 66649 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 2688 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 0 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 0
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34574 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 38562 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
flag 69184 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 9103 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
flag 64181 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 67129 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
flag 73322 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 41993 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42413 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 74425 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22487 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 5456 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
flag 76332 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 90718 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94577 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 28339 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
flag 33158 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 80873 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
flag 88809 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 4333 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63968 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 31055 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 1 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71352 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 89655 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
flag 36860 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 13673 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176}]
------------------------------------------------------
client write log 1598941378291141167 (index 177) to leader 1
term 29 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88672 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 47702 term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177}]
------------------------------------------------------
flag 43416 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 77122 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 2 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72693 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 35058 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177}]
------------------------------------------------------
flag 69777 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 80608 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177}]
------------------------------------------------------
flag 58666 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 8783 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177}]
------------------------------------------------------
flag 57158 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 35424 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177}]
------------------------------------------------------
flag 15319 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 2360 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 97433 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 15225 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 67408 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 43889 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 15050 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 37531 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 37144 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 27345 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
term 30 server 0 vote for server 2
term 30 server 2 get vote from server 0
term 30 server 2 become leader
------------------------------------------------------
client write log 8428050958199396051 (index 178) to leader 2
flag 85988 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 65632 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177} {8428050958199396051 30 178}]
------------------------------------------------------
flag 26770 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 36254 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 14891 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 66993 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 178 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177} {8428050958199396051 30 178}]
------------------------------------------------------
client write log 6580709295704219545 (index 179) to leader 2
client write log 9102162551078784238 (index 180) to leader 2
client write log 457269957976515381 (index 181) to leader 2
client write log 3013022186218571483 (index 182) to leader 2
client write log 4964973655148412439 (index 183) to leader 2
client write log 3607406956178928564 (index 184) to leader 2
client write log 6590454011476897285 (index 185) to leader 2
client write log 3480513587751794324 (index 186) to leader 2
client write log 7685635630080623412 (index 187) to leader 2
client write log 6487285790518534995 (index 188) to leader 2
client write log 1276947664932414120 (index 189) to leader 2
client write log 6114824446987392607 (index 190) to leader 2
client write log 4526366708935795702 (index 191) to leader 2
client write log 9208486304409706340 (index 192) to leader 2
client write log 2810767674150459133 (index 193) to leader 2
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 178->177
------------------------------------------------------
flag 77053 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 0  matchIndex[2]: 177
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 25477 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 90098 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 178 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 169} {8510985128552161738 27 170} {9154631238879856923 27 171} {5724307001535402941 27 172} {3086215713832510437 27 173} {797539948368423046 27 174} {3823881582604729726 27 175} {1598941378291141167 27 176} {1598941378291141167 29 177} {8428050958199396051 30 178} {6580709295704219545 30 179} {9102162551078784238 30 180} {457269957976515381 30 181} {3013022186218571483 30 182} {4964973655148412439 30 183} {3607406956178928564 30 184} {6590454011476897285 30 185} {3480513587751794324 30 186} {7685635630080623412 30 187} {6487285790518534995 30 188} {1276947664932414120 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
term 30 Server2 start snapshot! index=179
term 30 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=193
-------------------------------------------------------------
term 30 Server2 start snapshot! index=189
term 30 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=193
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70215 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 0  matchIndex[2]: 177
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 97435 term 30 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 30 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
term 30 Server0 start snapshot! index=179
term 30 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=193
-------------------------------------------------------------
term 30 Server0 start snapshot! index=189
term 30 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=193
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8323634698569723243 (index 178) to leader 1
flag 41731 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 0  matchIndex[2]: 177
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
term 30 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 0 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6733 term 30 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 30 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 30 rf.commitIndex 189 rf.lastApplied 189
term 30 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
term 30 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
term 30 server 2 not vote for server 1, 日志不够新
term 30 server 0 not vote for server 1, 日志不够新
term 32 server 1 vote for server 2
term 32 server 0 vote for server 2
term 32 server 2 get vote from server 1
term 32 server 2 become leader
------------------------------------------------------
term 32 server 2 get outdate rpc reply from server 0
flag 15754 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 62131 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 194->193
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
flag 63521 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 74026 term 32 leader 2 nextIndex[1]: 190  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
flag 79937 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 52150 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
flag 21190 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 95989 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
flag 25284 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 78786 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
flag 55266 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 1290 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
flag 46621 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 37444 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
flag 72706 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 35709 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81059 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 68174 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
flag 58369 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 85533 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
flag 36476 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 39501 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
flag 4743 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 92674 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
flag 13162 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 11641 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91379 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 69142 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
flag 20621 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 53443 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 not vote for server 1, 任期不够新
term 32 server 1 get outdate rpc reply from server 2
flag 92445 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 88880 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
flag 97957 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 80562 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82177 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 33984 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193}]
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 8323634698569723243 (index 194) to leader 2
flag 81740 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 49591 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194}]
------------------------------------------------------
flag 784 term 32 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
flag 44780 term 32 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194}]
------------------------------------------------------
flag 66578 term 32 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
flag 1436 term 32 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194}]
------------------------------------------------------
flag 65415 term 32 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
flag 34092 term 32 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194}]
------------------------------------------------------
flag 12059 term 32 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
flag 44383 term 32 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74768 term 32 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
flag 40621 term 32 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194}]
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94350 term 32 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
flag 35795 term 32 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3372837073683912522 (index 195) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96548 term 32 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
flag 19581 term 32 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194} {3372837073683912522 32 195}]
------------------------------------------------------
flag 51341 term 32 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 19404 term 32 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194} {3372837073683912522 32 195}]
------------------------------------------------------
client write log 1733937164122373287 (index 196) to leader 2
client write log 5001755180663997539 (index 197) to leader 2
client write log 1690976415523471462 (index 198) to leader 2
client write log 764852436402644628 (index 199) to leader 2
client write log 1459498755137906877 (index 200) to leader 2
client write log 7045527582647590645 (index 201) to leader 2
client write log 6257996375790402949 (index 202) to leader 2
client write log 2437905668986353424 (index 203) to leader 2
client write log 1620846335236210128 (index 204) to leader 2
client write log 6747077679438969896 (index 205) to leader 2
client write log 5041417237062430757 (index 206) to leader 2
client write log 6523071075876458626 (index 207) to leader 2
client write log 5945609351746379018 (index 208) to leader 2
client write log 1977868435267373348 (index 209) to leader 2
flag 89927 term 32 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 94916 term 32 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 30 189} {6114824446987392607 30 190} {4526366708935795702 30 191} {9208486304409706340 30 192} {2810767674150459133 30 193} {8323634698569723243 32 194} {3372837073683912522 32 195} {1733937164122373287 32 196} {5001755180663997539 32 197} {1690976415523471462 32 198} {764852436402644628 32 199} {1459498755137906877 32 200} {7045527582647590645 32 201} {6257996375790402949 32 202} {2437905668986353424 32 203} {1620846335236210128 32 204} {6747077679438969896 32 205} {5041417237062430757 32 206} {6523071075876458626 32 207} {5945609351746379018 32 208} {1977868435267373348 32 209}]
------------------------------------------------------
term 32 Server2 start snapshot! index=199
term 32 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=209
-------------------------------------------------------------
term 32 Server2 start snapshot! index=209
term 32 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 32 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 14610 term 32 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 32 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
term 32 Server1 start snapshot! index=199
term 32 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=209
-------------------------------------------------------------
term 32 Server1 start snapshot! index=209
term 32 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2117549611252125397 (index 210) to leader 2
term 32 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 67273 term 32 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 32 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
term 33 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 1 vote for server 2
term 34 server 0 vote for server 2
term 34 server 2 get vote from server 1
term 34 server 2 become leader
------------------------------------------------------
term 34 server 2 get outdate rpc reply from server 0
flag 1625 term 34 leader 2 nextIndex[0]: 211  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
flag 53713 term 34 leader 2 nextIndex[1]: 211  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
term 34 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 211->210
------------------------------------------------------
term 34 server 1 not vote for server 0, 任期不够新
term 34 server 0 get outdate rpc reply from server 1
term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 47454 term 34 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
term 34 server 0 InstallSnapshot success
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 32 rf.commitIndex 209 rf.lastApplied 209
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52425 term 34 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 34 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
flag 23611 term 34 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
flag 63096 term 34 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
flag 1985 term 34 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
flag 90189 term 34 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
flag 1882 term 34 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
flag 26841 term 34 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
flag 29329 term 34 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
flag 36945 term 34 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
flag 90867 term 34 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61073 term 34 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
flag 46242 term 34 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83388 term 34 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
flag 43751 term 34 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {2117549611252125397 32 210}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4279090630040848468 (index 211) to leader 2
flag 89617 term 34 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
flag 6955 term 34 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45454 term 34 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 50905 term 34 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 34 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4622120169011301522 (index 212) to leader 2
client write log 8395485226867502571 (index 213) to leader 2
client write log 1290108653656129176 (index 214) to leader 2
client write log 2215805881533408684 (index 215) to leader 2
client write log 1215281204065222292 (index 216) to leader 2
client write log 5563446868499233728 (index 217) to leader 2
flag 76324 term 34 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 40170 term 34 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 34 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73932 term 34 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 217 
------------------------------------------------------
flag 19951 term 34 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 34 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1609780894712947482 (index 218) to leader 2
term 34 server 2 not vote for server 0, 日志不够新
term 34 server 1 not vote for server 0, 日志不够新
term 36 server 1 vote for server 2
term 36 server 0 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
term 36 server 2 get outdate rpc reply from server 0
flag 11863 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 96374 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 219->218
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 219->218
------------------------------------------------------
flag 14165 term 36 leader 2 nextIndex[0]: 211  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 217 
------------------------------------------------------
flag 24538 term 36 leader 2 nextIndex[1]: 218  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
flag 98496 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 14699 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
flag 1415 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 58448 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 2 not vote for server 0, 任期不够新
term 36 server 0 get outdate rpc reply from server 2
flag 54349 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 49000 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90890 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 89169 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
flag 62273 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 1319 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
flag 18925 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 65811 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76793 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 69000 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
flag 91326 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 42078 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 1 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 1
flag 58403 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 94719 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
flag 81689 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 64117 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
flag 8993 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 56422 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
flag 75853 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 26445 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
flag 52678 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 49143 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
flag 5124 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 45114 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
flag 44277 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 96110 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
flag 37856 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 99461 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
flag 38861 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 94507 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
flag 26032 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 12847 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218}]
------------------------------------------------------
client write log 1609780894712947482 (index 219) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9602 term 36 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 57645 term 36 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218} {1609780894712947482 36 219}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 32 209} {2117549611252125397 32 210} {4279090630040848468 34 211} {4622120169011301522 34 212} {8395485226867502571 34 213} {1290108653656129176 34 214} {2215805881533408684 34 215} {1215281204065222292 34 216} {5563446868499233728 34 217} {1609780894712947482 34 218} {1609780894712947482 36 219}]
------------------------------------------------------
term 36 Server2 start snapshot! index=219
term 36 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 29818 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 90393 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
term 36 Server0 start snapshot! index=219
term 36 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 36 Server1 start snapshot! index=219
term 36 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 25509 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 40436 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
flag 10522 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 78935 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
flag 98631 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 11477 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69903 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 71831 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
flag 47094 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 95767 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 13166 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 6319 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 39565 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 73363 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 30412 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 72362 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 vote for server 0
term 37 server 0 get vote from server 1
term 37 server 0 become leader
------------------------------------------------------
flag 19360 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 13002 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 98591 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 67158 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
client write log 4752259815602357224 (index 220) to leader 0
flag 68581 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 17480 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 35730 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 95021 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 36 219} {4752259815602357224 37 220}]
------------------------------------------------------
flag 87890 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 7610 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 220->219
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 18613 term 37 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
flag 12034 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 220 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 36 219} {4752259815602357224 37 220}]
------------------------------------------------------
client write log 4760773360567481630 (index 221) to leader 0
client write log 7036184281760516566 (index 222) to leader 0
client write log 2522849496097563832 (index 223) to leader 0
client write log 366291241566349675 (index 224) to leader 0
client write log 8509821432646730521 (index 225) to leader 0
client write log 1739730962848946742 (index 226) to leader 0
client write log 2011606296060768003 (index 227) to leader 0
client write log 8531250940214730419 (index 228) to leader 0
client write log 106248755599903786 (index 229) to leader 0
client write log 8438196608246679163 (index 230) to leader 0
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 219
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 88478 term 36 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
flag 77998 term 37 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
flag 48909 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 220 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 219} {4752259815602357224 37 220} {4760773360567481630 37 221} {7036184281760516566 37 222} {2522849496097563832 37 223} {366291241566349675 37 224} {8509821432646730521 37 225} {1739730962848946742 37 226} {2011606296060768003 37 227} {8531250940214730419 37 228} {106248755599903786 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
term 37 Server0 start snapshot! index=229
term 37 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 220->219
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 219
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 0  matchIndex[1]: 219
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 20097 term 37 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 0
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
term 37 Server1 start snapshot! index=229
term 37 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1882107179472814388 (index 220) to leader 2
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
flag 71904 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 0  matchIndex[1]: 219
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
term 37 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 server 0 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48046 term 37 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 0
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
rf.lastIncludedIndex 229 rf.lastIncludedTerm 37 rf.commitIndex 229 rf.lastApplied 229
term 37 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
term 37 server 1 not vote for server 2, 日志不够新
term 37 server 0 not vote for server 2, 日志不够新
term 39 server 2 vote for server 0
term 39 server 1 vote for server 0
term 39 server 0 get vote from server 1
term 39 server 0 become leader
------------------------------------------------------
term 39 server 0 get outdate rpc reply from server 2
flag 96286 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 69438 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 231->230
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
flag 51993 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 29450 term 39 leader 0 nextIndex[2]: 230  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66363 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 73957 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36933 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 31711 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
flag 78413 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 80791 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
flag 53668 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 4684 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
flag 98662 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 64765 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
flag 23606 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 12061 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
flag 59697 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 84106 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29080 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 35786 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64268 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 22713 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29101 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 92685 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
term 39 server 2 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 2
flag 59859 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 14090 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94001 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 90546 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
flag 71246 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 99053 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
flag 51843 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 90870 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37052 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 35932 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
flag 14568 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 57223 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
flag 66681 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 82321 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {8438196608246679163 37 230}]
------------------------------------------------------
client write log 1882107179472814388 (index 231) to leader 0
flag 2283 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 6315 term 39 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231}]
------------------------------------------------------
flag 59805 term 39 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 17309 term 39 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231}]
------------------------------------------------------
flag 43646 term 39 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 79990 term 39 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231}]
------------------------------------------------------
flag 38005 term 39 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 28572 term 39 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231}]
------------------------------------------------------
flag 41972 term 39 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 11952 term 39 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80374 term 39 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 1856 term 39 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3934942980302888774 (index 232) to leader 0
flag 66167 term 39 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 2197 term 39 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231} {3934942980302888774 39 232}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86267 term 39 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
flag 51497 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231} {3934942980302888774 39 232}]
------------------------------------------------------
client write log 1692375804466225165 (index 233) to leader 0
client write log 7515690625931005839 (index 234) to leader 0
client write log 1038944326116825403 (index 235) to leader 0
client write log 3270905888313530200 (index 236) to leader 0
client write log 8930141101793283837 (index 237) to leader 0
client write log 4334089245375490795 (index 238) to leader 0
client write log 3251635651923313269 (index 239) to leader 0
client write log 5930695526434120435 (index 240) to leader 0
client write log 6162820209733446762 (index 241) to leader 0
client write log 7150482624800302043 (index 242) to leader 0
client write log 7100035834729394843 (index 243) to leader 0
client write log 9042463032860200238 (index 244) to leader 0
client write log 2341704106600460636 (index 245) to leader 0
client write log 3557295675179130148 (index 246) to leader 0
client write log 2105407763564178935 (index 247) to leader 0
flag 58591 term 39 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
flag 44734 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 229} {8438196608246679163 37 230} {1882107179472814388 39 231} {3934942980302888774 39 232} {1692375804466225165 39 233} {7515690625931005839 39 234} {1038944326116825403 39 235} {3270905888313530200 39 236} {8930141101793283837 39 237} {4334089245375490795 39 238} {3251635651923313269 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247}]
------------------------------------------------------
term 39 Server0 start snapshot! index=239
term 39 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=247
-------------------------------------------------------------
term 39 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
flag 93461 term 39 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247}]
------------------------------------------------------
term 39 Server2 start snapshot! index=239
term 39 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=247
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5998956803321094464 (index 248) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 232->231
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 231
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
flag 62297 term 39 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 40 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 2 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 0 become leader
------------------------------------------------------
term 41 server 1 vote for server 0
term 41 server 0 get outdate rpc reply from server 1
flag 8195 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 86395 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 249->248
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 232  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
flag 80820 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 41 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 39 rf.commitIndex 239 rf.lastApplied 239
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
flag 57817 term 41 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 71391 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
flag 45373 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 18909 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
flag 57527 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 85452 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
flag 83305 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 40293 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
flag 23874 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 20261 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 server 2 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 2
flag 56438 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 34032 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
flag 60514 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 95590 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 0 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 0
flag 57398 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 72941 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41199 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 65115 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
flag 26994 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 29299 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
flag 18424 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 45882 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79207 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 78557 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
flag 86269 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 58668 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85899 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 36852 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
flag 31796 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 2397 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
flag 59931 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 1965 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
flag 34632 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 82763 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248}]
------------------------------------------------------
client write log 5998956803321094464 (index 249) to leader 0
flag 2747 term 41 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 16107 term 41 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
term 41 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248} {5998956803321094464 41 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 239} {5930695526434120435 39 240} {6162820209733446762 39 241} {7150482624800302043 39 242} {7100035834729394843 39 243} {9042463032860200238 39 244} {2341704106600460636 39 245} {3557295675179130148 39 246} {2105407763564178935 39 247} {5998956803321094464 39 248} {5998956803321094464 41 249}]
------------------------------------------------------
term 41 Server0 start snapshot! index=249
term 41 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 93899 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 72963 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
term 41 Server2 start snapshot! index=249
term 41 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 41 Server1 start snapshot! index=249
term 41 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 69249 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 48455 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
flag 8306 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 15668 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
flag 36575 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 25432 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
term 41 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader log:
[{snapshot 41 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
flag 42404 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 60249 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5443393069983521067 (index 250) to leader 0
flag 2458 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 71568 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {5443393069983521067 41 250}]
------------------------------------------------------
flag 30447 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 997 term 41 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 41 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {5443393069983521067 41 250}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 1266902291890046053 (index 251) to leader 0
client write log 4527436250554469439 (index 252) to leader 0
client write log 344431895738335188 (index 253) to leader 0
client write log 3428812713633302883 (index 254) to leader 0
client write log 5404387721095274091 (index 255) to leader 0
client write log 949912749428692303 (index 256) to leader 0
client write log 9116668515150915329 (index 257) to leader 0
client write log 6517886006439565414 (index 258) to leader 0
client write log 1048182885274585521 (index 259) to leader 0
client write log 369805669741236414 (index 260) to leader 0
client write log 1625734524089823441 (index 261) to leader 0
client write log 7101182644130500837 (index 262) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 524 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 40020 term 41 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 41 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 249} {5443393069983521067 41 250} {1266902291890046053 41 251} {4527436250554469439 41 252} {344431895738335188 41 253} {3428812713633302883 41 254} {5404387721095274091 41 255} {949912749428692303 41 256} {9116668515150915329 41 257} {6517886006439565414 41 258} {1048182885274585521 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262}]
------------------------------------------------------
term 41 Server0 start snapshot! index=259
term 41 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=262
-------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 57072 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262}]
------------------------------------------------------
term 41 Server2 start snapshot! index=259
term 41 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=262
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5296011809860437473 (index 263) to leader 0
term 41 server 2 not vote for server 1, 日志不够新
term 41 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 1 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 0 get outdate rpc reply from server 1
flag 44343 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 76835 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 264->263
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 264->263
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 250  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 92696 term 43 leader 0 nextIndex[2]: 263  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 41 rf.commitIndex 259 rf.lastApplied 259
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 5635 term 43 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 43 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 82754 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 37574 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 29668 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 77603 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 62969 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69621 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 2777 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 32301 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 65550 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 1968 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 8379 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
term 43 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1922 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 69981 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 57277 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 76612 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 30715 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 91463 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 37717 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 13856 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 65076 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 17928 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 29935 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 47349 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 7002 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 78714 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 65549 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 52748 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 53087 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 67006 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 97263 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 13 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 86733 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 90702 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
flag 689 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 15245 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263}]
------------------------------------------------------
client write log 5296011809860437473 (index 264) to leader 0
flag 59268 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 48272 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264}]
------------------------------------------------------
flag 46365 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 27271 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66575 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 46549 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264}]
------------------------------------------------------
flag 1212 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 59406 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264}]
------------------------------------------------------
flag 20337 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 90802 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93644 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 58646 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 88150 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 5504 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 46255 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 83787 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 74342 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 90428 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 93899 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 19811 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 44 server 2 vote for server 1
term 44 server 1 get vote from server 2
term 44 server 1 become leader
------------------------------------------------------
flag 6870 term 44 leader 1 nextIndex[0]: 265  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 48208 term 44 leader 1 nextIndex[2]: 265  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264}]
------------------------------------------------------
client write log 5157036968899155075 (index 265) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72122 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 91998 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 265->264
------------------------------------------------------
flag 21580 term 44 leader 1 nextIndex[0]: 265  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 27079 term 44 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264} {5157036968899155075 44 265}]
------------------------------------------------------
flag 55477 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 0  matchIndex[2]: 264
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 93265 term 44 leader 1 nextIndex[0]: 265  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 10454 term 44 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 44 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264} {5157036968899155075 44 265}]
------------------------------------------------------
client write log 7903176036111436334 (index 266) to leader 1
client write log 2179339956351446231 (index 267) to leader 1
client write log 6691157559979705099 (index 268) to leader 1
client write log 8592469733275579960 (index 269) to leader 1
client write log 6157598890148385406 (index 270) to leader 1
client write log 6945273160325842146 (index 271) to leader 1
client write log 8232205325023685725 (index 272) to leader 1
client write log 210362824484766698 (index 273) to leader 1
client write log 8953446103929437435 (index 274) to leader 1
flag 88556 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 0  matchIndex[2]: 264
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 96578 term 44 leader 1 nextIndex[0]: 265  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 10389 term 44 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 44 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 259} {369805669741236414 41 260} {1625734524089823441 41 261} {7101182644130500837 41 262} {5296011809860437473 41 263} {5296011809860437473 43 264} {5157036968899155075 44 265} {7903176036111436334 44 266} {2179339956351446231 44 267} {6691157559979705099 44 268} {8592469733275579960 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274}]
------------------------------------------------------
term 44 Server1 start snapshot! index=269
term 44 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=274
-------------------------------------------------------------
flag 26278 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 0  matchIndex[2]: 264
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 44 leader 1 nextIndex[0]: 265  matchIndex[0]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
flag 92912 term 44 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 44 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274}]
------------------------------------------------------
term 44 Server2 start snapshot! index=269
term 44 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=274
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8767465821390425149 (index 275) to leader 1
flag 19127 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 0  matchIndex[2]: 264
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 44 server 1 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 44 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 1 nextIndex[0]: 265  matchIndex[0]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
flag 84706 term 44 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 44 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 44 rf.commitIndex 269 rf.lastApplied 269
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17141 term 44 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 44 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 63972 term 44 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275}]
------------------------------------------------------
flag 12898 term 44 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 92073 term 44 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275}]
------------------------------------------------------
flag 2913 term 44 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 27780 term 44 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275}]
------------------------------------------------------
flag 29039 term 44 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 10801 term 44 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98912 term 44 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 4322 term 44 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275}]
------------------------------------------------------
flag 32546 term 44 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 12501 term 44 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4988732783807608210 (index 276) to leader 1
flag 22010 term 44 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 94030 term 44 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275} {4988732783807608210 44 276}]
------------------------------------------------------
flag 7747 term 44 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 44 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 59352 term 44 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275} {4988732783807608210 44 276}]
------------------------------------------------------
client write log 5586686211279946207 (index 277) to leader 1
client write log 2825124827135764198 (index 278) to leader 1
client write log 3930086044971947297 (index 279) to leader 1
client write log 1102871359215194879 (index 280) to leader 1
client write log 7211650995309944815 (index 281) to leader 1
client write log 1689263704044123803 (index 282) to leader 1
client write log 6604025927396634282 (index 283) to leader 1
client write log 6742032597606819242 (index 284) to leader 1
client write log 8851062858268527716 (index 285) to leader 1
client write log 49282276473240482 (index 286) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52537 term 44 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 44 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 36055 term 44 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 269} {6157598890148385406 44 270} {6945273160325842146 44 271} {8232205325023685725 44 272} {210362824484766698 44 273} {8953446103929437435 44 274} {8767465821390425149 44 275} {4988732783807608210 44 276} {5586686211279946207 44 277} {2825124827135764198 44 278} {3930086044971947297 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286}]
------------------------------------------------------
term 44 Server1 start snapshot! index=279
term 44 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=286
-------------------------------------------------------------
flag 22561 term 44 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 44 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286}]
------------------------------------------------------
term 44 Server0 start snapshot! index=279
term 44 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=286
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5375591233073808705 (index 287) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19123 term 44 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 44 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
term 45 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 2 vote for server 1
term 46 server 0 vote for server 1
term 46 server 1 get vote from server 2
term 46 server 1 become leader
------------------------------------------------------
term 46 server 1 get outdate rpc reply from server 0
flag 46303 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 51387 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 288->287
------------------------------------------------------
term 46 server 1 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69056 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 276  matchIndex[2]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
term 46 server 2 InstallSnapshot success
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 44 rf.commitIndex 279 rf.lastApplied 279
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97566 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 41466 term 46 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 46 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
flag 97078 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 80301 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27872 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 51342 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
flag 72307 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 37373 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
flag 93326 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 40628 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96190 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 97859 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72236 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 69539 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
flag 48847 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 3370 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64570 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 30973 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
flag 93784 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 72299 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
term 46 server 0 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 0
flag 12057 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 21185 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
flag 95825 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 96774 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
flag 2369 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 66957 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
flag 52428 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 50980 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 0 not vote for server 1, 任期不够新
term 46 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60281 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 29836 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
flag 92465 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 41346 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49427 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 43615 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287}]
------------------------------------------------------
client write log 5375591233073808705 (index 288) to leader 1
flag 11204 term 46 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 84292 term 46 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287} {5375591233073808705 46 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287} {5375591233073808705 46 288}]
------------------------------------------------------
flag 57343 term 46 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 93705 term 46 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 46 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287} {5375591233073808705 46 288}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287} {5375591233073808705 46 288}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11465 term 46 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 32067 term 46 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 46 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287} {5375591233073808705 46 288}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287} {5375591233073808705 46 288}]
------------------------------------------------------
flag 94735 term 46 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 98528 term 46 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 46 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287} {5375591233073808705 46 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287} {5375591233073808705 46 288}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20318 term 46 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 19060 term 46 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 46 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287} {5375591233073808705 46 288}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287} {5375591233073808705 46 288}]
------------------------------------------------------
flag 50325 term 46 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 21749 term 46 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 46 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287} {5375591233073808705 46 288}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287} {5375591233073808705 46 288}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8209222221178167643 (index 289) to leader 1
flag 74227 term 46 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 65387 term 46 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 46 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 279} {1102871359215194879 44 280} {7211650995309944815 44 281} {1689263704044123803 44 282} {6604025927396634282 44 283} {6742032597606819242 44 284} {8851062858268527716 44 285} {49282276473240482 44 286} {5375591233073808705 44 287} {5375591233073808705 46 288} {8209222221178167643 46 289}]
------------------------------------------------------
term 46 Server1 start snapshot! index=289
term 46 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 86941 term 46 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
term 46 Server0 start snapshot! index=289
term 46 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
client write log 5265586220338239974 (index 290) to leader 1
client write log 4457672381435021184 (index 291) to leader 1
client write log 4762939738701465381 (index 292) to leader 1
client write log 2121354260951173889 (index 293) to leader 1
client write log 368653984246576440 (index 294) to leader 1
client write log 8339656693850840518 (index 295) to leader 1
client write log 1025206756808229199 (index 296) to leader 1
client write log 7525899001456718687 (index 297) to leader 1
client write log 4376624407167662946 (index 298) to leader 1
client write log 3036155377777787650 (index 299) to leader 1
client write log 643971815370373513 (index 300) to leader 1
client write log 5088346274581029425 (index 301) to leader 1
flag 25868 term 46 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 289} {5265586220338239974 46 290} {4457672381435021184 46 291} {4762939738701465381 46 292} {2121354260951173889 46 293} {368653984246576440 46 294} {8339656693850840518 46 295} {1025206756808229199 46 296} {7525899001456718687 46 297} {4376624407167662946 46 298} {3036155377777787650 46 299} {643971815370373513 46 300} {5088346274581029425 46 301}]
------------------------------------------------------
term 46 Server1 start snapshot! index=299
term 46 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=301
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97622 term 46 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301}]
------------------------------------------------------
term 46 Server0 start snapshot! index=299
term 46 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=301
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3370930029470861088 (index 302) to leader 1
term 46 server 1 not vote for server 2, 日志不够新
term 46 server 0 not vote for server 2, 日志不够新
term 48 server 2 vote for server 1
term 48 server 0 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 1 become leader
------------------------------------------------------
term 48 server 1 get outdate rpc reply from server 0
flag 12692 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 75229 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 303->302
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 303->302
------------------------------------------------------
flag 10381 term 48 leader 1 nextIndex[0]: 302  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 289  matchIndex[2]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
term 48 server 2 InstallSnapshot success
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 46 rf.commitIndex 299 rf.lastApplied 299
flag 65769 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 26589 term 48 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 48 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57913 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 97711 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61690 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 97187 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
flag 36568 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 60345 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
flag 45375 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 64888 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
flag 29094 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 9305 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
flag 57497 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 13462 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60275 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 493 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
flag 86691 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 65573 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
flag 88261 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 9400 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
flag 57761 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 10019 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
flag 70260 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 82027 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
flag 33841 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 60771 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
flag 58459 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 26777 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
flag 92489 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 46880 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82070 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 90763 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
flag 40601 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 21019 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302}]
------------------------------------------------------
client write log 3370930029470861088 (index 303) to leader 1
flag 6337 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 91819 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303}]
------------------------------------------------------
flag 32489 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 34573 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303}]
------------------------------------------------------
flag 28596 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 33783 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303}]
------------------------------------------------------
flag 69343 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 83935 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303}]
------------------------------------------------------
flag 50046 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 83280 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303}]
------------------------------------------------------
flag 14246 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 1596 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 14982 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 47595 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 24648 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 61987 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 90224 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 32656 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 vote for server 0
term 49 server 0 get vote from server 2
term 49 server 0 become leader
------------------------------------------------------
flag 83454 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 32567 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303}]
------------------------------------------------------
flag 53639 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 18318 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
client write log 8504742048888271280 (index 304) to leader 0
flag 70698 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 91706 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304}]
------------------------------------------------------
flag 37859 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 99279 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 25200 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 92320 term 49 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304}]
------------------------------------------------------
client write log 7316817642113797756 (index 305) to leader 0
flag 24214 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 60073 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 5932 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 18929 term 49 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
flag 45528 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 25347 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 85303 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 80086 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5291103666475212039 (index 304) to leader 1
flag 67738 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 16143 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 49 server 0 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36511 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 27773 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
flag 70989 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 72468 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
flag 28817 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 28671 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
flag 94140 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 91524 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40449 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 25847 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
flag 3836 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 28130 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
flag 26523 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 58768 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50825 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 74817 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
flag 84448 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 30856 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2066 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 66140 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
flag 69066 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 48520 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51886 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 15184 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
flag 58003 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 1641 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 server 1 not vote for server 0, 日志不够新
term 49 server 0 get outdate rpc reply from server 1
flag 83049 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 67382 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
flag 63218 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 34888 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
flag 67072 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 43830 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40665 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 20842 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
flag 53917 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 23749 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1088 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 27629 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
flag 85859 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 26831 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305}]
------------------------------------------------------
client write log 5291103666475212039 (index 306) to leader 0
flag 86529 term 49 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 14725 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306}]
------------------------------------------------------
flag 41079 term 49 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 49 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 13512 term 49 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306}]
------------------------------------------------------
flag 93696 term 49 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 49 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 61754 term 49 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39635 term 49 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 49 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 81827 term 49 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306}]
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70013 term 49 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 49 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 58114 term 49 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306}]
------------------------------------------------------
flag 81189 term 49 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 49 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 52009 term 49 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 307->306
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 0  matchIndex[1]: 306
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
flag 14928 term 49 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306}]
------------------------------------------------------
term 49 server 1 InstallSnapshot fail
rf.commitIndex 306 args.LastIncludedIndex 299
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 5000111523118345410 (index 307) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29846 term 49 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 49 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 54112 term 49 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306} {5000111523118345410 49 307}]
------------------------------------------------------
flag 19554 term 49 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 49 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
flag 46156 term 49 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306} {5000111523118345410 49 307}]
------------------------------------------------------
client write log 4615219609775720309 (index 308) to leader 0
client write log 684063890903804083 (index 309) to leader 0
client write log 6112594911170337975 (index 310) to leader 0
client write log 7865850539853288124 (index 311) to leader 0
client write log 1903991910405504570 (index 312) to leader 0
client write log 1872450724376537232 (index 313) to leader 0
client write log 7038599469042881163 (index 314) to leader 0
client write log 6489602270978336759 (index 315) to leader 0
client write log 2311321798294962152 (index 316) to leader 0
client write log 5970449678549858261 (index 317) to leader 0
client write log 4714909061386629370 (index 318) to leader 0
client write log 722536293262461130 (index 319) to leader 0
client write log 6111607045916064917 (index 320) to leader 0
client write log 974512295943116034 (index 321) to leader 0
client write log 5749398256976824787 (index 322) to leader 0
flag 88019 term 49 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 49 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
flag 60987 term 49 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 299} {643971815370373513 46 300} {5088346274581029425 46 301} {3370930029470861088 46 302} {3370930029470861088 48 303} {8504742048888271280 49 304} {7316817642113797756 49 305} {5291103666475212039 49 306} {5000111523118345410 49 307} {4615219609775720309 49 308} {684063890903804083 49 309} {6112594911170337975 49 310} {7865850539853288124 49 311} {1903991910405504570 49 312} {1872450724376537232 49 313} {7038599469042881163 49 314} {6489602270978336759 49 315} {2311321798294962152 49 316} {5970449678549858261 49 317} {4714909061386629370 49 318} {722536293262461130 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322}]
------------------------------------------------------
term 49 Server0 start snapshot! index=309
term 49 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=322
-------------------------------------------------------------
term 49 Server0 start snapshot! index=319
term 49 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=322
-------------------------------------------------------------
term 49 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 13362 term 49 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 49 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 49 leaderCommit: 322 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322}]
------------------------------------------------------
term 49 Server2 start snapshot! index=309
term 49 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=322
-------------------------------------------------------------
term 49 Server2 start snapshot! index=319
term 49 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=322
-------------------------------------------------------------
!!!!!!connect server 1
client write log 148273397311972748 (index 323) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 300->299
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 0  matchIndex[1]: 299
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 83954 term 49 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 49 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 49 leaderCommit: 322 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
term 50 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 2 vote for server 0
term 51 server 0 get vote from server 2
term 51 server 0 become leader
------------------------------------------------------
term 51 server 1 vote for server 0
term 51 server 0 get outdate rpc reply from server 1
flag 102 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
flag 11691 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 324->323
------------------------------------------------------
term 51 server 2 not vote for server 1, 任期不够新
term 51 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 307  matchIndex[1]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 41616 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 49 rf.commitIndex 319 rf.lastApplied 319
term 51 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
flag 87643 term 51 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
flag 45880 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
flag 86039 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
flag 96559 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
flag 9285 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
flag 9705 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
term 51 server 0 not vote for server 1, 任期不够新
term 51 server 1 get outdate rpc reply from server 0
flag 12169 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
flag 64444 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
flag 52692 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
flag 11101 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34374 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
flag 14664 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
flag 89209 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
flag 8055 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4876735625314442181 (index 324) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11282 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
flag 50466 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323} {4876735625314442181 51 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79970 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 8126 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323} {4876735625314442181 51 324}]
------------------------------------------------------
client write log 2231640038608251073 (index 325) to leader 0
client write log 8643309418100177266 (index 326) to leader 0
client write log 2125677469522073166 (index 327) to leader 0
client write log 8650303362388918929 (index 328) to leader 0
client write log 2015294109453603238 (index 329) to leader 0
client write log 1479765701860822187 (index 330) to leader 0
client write log 331103813204536540 (index 331) to leader 0
client write log 40963117029741525 (index 332) to leader 0
client write log 6545384808050808265 (index 333) to leader 0
client write log 2228868424225270962 (index 334) to leader 0
client write log 7975206872457789536 (index 335) to leader 0
client write log 9040204739574305902 (index 336) to leader 0
client write log 1247788211284710859 (index 337) to leader 0
client write log 6303208513260830038 (index 338) to leader 0
client write log 6259865116252467061 (index 339) to leader 0
flag 43895 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 68079 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 49 319} {6111607045916064917 49 320} {974512295943116034 49 321} {5749398256976824787 49 322} {148273397311972748 49 323} {4876735625314442181 51 324} {2231640038608251073 51 325} {8643309418100177266 51 326} {2125677469522073166 51 327} {8650303362388918929 51 328} {2015294109453603238 51 329} {1479765701860822187 51 330} {331103813204536540 51 331} {40963117029741525 51 332} {6545384808050808265 51 333} {2228868424225270962 51 334} {7975206872457789536 51 335} {9040204739574305902 51 336} {1247788211284710859 51 337} {6303208513260830038 51 338} {6259865116252467061 51 339}]
------------------------------------------------------
term 51 Server0 start snapshot! index=329
term 51 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=339
-------------------------------------------------------------
term 51 Server0 start snapshot! index=339
term 51 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
flag 56137 term 51 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 51 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 51 339}]
------------------------------------------------------
term 51 Server2 start snapshot! index=329
term 51 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=339
-------------------------------------------------------------
term 51 Server2 start snapshot! index=339
term 51 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8823048895300216331 (index 340) to leader 0
term 51 server 0 not vote for server 1, 日志不够新
term 51 server 2 not vote for server 1, 日志不够新
term 53 server 2 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
term 53 server 1 vote for server 0
term 53 server 0 get outdate rpc reply from server 1
flag 1369 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 66044 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 341->340
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 341->340
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
flag 47704 term 53 leader 0 nextIndex[2]: 340  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 51 rf.commitIndex 339 rf.lastApplied 339
flag 67390 term 53 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 60244 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
flag 98413 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 70849 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
flag 38868 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 25919 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
flag 90110 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 87384 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46447 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 89137 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
flag 51102 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 40310 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
flag 15919 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 55705 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96351 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 33510 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
flag 39722 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 56709 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68352 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 69265 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
flag 64877 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 59066 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
flag 5920 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 67048 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21803 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 53359 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
flag 48172 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 12520 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96770 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 25962 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
flag 84867 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 14312 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
flag 40861 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 99746 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {8823048895300216331 51 340}]
------------------------------------------------------
client write log 8823048895300216331 (index 341) to leader 0
flag 47538 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 86201 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
flag 36575 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 93149 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
flag 94073 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 86278 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20592 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 48601 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
flag 77287 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 69136 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
flag 75795 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 57641 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
flag 77755 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 32110 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34081 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 47095 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 4452 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 20579 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 65142 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 87176 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 54 server 2 vote for server 1
term 54 server 1 get vote from server 2
term 54 server 1 become leader
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 342->341
------------------------------------------------------
flag 44972 term 54 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 40637 term 54 leader 1 nextIndex[2]: 342  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341}]
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 341
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
flag 21629 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
client write log 4680983535704239584 (index 342) to leader 1
flag 8551 term 54 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 22114 term 54 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 54 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341} {4680983535704239584 54 342}]
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 341
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
flag 20615 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 16754 term 54 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 43135 term 54 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 54 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341} {4680983535704239584 54 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 342->341
------------------------------------------------------
client write log 6247070040305963189 (index 343) to leader 1
client write log 6638990086913605079 (index 344) to leader 1
client write log 3980085106247230826 (index 345) to leader 1
client write log 4080823956026190979 (index 346) to leader 1
client write log 8907745278934692473 (index 347) to leader 1
client write log 1027979220405511117 (index 348) to leader 1
client write log 7186735957642965972 (index 349) to leader 1
client write log 6501136269440595549 (index 350) to leader 1
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 341
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 0  matchIndex[2]: 341
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
flag 56210 term 54 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 33906 term 54 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 54 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 51 339} {8823048895300216331 51 340} {8823048895300216331 53 341} {4680983535704239584 54 342} {6247070040305963189 54 343} {6638990086913605079 54 344} {3980085106247230826 54 345} {4080823956026190979 54 346} {8907745278934692473 54 347} {1027979220405511117 54 348} {7186735957642965972 54 349} {6501136269440595549 54 350}]
------------------------------------------------------
term 54 Server1 start snapshot! index=349
term 54 server1 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=350
-------------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 341
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 0  matchIndex[2]: 341
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 54
------------------------------------------------------
flag 90006 term 54 leader 1 nextIndex[2]: 351  matchIndex[2]: 350
term 54 leader 1 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 54 leaderCommit: 350 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 54 349} {6501136269440595549 54 350}]
------------------------------------------------------
term 54 Server2 start snapshot! index=349
term 54 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=350
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7765548673349593799 (index 351) to leader 1
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 341
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 0  matchIndex[2]: 341
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
term 54 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 54 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 54 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 54 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 54
------------------------------------------------------
flag 80708 term 54 leader 1 nextIndex[2]: 351  matchIndex[2]: 350
term 54 leader 1 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 54 leaderCommit: 350 
------------------------------------------------------
term 54 server 0 InstallSnapshot success
------------------------------------------------------
term 54 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 350 matchIndex[0] 349 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 54 rf.commitIndex 349 rf.lastApplied 349
term 54 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=352
update matchIndex[2]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 1 not vote for server 0, 日志不够新
term 54 server 2 not vote for server 0, 日志不够新
term 56 server 2 vote for server 1
term 56 server 0 vote for server 1
term 56 server 1 get vote from server 2
term 56 server 1 become leader
------------------------------------------------------
term 56 server 1 get outdate rpc reply from server 0
flag 59356 term 56 leader 1 nextIndex[0]: 352  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
flag 76107 term 56 leader 1 nextIndex[2]: 352  matchIndex[2]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
term 56 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 352->351
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=352
update matchIndex[2]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
flag 6443 term 56 leader 1 nextIndex[0]: 350  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
flag 85469 term 56 leader 1 nextIndex[2]: 352  matchIndex[2]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=352
update matchIndex[2]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
flag 31475 term 56 leader 1 nextIndex[0]: 352  matchIndex[0]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
flag 6514 term 56 leader 1 nextIndex[2]: 352  matchIndex[2]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=352
update matchIndex[2]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
flag 58858 term 56 leader 1 nextIndex[0]: 352  matchIndex[0]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
flag 14281 term 56 leader 1 nextIndex[2]: 352  matchIndex[2]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=352
update matchIndex[2]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
flag 4517 term 56 leader 1 nextIndex[0]: 352  matchIndex[0]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
flag 46671 term 56 leader 1 nextIndex[2]: 352  matchIndex[2]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=352
update matchIndex[2]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86893 term 56 leader 1 nextIndex[0]: 352  matchIndex[0]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
flag 88236 term 56 leader 1 nextIndex[2]: 352  matchIndex[2]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=352
update matchIndex[2]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
flag 47951 term 56 leader 1 nextIndex[0]: 352  matchIndex[0]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
flag 31597 term 56 leader 1 nextIndex[2]: 352  matchIndex[2]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=352
update matchIndex[2]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86499 term 56 leader 1 nextIndex[0]: 352  matchIndex[0]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
flag 83426 term 56 leader 1 nextIndex[2]: 352  matchIndex[2]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=352
update matchIndex[2]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2078182928926375493 (index 352) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63139 term 56 leader 1 nextIndex[0]: 352  matchIndex[0]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
flag 6835 term 56 leader 1 nextIndex[2]: 352  matchIndex[2]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 351 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351} {2078182928926375493 56 352}]
------------------------------------------------------
flag 11240 term 56 leader 1 nextIndex[0]: 353  matchIndex[0]: 352
term 56 leader 1 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 56 leaderCommit: 352 
------------------------------------------------------
flag 10968 term 56 leader 1 nextIndex[2]: 352  matchIndex[2]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351} {2078182928926375493 56 352}]
------------------------------------------------------
client write log 5834329022761278648 (index 353) to leader 1
client write log 9118953226810054371 (index 354) to leader 1
client write log 3918507363165752140 (index 355) to leader 1
client write log 8675971401656991065 (index 356) to leader 1
client write log 8844555983826889511 (index 357) to leader 1
client write log 8551848744434811254 (index 358) to leader 1
client write log 2657426529264924377 (index 359) to leader 1
client write log 8990009569915120700 (index 360) to leader 1
client write log 8220855458382860263 (index 361) to leader 1
client write log 2256853643964049536 (index 362) to leader 1
client write log 2891012235785744431 (index 363) to leader 1
client write log 3124056568991918519 (index 364) to leader 1
client write log 3566717012979328923 (index 365) to leader 1
client write log 4492551904991691430 (index 366) to leader 1
client write log 5036887275576001272 (index 367) to leader 1
flag 65933 term 56 leader 1 nextIndex[0]: 353  matchIndex[0]: 352
term 56 leader 1 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 56 leaderCommit: 352 
------------------------------------------------------
flag 99171 term 56 leader 1 nextIndex[2]: 352  matchIndex[2]: 351
term 56 leader 1 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=368
update matchIndex[0]=367
update leader CommitIndex=367
leader log:
[{snapshot 54 349} {6501136269440595549 54 350} {7765548673349593799 54 351} {2078182928926375493 56 352} {5834329022761278648 56 353} {9118953226810054371 56 354} {3918507363165752140 56 355} {8675971401656991065 56 356} {8844555983826889511 56 357} {8551848744434811254 56 358} {2657426529264924377 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367}]
------------------------------------------------------
term 56 Server1 start snapshot! index=359
term 56 server1 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=367
-------------------------------------------------------------
flag 97931 term 56 leader 1 nextIndex[0]: 368  matchIndex[0]: 367
term 56 leader 1 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 352  matchIndex[2]: 351
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=368
update matchIndex[0]=367
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367}]
------------------------------------------------------
term 56 Server0 start snapshot! index=359
term 56 server0 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=367
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5001871364276780427 (index 368) to leader 1
term 56 server 1 not vote for server 2, 日志不够新
term 56 server 0 not vote for server 2, 日志不够新
term 58 server 2 vote for server 1
term 58 server 1 get vote from server 2
term 58 server 1 become leader
------------------------------------------------------
term 58 server 0 vote for server 1
term 58 server 1 get outdate rpc reply from server 0
flag 22667 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 0
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 1889 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 0
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 369->368
------------------------------------------------------
term 58 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 369->368
------------------------------------------------------
flag 27164 term 58 leader 1 nextIndex[0]: 368  matchIndex[0]: 0
term 58 leader 1 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 leader 1 nextIndex[2]: 352  matchIndex[2]: 0
term 58 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 56
------------------------------------------------------
term 58 server 2 InstallSnapshot success
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 56 rf.commitIndex 359 rf.lastApplied 359
term 58 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 360 matchIndex[2] 359 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
flag 73003 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 25346 term 58 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 58 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
flag 38018 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 72637 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
update nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
flag 32820 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 29549 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
flag 99244 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 97744 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
flag 96013 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 39731 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
flag 71058 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 32156 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
flag 82418 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 13898 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
flag 23571 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 38943 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
term 58 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70214 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 51563 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
flag 6708 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 22516 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
term 58 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95182 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 32511 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62165 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 32860 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
term 58 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66017 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 8432 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
flag 98846 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 35834 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
flag 76114 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 80196 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
term 58 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10751 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 90713 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
flag 95456 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 5001 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
flag 57345 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 91449 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=367
leader log:
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=367
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368}]
------------------------------------------------------
client write log 5001871364276780427 (index 369) to leader 1
flag 52331 term 58 leader 1 nextIndex[0]: 369  matchIndex[0]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
flag 46629 term 58 leader 1 nextIndex[2]: 369  matchIndex[2]: 368
term 58 leader 1 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 56 leaderCommit: 367 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:367 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=369
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368} {5001871364276780427 58 369}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=370
update matchIndex[0]=369
update leader CommitIndex=369
leader log:
[{snapshot 56 359} {8990009569915120700 56 360} {8220855458382860263 56 361} {2256853643964049536 56 362} {2891012235785744431 56 363} {3124056568991918519 56 364} {3566717012979328923 56 365} {4492551904991691430 56 366} {5036887275576001272 56 367} {5001871364276780427 56 368} {5001871364276780427 58 369}]
------------------------------------------------------
term 58 Server1 start snapshot! index=369
term 58 server1 snapshot success
lastIncludedIndex=369 lastApplied=369 lastIndex=369
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50094 term 58 leader 1 nextIndex[0]: 370  matchIndex[0]: 369
term 58 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 58 leaderCommit: 369 
------------------------------------------------------
flag 37906 term 58 leader 1 nextIndex[2]: 370  matchIndex[2]: 369
term 58 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 58 leaderCommit: 369 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=369
leader log:
[{snapshot 58 369}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=370
update matchIndex[0]=369
update leader CommitIndex=369
leader log:
[{snapshot 58 369}]
------------------------------------------------------
term 58 Server0 start snapshot! index=369
term 58 server0 snapshot success
lastIncludedIndex=369 lastApplied=369 lastIndex=369
-------------------------------------------------------------
term 58 Server2 start snapshot! index=369
term 58 server2 snapshot success
lastIncludedIndex=369 lastApplied=369 lastIndex=369
-------------------------------------------------------------
flag 27694 term 58 leader 1 nextIndex[0]: 370  matchIndex[0]: 369
term 58 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 58 leaderCommit: 369 
------------------------------------------------------
flag 65889 term 58 leader 1 nextIndex[2]: 370  matchIndex[2]: 369
term 58 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 58 leaderCommit: 369 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:369 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=369
leader log:
[{snapshot 58 369}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=370
update matchIndex[0]=369
update leader CommitIndex=369
leader log:
[{snapshot 58 369}]
------------------------------------------------------
flag 12179 term 58 leader 1 nextIndex[0]: 370  matchIndex[0]: 369
term 58 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 58 leaderCommit: 369 
------------------------------------------------------
flag 91885 term 58 leader 1 nextIndex[2]: 370  matchIndex[2]: 369
term 58 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 58 leaderCommit: 369 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:369 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=369
leader log:
[{snapshot 58 369}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=370
update matchIndex[0]=369
update leader CommitIndex=369
leader log:
[{snapshot 58 369}]
------------------------------------------------------
term 58 server 0 not vote for server 1, 任期不够新
term 58 server 1 get outdate rpc reply from server 0
flag 83002 term 58 leader 1 nextIndex[0]: 370  matchIndex[0]: 369
term 58 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 58 leaderCommit: 369 
------------------------------------------------------
flag 36967 term 58 leader 1 nextIndex[2]: 370  matchIndex[2]: 369
term 58 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 58 leaderCommit: 369 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=369
leader log:
[{snapshot 58 369}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=370
update matchIndex[0]=369
update leader CommitIndex=369
leader log:
[{snapshot 58 369}]
------------------------------------------------------
flag 58491 term 58 leader 1 nextIndex[0]: 370  matchIndex[0]: 369
term 58 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 58 leaderCommit: 369 
------------------------------------------------------
flag 84447 term 58 leader 1 nextIndex[2]: 370  matchIndex[2]: 369
term 58 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 58 leaderCommit: 369 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=369
leader log:
[{snapshot 58 369}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=370
update matchIndex[0]=369
update leader CommitIndex=369
leader log:
[{snapshot 58 369}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72901 term 58 leader 1 nextIndex[0]: 370  matchIndex[0]: 369
term 58 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 58 leaderCommit: 369 
------------------------------------------------------
flag 30028 term 58 leader 1 nextIndex[2]: 370  matchIndex[2]: 369
term 58 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 58 leaderCommit: 369 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=369
leader log:
[{snapshot 58 369}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=370
update matchIndex[0]=369
update leader CommitIndex=369
leader log:
[{snapshot 58 369}]
------------------------------------------------------
  ... Passed --  79.0  3 1808  808658  369
--- PASS: TestSnapshotInstall2D (79.05s)
PASS
