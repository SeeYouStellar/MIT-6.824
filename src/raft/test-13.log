=== RUN   TestSnapshotAllCrash2D
Test (2D): crash and restart all servers ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
client write log 2822403576662398211 (index 1) to leader 1
flag 44366 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
[{2822403576662398211 1 1}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 34609 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
[{2822403576662398211 1 1}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2822403576662398211 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2822403576662398211 1 1}]
------------------------------------------------------
flag 25041 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 70796 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2822403576662398211 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2822403576662398211 1 1}]
------------------------------------------------------
client write log 4085958262410199586 (index 2) to leader 1
flag 59745 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
[{4085958262410199586 1 2}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 8786 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
[{4085958262410199586 1 2}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2}]
------------------------------------------------------
flag 96294 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 38152 term 1 leader 1 nextIndex[2]: 3  matchIndex[2]: 2
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2}]
------------------------------------------------------
client write log 6290120372750473479 (index 3) to leader 1
flag 62263 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
[{6290120372750473479 1 3}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 87573 term 1 leader 1 nextIndex[2]: 3  matchIndex[2]: 2
[{6290120372750473479 1 3}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=4
update matchIndex[2]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=4
update matchIndex[0]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3}]
------------------------------------------------------
flag 55004 term 1 leader 1 nextIndex[0]: 4  matchIndex[0]: 3
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 48981 term 1 leader 1 nextIndex[2]: 4  matchIndex[2]: 3
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:3 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:3 
server 0 log:
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=4
update matchIndex[2]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3}]
------------------------------------------------------
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=4
update matchIndex[0]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3}]
------------------------------------------------------
client write log 8486519681890892958 (index 4) to leader 1
flag 67347 term 1 leader 1 nextIndex[0]: 4  matchIndex[0]: 3
[{8486519681890892958 1 4}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 72976 term 1 leader 1 nextIndex[2]: 4  matchIndex[2]: 3
[{8486519681890892958 1 4}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:3 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:3 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=5
update matchIndex[0]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=5
update matchIndex[2]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4}]
------------------------------------------------------
flag 89851 term 1 leader 1 nextIndex[0]: 5  matchIndex[0]: 4
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 71508 term 1 leader 1 nextIndex[2]: 5  matchIndex[2]: 4
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:4 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=5
update matchIndex[0]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:4 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=5
update matchIndex[2]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4}]
------------------------------------------------------
client write log 2537379919127284820 (index 5) to leader 1
flag 17638 term 1 leader 1 nextIndex[0]: 5  matchIndex[0]: 4
[{2537379919127284820 1 5}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 54690 term 1 leader 1 nextIndex[2]: 5  matchIndex[2]: 4
[{2537379919127284820 1 5}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:4 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:4 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=6
update matchIndex[2]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=6
update matchIndex[0]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5}]
------------------------------------------------------
flag 66844 term 1 leader 1 nextIndex[0]: 6  matchIndex[0]: 5
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 52995 term 1 leader 1 nextIndex[2]: 6  matchIndex[2]: 5
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:5 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=6
update matchIndex[2]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:5 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=6
update matchIndex[0]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5}]
------------------------------------------------------
client write log 1286078023414816695 (index 6) to leader 1
flag 21751 term 1 leader 1 nextIndex[0]: 6  matchIndex[0]: 5
[{1286078023414816695 1 6}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 19006 term 1 leader 1 nextIndex[2]: 6  matchIndex[2]: 5
[{1286078023414816695 1 6}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:5 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:5 
server 0 log:
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=7
update matchIndex[2]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6}]
------------------------------------------------------
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=7
update matchIndex[0]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6}]
------------------------------------------------------
flag 39299 term 1 leader 1 nextIndex[0]: 7  matchIndex[0]: 6
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 66046 term 1 leader 1 nextIndex[2]: 7  matchIndex[2]: 6
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:6 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=7
update matchIndex[2]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:6 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=7
update matchIndex[0]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6}]
------------------------------------------------------
client write log 7884991100471085390 (index 7) to leader 1
flag 80277 term 1 leader 1 nextIndex[0]: 7  matchIndex[0]: 6
[{7884991100471085390 1 7}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 5695 term 1 leader 1 nextIndex[2]: 7  matchIndex[2]: 6
[{7884991100471085390 1 7}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:6 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:6 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=8
update matchIndex[0]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7}]
------------------------------------------------------
flag 92096 term 1 leader 1 nextIndex[0]: 8  matchIndex[0]: 7
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 92080 term 1 leader 1 nextIndex[2]: 8  matchIndex[2]: 7
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:7 
term 1 server 2 AppendEntries true commitIndex:7 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7}]
------------------------------------------------------
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=8
update matchIndex[0]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7}]
------------------------------------------------------
client write log 8028975139766765879 (index 8) to leader 1
flag 89709 term 1 leader 1 nextIndex[0]: 8  matchIndex[0]: 7
[{8028975139766765879 1 8}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 57512 term 1 leader 1 nextIndex[2]: 8  matchIndex[2]: 7
[{8028975139766765879 1 8}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:7 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7} {8028975139766765879 1 8}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:7 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7} {8028975139766765879 1 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7} {8028975139766765879 1 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7} {8028975139766765879 1 8}]
------------------------------------------------------
flag 21401 term 1 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 81901 term 1 leader 1 nextIndex[2]: 9  matchIndex[2]: 8
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7} {8028975139766765879 1 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7} {8028975139766765879 1 8}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7} {8028975139766765879 1 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7} {8028975139766765879 1 8}]
------------------------------------------------------
client write log 9181768084099224896 (index 9) to leader 1
flag 59733 term 1 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
[{9181768084099224896 1 9}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 56615 term 1 leader 1 nextIndex[2]: 9  matchIndex[2]: 8
[{9181768084099224896 1 9}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7} {8028975139766765879 1 8} {9181768084099224896 1 9}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7} {8028975139766765879 1 8} {9181768084099224896 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7} {8028975139766765879 1 8} {9181768084099224896 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7} {8028975139766765879 1 8} {9181768084099224896 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
flag 38264 term 1 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 89585 term 1 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7} {8028975139766765879 1 8} {9181768084099224896 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{<nil> 0 0} {2822403576662398211 1 1} {4085958262410199586 1 2} {6290120372750473479 1 3} {8486519681890892958 1 4} {2537379919127284820 1 5} {1286078023414816695 1 6} {7884991100471085390 1 7} {8028975139766765879 1 8} {9181768084099224896 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
client write log 4362952440912759845 (index 10) to leader 1
flag 15773 term 1 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
[{4362952440912759845 1 10}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 24521 term 1 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
[{4362952440912759845 1 10}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4362952440912759845 1 10}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 1 9} {4362952440912759845 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4362952440912759845 1 10}]
------------------------------------------------------
flag 9084 term 1 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 51412 term 1 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:10 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
term 1 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 1 9} {4362952440912759845 1 10}]
------------------------------------------------------
[{snapshot 1 9} {4362952440912759845 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4362952440912759845 1 10}]
------------------------------------------------------
client write log 1175736730185223900 (index 11) to leader 1
flag 84591 term 1 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
[{1175736730185223900 1 11}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 34555 term 1 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
[{1175736730185223900 1 11}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:10 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11}]
------------------------------------------------------
flag 81123 term 1 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 73678 term 1 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:11 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
server 0 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11}]
------------------------------------------------------
client write log 6898358683064440138 (index 12) to leader 1
flag 77593 term 1 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
[{6898358683064440138 1 12}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 36627 term 1 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
[{6898358683064440138 1 12}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:11 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
server 0 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12}]
------------------------------------------------------
flag 29864 term 1 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 16404 term 1 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:12 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:12 
server 0 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12}]
------------------------------------------------------
client write log 6157667003005571274 (index 13) to leader 1
flag 94548 term 1 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
[{6157667003005571274 1 13}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 61198 term 1 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
[{6157667003005571274 1 13}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:12 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:12 
server 0 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13}]
------------------------------------------------------
flag 58636 term 1 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 52347 term 1 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:13 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13}]
------------------------------------------------------
client write log 4347049553866357992 (index 14) to leader 1
flag 64419 term 1 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
[{4347049553866357992 1 14}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 27083 term 1 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
[{4347049553866357992 1 14}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:13 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14}]
------------------------------------------------------
flag 80714 term 1 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 43425 term 1 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:14 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=15
update matchIndex[2]=14
term 1 server 0 AppendEntries true commitIndex:14 
server 0 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14}]
------------------------------------------------------
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 1 voteFor 1 logs [{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 1 voteFor 1 logs [{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 1 voteFor 1 logs [{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14}]
!!!!!! server 2 crash
flag 48094 term 1 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 45362 term 1 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 2 server 2 vote for server 0
term 2 server 1 vote for server 0
term 2 server 0 get vote from server 2
term 2 server 0 become leader
------------------------------------------------------
term 2 server 0 get outdate rpc reply from server 1
client write log 748225073986441943 (index 15) to leader 0
flag 98548 term 2 leader 0 nextIndex[1]: 15  matchIndex[1]: 0
[{748225073986441943 2 15}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 18992 term 2 leader 0 nextIndex[2]: 15  matchIndex[2]: 0
[{748225073986441943 2 15}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15}]
------------------------------------------------------
flag 9395 term 2 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 8243 term 2 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:15 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=16
update matchIndex[2]=15
term 2 server 1 AppendEntries true commitIndex:15 
server 1 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15}]
------------------------------------------------------
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15}]
------------------------------------------------------
client write log 7605428527705300337 (index 16) to leader 0
flag 77552 term 2 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
[{7605428527705300337 2 16}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 19959 term 2 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
[{7605428527705300337 2 16}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:15 
server 2 log:
term 2 server 1 AppendEntries true commitIndex:15 
server 1 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16}]
------------------------------------------------------
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16}]
------------------------------------------------------
flag 14727 term 2 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 27425 term 2 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:16 
server 1 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:16 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16}]
------------------------------------------------------
client write log 3040368511623305301 (index 17) to leader 0
flag 96604 term 2 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
[{3040368511623305301 2 17}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 42658 term 2 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
[{3040368511623305301 2 17}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:16 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:16 
server 1 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17}]
------------------------------------------------------
flag 38636 term 2 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 85435 term 2 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:17 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:17 
server 1 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17}]
------------------------------------------------------
client write log 7913222624601317661 (index 18) to leader 0
flag 50072 term 2 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
[{7913222624601317661 2 18}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 39954 term 2 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
[{7913222624601317661 2 18}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:17 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17} {7913222624601317661 2 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17} {7913222624601317661 2 18}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:17 
server 1 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17} {7913222624601317661 2 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17} {7913222624601317661 2 18}]
------------------------------------------------------
flag 78980 term 2 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 27379 term 2 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:18 
server 1 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17} {7913222624601317661 2 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17} {7913222624601317661 2 18}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:18 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17} {7913222624601317661 2 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17} {7913222624601317661 2 18}]
------------------------------------------------------
client write log 4559455386706118147 (index 19) to leader 0
flag 43931 term 2 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
[{4559455386706118147 2 19}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 8581 term 2 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
[{4559455386706118147 2 19}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:18 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17} {7913222624601317661 2 18} {4559455386706118147 2 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17} {7913222624601317661 2 18} {4559455386706118147 2 19}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:18 
server 1 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17} {7913222624601317661 2 18} {4559455386706118147 2 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17} {7913222624601317661 2 18} {4559455386706118147 2 19}]
------------------------------------------------------
term 2 Server0 start snapshot! index=19
term 2 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 42187 term 2 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 60042 term 2 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17} {7913222624601317661 2 18} {4559455386706118147 2 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 1 9} {4362952440912759845 1 10} {1175736730185223900 1 11} {6898358683064440138 1 12} {6157667003005571274 1 13} {4347049553866357992 1 14} {748225073986441943 2 15} {7605428527705300337 2 16} {3040368511623305301 2 17} {7913222624601317661 2 18} {4559455386706118147 2 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 Server2 start snapshot! index=19
term 2 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 2 Server1 start snapshot! index=19
term 2 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 4851390680361211418 (index 20) to leader 0
flag 55168 term 2 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
[{4851390680361211418 2 20}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 98434 term 2 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
[{4851390680361211418 2 20}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {4851390680361211418 2 20}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 2 19} {4851390680361211418 2 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {4851390680361211418 2 20}]
------------------------------------------------------
flag 59641 term 2 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
flag 75626 term 2 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {4851390680361211418 2 20}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:20 
server 1 log:
[{snapshot 2 19} {4851390680361211418 2 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {4851390680361211418 2 20}]
------------------------------------------------------
client write log 8468504897114538052 (index 21) to leader 0
flag 16195 term 2 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
[{8468504897114538052 2 21}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
flag 32084 term 2 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
[{8468504897114538052 2 21}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:20 
server 1 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21}]
------------------------------------------------------
flag 67580 term 2 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
flag 70326 term 2 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:21 
server 1 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21}]
------------------------------------------------------
client write log 3019303237746374055 (index 22) to leader 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 15->14
------------------------------------------------------
flag 86951 term 2 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
[{3019303237746374055 2 22}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
flag 25740 term 2 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
[{3019303237746374055 2 22}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:21 
server 1 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
------------------------------------------------------
flag 59659 term 2 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
flag 2033 term 2 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:22 
server 1 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 2 voteFor 0 logs [{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 2 voteFor 0 logs [{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 2 voteFor 0 logs [{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
!!!!!! server 2 crash
term 3 server 2 vote for server 1
term 3 server 0 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
flag 76364 term 3 leader 1 nextIndex[0]: 23  matchIndex[0]: 0
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 65214 term 3 leader 1 nextIndex[2]: 23  matchIndex[2]: 0
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=19
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=19
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22}]
------------------------------------------------------
client write log 3880810110532274172 (index 23) to leader 1
flag 71094 term 3 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
[{3880810110532274172 3 23}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 93576 term 3 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
[{3880810110532274172 3 23}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23}]
------------------------------------------------------
flag 47684 term 3 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
flag 74149 term 3 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:23 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:23 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23}]
------------------------------------------------------
client write log 3221545167063516041 (index 24) to leader 1
flag 33730 term 3 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
[{3221545167063516041 3 24}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
flag 68136 term 3 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
[{3221545167063516041 3 24}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:23 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:23 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24}]
------------------------------------------------------
flag 98653 term 3 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
flag 56816 term 3 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:24 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24}]
------------------------------------------------------
client write log 1222520971880300608 (index 25) to leader 1
flag 48394 term 3 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
[{1222520971880300608 3 25}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
flag 58040 term 3 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
[{1222520971880300608 3 25}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:24 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25}]
------------------------------------------------------
flag 14410 term 3 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 37195 term 3 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25}]
------------------------------------------------------
client write log 1935977215146505362 (index 26) to leader 1
flag 75949 term 3 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
[{1935977215146505362 3 26}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 79796 term 3 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
[{1935977215146505362 3 26}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26}]
------------------------------------------------------
flag 5729 term 3 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 40671 term 3 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:26 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26}]
------------------------------------------------------
client write log 5731283809141338946 (index 27) to leader 1
flag 63865 term 3 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
[{5731283809141338946 3 27}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 30900 term 3 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
[{5731283809141338946 3 27}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:26 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27}]
------------------------------------------------------
flag 65042 term 3 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 78420 term 3 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:27 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27}]
------------------------------------------------------
client write log 7074902183358369556 (index 28) to leader 1
flag 46508 term 3 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
[{7074902183358369556 3 28}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 25400 term 3 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
[{7074902183358369556 3 28}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:27 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27} {7074902183358369556 3 28}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27} {7074902183358369556 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27} {7074902183358369556 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27} {7074902183358369556 3 28}]
------------------------------------------------------
flag 82249 term 3 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 74451 term 3 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:28 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27} {7074902183358369556 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=29
update matchIndex[2]=28
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27} {7074902183358369556 3 28}]
------------------------------------------------------
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27} {7074902183358369556 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27} {7074902183358369556 3 28}]
------------------------------------------------------
client write log 8730822406919951700 (index 29) to leader 1
flag 54883 term 3 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
[{8730822406919951700 3 29}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 30561 term 3 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
[{8730822406919951700 3 29}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27} {7074902183358369556 3 28} {8730822406919951700 3 29}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:28 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27} {7074902183358369556 3 28} {8730822406919951700 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27} {7074902183358369556 3 28} {8730822406919951700 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27} {7074902183358369556 3 28} {8730822406919951700 3 29}]
------------------------------------------------------
term 3 Server1 start snapshot! index=29
term 3 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 12779 term 3 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 2205 term 3 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27} {7074902183358369556 3 28} {8730822406919951700 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 2 19} {4851390680361211418 2 20} {8468504897114538052 2 21} {3019303237746374055 2 22} {3880810110532274172 3 23} {3221545167063516041 3 24} {1222520971880300608 3 25} {1935977215146505362 3 26} {5731283809141338946 3 27} {7074902183358369556 3 28} {8730822406919951700 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 Server0 start snapshot! index=29
term 3 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 3 Server2 start snapshot! index=29
term 3 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 3 voteFor 1 logs [{snapshot 3 29}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 3 voteFor 1 logs [{snapshot 3 29}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 3 voteFor 1 logs [{snapshot 3 29}]
!!!!!! server 2 crash
flag 2342 term 3 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 58473 term 3 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 1 become leader
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get outdate rpc reply from server 0
flag 75553 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 0
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 84786 term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 0
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
client write log 6958402894626236009 (index 30) to leader 1
flag 51172 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
[{6958402894626236009 4 30}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 49384 term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
[{6958402894626236009 4 30}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {6958402894626236009 4 30}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {6958402894626236009 4 30}]
------------------------------------------------------
flag 61472 term 4 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 1020 term 4 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:30 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {6958402894626236009 4 30}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:30 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {6958402894626236009 4 30}]
------------------------------------------------------
client write log 4485683762351704539 (index 31) to leader 1
flag 73638 term 4 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
[{4485683762351704539 4 31}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 62045 term 4 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
[{4485683762351704539 4 31}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:30 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:30 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31}]
------------------------------------------------------
flag 7449 term 4 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 98255 term 4 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:31 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31}]
------------------------------------------------------
client write log 4859823786095579265 (index 32) to leader 1
flag 71298 term 4 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
[{4859823786095579265 4 32}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 79439 term 4 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
[{4859823786095579265 4 32}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:31 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32}]
------------------------------------------------------
flag 87931 term 4 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 55376 term 4 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:32 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32}]
------------------------------------------------------
client write log 2376770796243402647 (index 33) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 30->29
------------------------------------------------------
flag 94651 term 4 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
[{2376770796243402647 4 33}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 12853 term 4 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
[{2376770796243402647 4 33}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:32 
server 0 log:
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33}]
------------------------------------------------------
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33}]
------------------------------------------------------
flag 75537 term 4 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 89334 term 4 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
server 0 log:
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33}]
------------------------------------------------------
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33}]
------------------------------------------------------
client write log 1132416014066957273 (index 34) to leader 1
flag 22466 term 4 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
[{1132416014066957273 4 34}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 77902 term 4 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
[{1132416014066957273 4 34}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34}]
------------------------------------------------------
flag 67860 term 4 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 72659 term 4 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:34 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34}]
------------------------------------------------------
client write log 7526406763661327384 (index 35) to leader 1
flag 963 term 4 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
[{7526406763661327384 4 35}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 59243 term 4 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
[{7526406763661327384 4 35}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:34 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35}]
------------------------------------------------------
flag 77399 term 4 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 51705 term 4 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:35 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35}]
------------------------------------------------------
client write log 2684622103808556251 (index 36) to leader 1
flag 13641 term 4 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
[{2684622103808556251 4 36}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 38857 term 4 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
[{2684622103808556251 4 36}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:35 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36}]
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36}]
------------------------------------------------------
flag 56234 term 4 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 16238 term 4 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:36 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=37
update matchIndex[2]=36
term 4 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36}]
------------------------------------------------------
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36}]
------------------------------------------------------
client write log 4489114184450154420 (index 37) to leader 1
flag 42174 term 4 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
[{4489114184450154420 4 37}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 4633 term 4 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
[{4489114184450154420 4 37}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:36 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
term 4 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37}]
------------------------------------------------------
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 30->29
------------------------------------------------------
flag 86766 term 4 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 94053 term 4 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:37 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37}]
------------------------------------------------------
client write log 3023947938492151361 (index 38) to leader 1
flag 81430 term 4 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
[{3023947938492151361 4 38}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 1466 term 4 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
[{3023947938492151361 4 38}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:37 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37} {3023947938492151361 4 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37} {3023947938492151361 4 38}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37} {3023947938492151361 4 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37} {3023947938492151361 4 38}]
------------------------------------------------------
flag 1478 term 4 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 22012 term 4 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:38 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37} {3023947938492151361 4 38}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:38 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37} {3023947938492151361 4 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37} {3023947938492151361 4 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37} {3023947938492151361 4 38}]
------------------------------------------------------
client write log 6764540044811590276 (index 39) to leader 1
flag 10386 term 4 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
[{6764540044811590276 4 39}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 91567 term 4 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
[{6764540044811590276 4 39}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:38 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37} {3023947938492151361 4 38} {6764540044811590276 4 39}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:38 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37} {3023947938492151361 4 38} {6764540044811590276 4 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37} {3023947938492151361 4 38} {6764540044811590276 4 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37} {3023947938492151361 4 38} {6764540044811590276 4 39}]
------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 15->14
------------------------------------------------------
flag 27807 term 4 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 87543 term 4 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37} {3023947938492151361 4 38} {6764540044811590276 4 39}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 3 29} {6958402894626236009 4 30} {4485683762351704539 4 31} {4859823786095579265 4 32} {2376770796243402647 4 33} {1132416014066957273 4 34} {7526406763661327384 4 35} {2684622103808556251 4 36} {4489114184450154420 4 37} {3023947938492151361 4 38} {6764540044811590276 4 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 6509278001355017234 (index 40) to leader 1
flag 44436 term 4 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
[{6509278001355017234 4 40}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 5829 term 4 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
[{6509278001355017234 4 40}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6509278001355017234 4 40}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {6509278001355017234 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6509278001355017234 4 40}]
------------------------------------------------------
flag 50961 term 4 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 93937 term 4 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:40 
term 4 server 0 AppendEntries true commitIndex:40 
server 0 log:
[{snapshot 4 39} {6509278001355017234 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6509278001355017234 4 40}]
------------------------------------------------------
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6509278001355017234 4 40}]
------------------------------------------------------
client write log 1777580776413882515 (index 41) to leader 1
flag 44667 term 4 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
[{1777580776413882515 4 41}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 90629 term 4 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
[{1777580776413882515 4 41}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:40 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:40 
server 0 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
------------------------------------------------------
flag 36589 term 4 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 11542 term 4 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:41 
server 2 log:
term 4 server 0 AppendEntries true commitIndex:41 
server 0 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
------------------------------------------------------
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 4 voteFor 1 logs [{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 4 voteFor 1 logs [{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 4 voteFor 1 logs [{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
!!!!!! server 2 crash
flag 94667 term 4 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 81069 term 4 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 5 server 2 vote for server 0
term 5 server 1 vote for server 0
term 5 server 0 get vote from server 2
term 5 server 0 become leader
------------------------------------------------------
term 5 server 0 get outdate rpc reply from server 1
flag 37732 term 5 leader 0 nextIndex[1]: 42  matchIndex[1]: 0
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 7671 term 5 leader 0 nextIndex[2]: 42  matchIndex[2]: 0
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41}]
------------------------------------------------------
client write log 4738886433805641212 (index 42) to leader 0
flag 78487 term 5 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
[{4738886433805641212 5 42}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 57398 term 5 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
[{4738886433805641212 5 42}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42}]
------------------------------------------------------
flag 49291 term 5 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 5 leaderCommit: 42 
------------------------------------------------------
flag 51465 term 5 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 5 leaderCommit: 42 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:42 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42}]
------------------------------------------------------
client write log 1135946067897272729 (index 43) to leader 0
flag 65904 term 5 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
[{1135946067897272729 5 43}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 5 leaderCommit: 42 
------------------------------------------------------
flag 71159 term 5 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
[{1135946067897272729 5 43}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 5 leaderCommit: 42 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:42 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43}]
------------------------------------------------------
flag 67143 term 5 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 5 leaderCommit: 43 
------------------------------------------------------
flag 2883 term 5 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 5 leaderCommit: 43 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:43 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43}]
------------------------------------------------------
client write log 608999923053719378 (index 44) to leader 0
flag 60826 term 5 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
[{608999923053719378 5 44}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 5 leaderCommit: 43 
------------------------------------------------------
flag 63650 term 5 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
[{608999923053719378 5 44}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 5 leaderCommit: 43 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:43 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44}]
------------------------------------------------------
flag 18261 term 5 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 5 leaderCommit: 44 
------------------------------------------------------
flag 67670 term 5 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 5 leaderCommit: 44 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:44 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44}]
------------------------------------------------------
client write log 12561294693247529 (index 45) to leader 0
flag 90594 term 5 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
[{12561294693247529 5 45}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 5 leaderCommit: 44 
------------------------------------------------------
flag 81307 term 5 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
[{12561294693247529 5 45}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 5 leaderCommit: 44 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:44 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45}]
------------------------------------------------------
flag 80669 term 5 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 5 leaderCommit: 45 
------------------------------------------------------
flag 71290 term 5 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 5 leaderCommit: 45 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:45 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45}]
------------------------------------------------------
client write log 2696054915012162321 (index 46) to leader 0
flag 44394 term 5 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
[{2696054915012162321 5 46}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 5 leaderCommit: 45 
------------------------------------------------------
flag 60399 term 5 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
[{2696054915012162321 5 46}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 5 leaderCommit: 45 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:45 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46}]
------------------------------------------------------
flag 33934 term 5 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 5 leaderCommit: 46 
------------------------------------------------------
flag 88634 term 5 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 5 leaderCommit: 46 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:46 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:46 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46}]
------------------------------------------------------
update nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46}]
------------------------------------------------------
client write log 6011912882683566898 (index 47) to leader 0
flag 64168 term 5 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
[{6011912882683566898 5 47}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 5 leaderCommit: 46 
------------------------------------------------------
flag 81812 term 5 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
[{6011912882683566898 5 47}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 5 leaderCommit: 46 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:46 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:46 
server 1 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47}]
------------------------------------------------------
flag 82385 term 5 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
flag 91106 term 5 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:47 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47}]
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47}]
------------------------------------------------------
client write log 4842178843729295583 (index 48) to leader 0
flag 71367 term 5 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
[{4842178843729295583 5 48}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
flag 98397 term 5 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
[{4842178843729295583 5 48}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:47 
server 2 log:
term 5 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
------------------------------------------------------
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
------------------------------------------------------
flag 81038 term 5 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
flag 80255 term 5 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:48 
server 1 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:48 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 5 voteFor 0 logs [{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 5 voteFor 0 logs [{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 5 voteFor 0 logs [{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
!!!!!! server 2 crash
flag 18582 term 5 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
flag 95058 term 5 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 49751 term 6 leader 1 nextIndex[0]: 49  matchIndex[0]: 0
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 39 
------------------------------------------------------
flag 63425 term 6 leader 1 nextIndex[2]: 49  matchIndex[2]: 0
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48}]
------------------------------------------------------
client write log 7737998488422806417 (index 49) to leader 1
flag 15641 term 6 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
[{7737998488422806417 6 49}]
term 6 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 39 
------------------------------------------------------
flag 46370 term 6 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
[{7737998488422806417 6 49}]
term 6 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48} {7737998488422806417 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48} {7737998488422806417 6 49}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48} {7737998488422806417 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48} {7737998488422806417 6 49}]
------------------------------------------------------
term 6 Server1 start snapshot! index=49
term 6 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 20723 term 6 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 79577 term 6 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48} {7737998488422806417 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 4 39} {6509278001355017234 4 40} {1777580776413882515 4 41} {4738886433805641212 5 42} {1135946067897272729 5 43} {608999923053719378 5 44} {12561294693247529 5 45} {2696054915012162321 5 46} {6011912882683566898 5 47} {4842178843729295583 5 48} {7737998488422806417 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 6 Server0 start snapshot! index=49
term 6 Server2 start snapshot! index=49
term 6 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
  ... Passed --  11.3  3  244   71104   49
--- PASS: TestSnapshotAllCrash2D (11.31s)
PASS
