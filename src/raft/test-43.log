=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
flag 18722 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 86565 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 7174130356255810077 (index 1) to leader 1
flag 94747 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 43314 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7174130356255810077 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7174130356255810077 1 1}]
------------------------------------------------------
flag 47887 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 6465 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7174130356255810077 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7174130356255810077 1 1}]
------------------------------------------------------
flag 70673 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 59307 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7174130356255810077 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7174130356255810077 1 1}]
------------------------------------------------------
flag 7221 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 4788 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7174130356255810077 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7174130356255810077 1 1}]
------------------------------------------------------
flag 16236 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 33429 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7174130356255810077 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7174130356255810077 1 1}]
------------------------------------------------------
flag 31578 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 29758 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7174130356255810077 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7174130356255810077 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2901126215085489221 (index 2) to leader 1
flag 68264 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 67197 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2}]
------------------------------------------------------
flag 90169 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 93800 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2}]
------------------------------------------------------
client write log 8640435074950118755 (index 3) to leader 1
client write log 804255287758500058 (index 4) to leader 1
client write log 7331255436811669561 (index 5) to leader 1
client write log 7494964967840529607 (index 6) to leader 1
client write log 689999334271207476 (index 7) to leader 1
client write log 3176522244184718836 (index 8) to leader 1
flag 67465 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 41929 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8}]
------------------------------------------------------
flag 24683 term 1 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 89772 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7821782762498712142 (index 9) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 2->1
------------------------------------------------------
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 0 vote for server 1
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
flag 73297 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 48240 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 10->9
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 10->9
------------------------------------------------------
flag 95140 term 3 leader 1 nextIndex[0]: 9  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 93339 term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 48566 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 36979 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 16005 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 85581 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 51105 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 86237 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 50220 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 96041 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 20912 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 25939 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 13619 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 31768 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 38758 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 49948 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 20309 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 4279 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 92297 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 91178 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 95162 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 66907 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 12734 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 39145 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 89745 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 40169 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 76959 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 2497 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 56918 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 25375 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 92105 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 64542 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9247 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 19711 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
flag 32222 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 30180 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9}]
------------------------------------------------------
client write log 7821782762498712142 (index 10) to leader 1
flag 63687 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 6120 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {7174130356255810077 1 1} {2901126215085489221 1 2} {8640435074950118755 1 3} {804255287758500058 1 4} {7331255436811669561 1 5} {7494964967840529607 1 6} {689999334271207476 1 7} {3176522244184718836 1 8} {7821782762498712142 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
term 3 Server1 start snapshot! index=9
term 3 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 8232 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 3412 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
term 3 Server0 start snapshot! index=9
term 3 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 3 Server2 start snapshot! index=9
term 3 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 32544 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 10308 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
flag 73674 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 78545 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
flag 30994 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 4862 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
flag 9967 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 3195 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
flag 48317 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 48756 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 28051 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 66134 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 88784 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 1505 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 94286 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 94644 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 60552 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 30584 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7821782762498712142 3 10}]
------------------------------------------------------
client write log 565946806810957071 (index 11) to leader 2
flag 78965 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 43237 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 70984 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 74873 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11}]
------------------------------------------------------
flag 88779 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 13121 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 73216 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 42356 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11}]
------------------------------------------------------
client write log 6082952787233426507 (index 12) to leader 2
client write log 8993947979494869019 (index 13) to leader 2
client write log 6301785354383560405 (index 14) to leader 2
client write log 622106189426246719 (index 15) to leader 2
client write log 3686732706155266986 (index 16) to leader 2
client write log 3206584061930289092 (index 17) to leader 2
flag 72280 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 76179 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 2838 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 21169 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 41041 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 25607 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
flag 37731 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 84924 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2650954544349815747 (index 11) to leader 1
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 10
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 99446 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1617 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 65076 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 1037 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 40749 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 43645 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 53954 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 45337 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 61384 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 13573 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 54033 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 12025 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 79097 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 18->17
------------------------------------------------------
flag 59049 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 17
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 17 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 2450 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 78760 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 28955 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 15593 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 45926 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 38797 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 9857 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 36900 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 19741 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 83175 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 95533 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 58485 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 5566 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 82740 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 3024 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 38600 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 68477 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 41730 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 27409 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 56598 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 43350 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 15445 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13134 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 40404 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
flag 55189 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 38544 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17}]
------------------------------------------------------
client write log 2650954544349815747 (index 18) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94085 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 1474 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17} {2650954544349815747 4 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17} {2650954544349815747 4 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 19->18
------------------------------------------------------
flag 43474 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 18
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 17 args.LastIncludedIndex 9
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17} {2650954544349815747 4 18}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96111 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 57864 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17} {2650954544349815747 4 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17} {2650954544349815747 4 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15215 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 19724 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17} {2650954544349815747 4 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17} {2650954544349815747 4 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98806 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 96769 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17} {2650954544349815747 4 18}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17} {2650954544349815747 4 18}]
------------------------------------------------------
flag 77486 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 5969 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17} {2650954544349815747 4 18}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17} {2650954544349815747 4 18}]
------------------------------------------------------
flag 8448 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 7329 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17} {2650954544349815747 4 18}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17} {2650954544349815747 4 18}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5975778334150263616 (index 19) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71964 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 3678 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {7821782762498712142 3 10} {565946806810957071 4 11} {6082952787233426507 4 12} {8993947979494869019 4 13} {6301785354383560405 4 14} {622106189426246719 4 15} {3686732706155266986 4 16} {3206584061930289092 4 17} {2650954544349815747 4 18} {5975778334150263616 4 19}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 77772 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 1082521835743630873 (index 20) to leader 2
client write log 5986753723089040516 (index 21) to leader 2
client write log 6297603709837160471 (index 22) to leader 2
client write log 7801293345797727535 (index 23) to leader 2
client write log 1004439907942567962 (index 24) to leader 2
client write log 7134316300060837043 (index 25) to leader 2
term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 9504 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 28662 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5400099366487261424 (index 26) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 1 not vote for server 0, 日志不够新
term 6 server 1 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 0 vote for server 2
term 6 server 2 get outdate rpc reply from server 0
flag 29418 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 60810 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 27->26
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 27->26
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 92202 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
flag 3401 term 6 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 6 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 60857 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
flag 10722 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 29420 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5625 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 20827 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
flag 35644 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 96827 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
flag 71143 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 24593 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
flag 40969 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 93485 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51055 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 75514 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80418 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 65059 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
flag 27027 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 87475 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
flag 88450 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 40664 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
flag 49659 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 8551 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
flag 36224 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 61037 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
flag 82893 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 98623 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
flag 77178 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 69905 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
flag 13117 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 41352 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
flag 68466 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 87770 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
flag 98364 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 40339 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5400099366487261424 (index 27) to leader 2
flag 80487 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 66204 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27}]
------------------------------------------------------
flag 80506 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 84200 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27}]
------------------------------------------------------
flag 28085 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 10963 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27}]
------------------------------------------------------
flag 64188 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 88626 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27}]
------------------------------------------------------
flag 33889 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 88422 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27}]
------------------------------------------------------
flag 32128 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 61126 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4806924396541876119 (index 28) to leader 2
flag 56621 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 29991 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27} {4806924396541876119 6 28}]
------------------------------------------------------
flag 26090 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 256 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27} {4806924396541876119 6 28}]
------------------------------------------------------
client write log 5363636382561375254 (index 29) to leader 2
client write log 6098147709513857734 (index 30) to leader 2
client write log 1402104480033992739 (index 31) to leader 2
client write log 1528562209608230332 (index 32) to leader 2
client write log 7957859538259281220 (index 33) to leader 2
client write log 3261276136335146760 (index 34) to leader 2
client write log 6892246999173738656 (index 35) to leader 2
client write log 6596668052816937506 (index 36) to leader 2
client write log 8455207122971551585 (index 37) to leader 2
client write log 1174994404492107120 (index 38) to leader 2
flag 91218 term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 84885 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 19} {1082521835743630873 4 20} {5986753723089040516 4 21} {6297603709837160471 4 22} {7801293345797727535 4 23} {1004439907942567962 4 24} {7134316300060837043 4 25} {5400099366487261424 4 26} {5400099366487261424 6 27} {4806924396541876119 6 28} {5363636382561375254 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=38
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 92363 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=38
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4624350359468780857 (index 39) to leader 2
term 6 server 1 not vote for server 0, 日志不够新
term 6 server 2 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 1 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 0 vote for server 2
term 8 server 2 get outdate rpc reply from server 0
flag 12259 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 77739 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 40->39
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 40->39
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 28  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 72195 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
flag 7134 term 8 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 8 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 79475 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
flag 60180 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 43572 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
flag 47567 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 90983 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80208 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 94118 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
flag 32360 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 25163 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
flag 93524 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 35008 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52220 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 27105 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
flag 72285 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 43040 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
flag 78520 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 21468 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
flag 18529 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 10828 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
flag 38078 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 80162 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
flag 12654 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 16735 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46554 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 25251 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
flag 63597 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 90236 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
flag 47593 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 28877 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
flag 60168 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 64041 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97237 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 37388 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
flag 84935 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 16752 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39}]
------------------------------------------------------
client write log 4624350359468780857 (index 40) to leader 2
flag 69684 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 87041 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39} {4624350359468780857 8 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {6098147709513857734 6 30} {1402104480033992739 6 31} {1528562209608230332 6 32} {7957859538259281220 6 33} {3261276136335146760 6 34} {6892246999173738656 6 35} {6596668052816937506 6 36} {8455207122971551585 6 37} {1174994404492107120 6 38} {4624350359468780857 6 39} {4624350359468780857 8 40}]
------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 40823 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 81834 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4624350359468780857 8 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4624350359468780857 8 40}]
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 25469 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 94047 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4624350359468780857 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4624350359468780857 8 40}]
------------------------------------------------------
flag 59610 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 10269 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4624350359468780857 8 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4624350359468780857 8 40}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93145 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 27975 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4624350359468780857 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4624350359468780857 8 40}]
------------------------------------------------------
flag 10465 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 42926 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4624350359468780857 8 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4624350359468780857 8 40}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20512 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 10770 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 60989 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 71136 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 97049 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 51148 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 vote for server 1
term 9 server 1 get vote from server 0
term 9 server 1 become leader
------------------------------------------------------
flag 87144 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 40100 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4624350359468780857 8 40}]
------------------------------------------------------
client write log 7712370767864355941 (index 41) to leader 1
flag 25255 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 13130 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 21398 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 44390 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41}]
------------------------------------------------------
flag 25603 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 62474 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 86458 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 51450 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41}]
------------------------------------------------------
client write log 431226119344208842 (index 42) to leader 1
flag 38312 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 60578 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 41->40
------------------------------------------------------
flag 33747 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42}]
------------------------------------------------------
flag 91655 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 78990 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 39430 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5216198786954069959 (index 43) to leader 1
flag 54102 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 63821 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62862 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 40 args.LastIncludedIndex 39
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60816 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 73191 term 9 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47507 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 12222 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
flag 90090 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 81877 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
flag 98237 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 44045 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56674 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 28592 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
flag 28099 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 54965 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
flag 16702 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 67309 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 654343668136656292 (index 44) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92745 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 26423 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43} {654343668136656292 9 44}]
------------------------------------------------------
flag 6577 term 9 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 17698 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43} {654343668136656292 9 44}]
------------------------------------------------------
client write log 1942555451716654870 (index 45) to leader 1
client write log 3365580663739593571 (index 46) to leader 1
client write log 6992049385090405176 (index 47) to leader 1
client write log 553294911653286919 (index 48) to leader 1
client write log 6559376433939290113 (index 49) to leader 1
client write log 6891381211509961370 (index 50) to leader 1
client write log 3853525500702246741 (index 51) to leader 1
client write log 654405601936180918 (index 52) to leader 1
client write log 5446556232040741380 (index 53) to leader 1
client write log 5548565644531332948 (index 54) to leader 1
client write log 131829519170981196 (index 55) to leader 1
client write log 3690685501576212691 (index 56) to leader 1
client write log 1473259700571724599 (index 57) to leader 1
client write log 2673802960551605468 (index 58) to leader 1
client write log 4658263199568860571 (index 59) to leader 1
flag 985 term 9 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 62901 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 39} {4624350359468780857 8 40} {7712370767864355941 9 41} {431226119344208842 9 42} {5216198786954069959 9 43} {654343668136656292 9 44} {1942555451716654870 9 45} {3365580663739593571 9 46} {6992049385090405176 9 47} {553294911653286919 9 48} {6559376433939290113 9 49} {6891381211509961370 9 50} {3853525500702246741 9 51} {654405601936180918 9 52} {5446556232040741380 9 53} {5548565644531332948 9 54} {131829519170981196 9 55} {3690685501576212691 9 56} {1473259700571724599 9 57} {2673802960551605468 9 58} {4658263199568860571 9 59}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=59
-------------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 44->43
------------------------------------------------------
flag 97738 term 9 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 43
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=59
-------------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
!!!!!!connect server 2
client write log 397880844489307588 (index 60) to leader 1
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 0 not vote for server 2, 日志不够新
term 11 server 2 vote for server 1
term 11 server 0 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
term 11 server 1 get outdate rpc reply from server 0
flag 10003 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 36156 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 61->60
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 61->60
------------------------------------------------------
flag 64378 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 44  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
flag 18045 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 89235 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65079 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 10886 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
flag 35337 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 36319 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
flag 3216 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 65444 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76162 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 56030 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31052 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 51081 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52046 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 78282 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
flag 13116 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 88430 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
flag 55011 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 80080 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64923 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 26707 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
flag 39389 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 55452 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89604 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 29940 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
flag 80770 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 80557 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
flag 35778 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 71007 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
flag 87218 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 57722 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
flag 1386 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 70429 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
flag 30069 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 47537 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
flag 29808 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 59622 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 9 59} {397880844489307588 9 60}]
------------------------------------------------------
client write log 397880844489307588 (index 61) to leader 1
flag 14080 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 83652 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20448 term 11 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 8097 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92438 term 11 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 94327 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61}]
------------------------------------------------------
flag 58039 term 11 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 17436 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61}]
------------------------------------------------------
flag 39085 term 11 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 79726 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61}]
------------------------------------------------------
flag 1119 term 11 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 37610 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73200 term 11 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 30474 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7069780072365334495 (index 62) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13810 term 11 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 82157 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61} {7069780072365334495 11 62}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4445 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 77230 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61} {7069780072365334495 11 62}]
------------------------------------------------------
client write log 4870437942901346968 (index 63) to leader 1
client write log 1626938168823059927 (index 64) to leader 1
client write log 1284434310409162325 (index 65) to leader 1
client write log 1579251738892667244 (index 66) to leader 1
client write log 1248390511095299926 (index 67) to leader 1
client write log 7941904685771650071 (index 68) to leader 1
client write log 3269302376352566836 (index 69) to leader 1
client write log 7566165657915148798 (index 70) to leader 1
client write log 697620375196758121 (index 71) to leader 1
client write log 1778893512822880375 (index 72) to leader 1
client write log 3206013429147663655 (index 73) to leader 1
client write log 8597192975462016164 (index 74) to leader 1
client write log 8851101332783685958 (index 75) to leader 1
client write log 1241832745838090514 (index 76) to leader 1
client write log 3277245898174418601 (index 77) to leader 1
flag 77689 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 38646 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 59} {397880844489307588 9 60} {397880844489307588 11 61} {7069780072365334495 11 62} {4870437942901346968 11 63} {1626938168823059927 11 64} {1284434310409162325 11 65} {1579251738892667244 11 66} {1248390511095299926 11 67} {7941904685771650071 11 68} {3269302376352566836 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=77
-------------------------------------------------------------
flag 14490 term 11 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 11 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=77
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5618930302402967124 (index 78) to leader 1
flag 18210 term 11 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 11 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 12 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
flag 96999 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 46416 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 79->78
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
flag 89093 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37075 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 73280 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
flag 56683 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 27262 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
flag 32920 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 99678 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
flag 59935 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 18159 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
flag 93206 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 66989 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
flag 34098 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 31731 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79690 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 16468 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
flag 87022 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 92334 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57096 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 93502 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
flag 44483 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 27832 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87727 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 22464 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
flag 13647 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 98165 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
flag 85669 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 83545 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
flag 7218 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 57585 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 2
flag 12006 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 53476 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51030 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 9456 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24368 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 18002 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78}]
------------------------------------------------------
client write log 5618930302402967124 (index 79) to leader 1
flag 79915 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 96643 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78} {5618930302402967124 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 69} {7566165657915148798 11 70} {697620375196758121 11 71} {1778893512822880375 11 72} {3206013429147663655 11 73} {8597192975462016164 11 74} {8851101332783685958 11 75} {1241832745838090514 11 76} {3277245898174418601 11 77} {5618930302402967124 11 78} {5618930302402967124 13 79}]
------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 40103 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 18891 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 Server2 start snapshot! index=79
term 13 Server0 start snapshot! index=79
term 13 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 13 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 5087 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 20511 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
flag 92852 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 79919 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
flag 96239 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 26940 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
flag 26412 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 61241 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
flag 81389 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 71912 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 67953 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 22044 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 82772 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 40032 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63931 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 46674 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
flag 48291 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 41387 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 50415 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 45587 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
client write log 5526342721776675385 (index 80) to leader 0
flag 57248 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 80397 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 99456 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 45624 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {5526342721776675385 14 80}]
------------------------------------------------------
flag 52554 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 37950 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 18264 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 92354 term 14 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {5526342721776675385 14 80}]
------------------------------------------------------
client write log 619151028854360967 (index 81) to leader 0
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 80->79
------------------------------------------------------
flag 29676 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 79
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 88489 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 13253 term 14 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
flag 60538 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 54468 term 14 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 85122 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 79
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7267930226679291637 (index 80) to leader 1
term 13 server 1 not vote for server 0, 日志不够新
term 14 server 0 get outdate rpc reply from server 1
flag 38300 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 82508 term 14 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 not vote for server 1, 日志不够新
term 15 server 1 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 15 server 0 not vote for server 1, 日志不够新
term 15 server 2 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 vote for server 2
term 16 server 0 vote for server 2
term 16 server 2 get vote from server 1
term 16 server 2 become leader
------------------------------------------------------
term 16 server 2 get outdate rpc reply from server 0
flag 39823 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 76570 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 82->81
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
flag 95834 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 48627 term 16 leader 2 nextIndex[1]: 81  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 81->80
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
flag 79475 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 1 InstallSnapshot fail
rf.commitIndex 79 args.LastIncludedIndex 79
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99967 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 59634 term 16 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 16 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
flag 37460 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 62496 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
flag 49866 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 31555 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29370 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 20510 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
flag 44345 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 85712 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23307 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 54646 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
flag 73337 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 4221 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
flag 3451 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 15259 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17974 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 42924 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
flag 31216 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 83568 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
flag 7927 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 51861 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
flag 62022 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 50940 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
flag 23032 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 32358 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81}]
------------------------------------------------------
client write log 7267930226679291637 (index 82) to leader 2
flag 60611 term 16 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 60934 term 16 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82}]
------------------------------------------------------
flag 19497 term 16 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 37204 term 16 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82}]
------------------------------------------------------
term 16 server 0 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 0
flag 84682 term 16 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 94759 term 16 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82}]
------------------------------------------------------
flag 69220 term 16 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 83932 term 16 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82}]
------------------------------------------------------
flag 13438 term 16 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 99850 term 16 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82}]
------------------------------------------------------
flag 34919 term 16 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 46261 term 16 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7072559132992477822 (index 83) to leader 2
flag 25172 term 16 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 30065 term 16 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82} {7072559132992477822 16 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84098 term 16 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 16999 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82} {7072559132992477822 16 83}]
------------------------------------------------------
client write log 5308193968648748672 (index 84) to leader 2
client write log 8241214287307155604 (index 85) to leader 2
client write log 6386020165806598721 (index 86) to leader 2
client write log 3941712376289832915 (index 87) to leader 2
client write log 7417093180384425124 (index 88) to leader 2
client write log 464888698640355108 (index 89) to leader 2
client write log 5141085244275370915 (index 90) to leader 2
client write log 413253593269463039 (index 91) to leader 2
flag 25971 term 16 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 75534 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 79} {5526342721776675385 14 80} {619151028854360967 14 81} {7267930226679291637 16 82} {7072559132992477822 16 83} {5308193968648748672 16 84} {8241214287307155604 16 85} {6386020165806598721 16 86} {3941712376289832915 16 87} {7417093180384425124 16 88} {464888698640355108 16 89} {5141085244275370915 16 90} {413253593269463039 16 91}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=91
-------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 35441 term 16 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=91
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6752083933963725095 (index 92) to leader 2
term 16 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 55589 term 16 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
term 17 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 1 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
term 18 server 0 vote for server 2
term 18 server 2 get outdate rpc reply from server 0
flag 26888 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 15992 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 93->92
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 83  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 14573 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
Server0 get CondInstallSnapshot!
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
flag 56556 term 18 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 18 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 44344 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
flag 76780 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 26623 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
update nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
flag 74690 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 75145 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
flag 6633 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 18528 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31294 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 26268 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32773 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 50568 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66379 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 82437 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8087887641127365761 (index 93) to leader 2
flag 11050 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 27730 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92} {8087887641127365761 18 93}]
------------------------------------------------------
flag 12628 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 72996 term 18 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 18 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92} {8087887641127365761 18 93}]
------------------------------------------------------
client write log 9121428546983719401 (index 94) to leader 2
client write log 4087421406157421756 (index 95) to leader 2
client write log 8376903220286777846 (index 96) to leader 2
client write log 8030391805741676712 (index 97) to leader 2
client write log 3000304887800652210 (index 98) to leader 2
client write log 4736428676220919370 (index 99) to leader 2
flag 49996 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 86707 term 18 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 18 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 89} {5141085244275370915 16 90} {413253593269463039 16 91} {6752083933963725095 16 92} {8087887641127365761 18 93} {9121428546983719401 18 94} {4087421406157421756 18 95} {8376903220286777846 18 96} {8030391805741676712 18 97} {3000304887800652210 18 98} {4736428676220919370 18 99}]
------------------------------------------------------
term 18 Server2 start snapshot! index=99
term 18 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 59309 term 18 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 18 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
term 18 Server1 start snapshot! index=99
term 18 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4321563000740119069 (index 100) to leader 2
term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 2670 term 18 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 18 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
term 19 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 server 0 vote for server 2
term 20 server 1 vote for server 2
term 20 server 2 get vote from server 0
term 20 server 2 become leader
------------------------------------------------------
term 20 server 2 get outdate rpc reply from server 1
flag 94548 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 33182 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 101->100
------------------------------------------------------
term 20 leader 2 nextIndex[0]: 93  matchIndex[0]: 0
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 53793 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 20 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 18 rf.commitIndex 99 rf.lastApplied 99
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
flag 62126 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 40441 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84044 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 10225 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
flag 18053 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 61961 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
flag 61762 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 85536 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
flag 73379 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 66775 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44891 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 84434 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
term 20 server 1 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 1
!!!!!!diconnect server 2
flag 39958 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 55500 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 13048 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 20843 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47676 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 53745 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 83215 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 27301 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 21 server 1 vote for server 0
term 21 server 0 get vote from server 1
term 21 server 0 become leader
------------------------------------------------------
flag 53375 term 21 leader 0 nextIndex[1]: 101  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 91202 term 21 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {4321563000740119069 18 100}]
------------------------------------------------------
client write log 8544846902090474681 (index 101) to leader 0
flag 47184 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 94573 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 81812 term 21 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 21 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 76140 term 21 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 18 99} {4321563000740119069 18 100} {8544846902090474681 21 101}]
------------------------------------------------------
flag 76117 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 25287 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 20295 term 21 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 21 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 21 leaderCommit: 101 
------------------------------------------------------
flag 19650 term 21 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 101 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 18 99} {4321563000740119069 18 100} {8544846902090474681 21 101}]
------------------------------------------------------
client write log 7545314010869038961 (index 102) to leader 0
client write log 7261343344802507698 (index 103) to leader 0
client write log 5998278187268987274 (index 104) to leader 0
client write log 8522463954599267615 (index 105) to leader 0
client write log 1898083690526762570 (index 106) to leader 0
client write log 6810546728203968693 (index 107) to leader 0
client write log 1146957310506878434 (index 108) to leader 0
client write log 3260202174844460808 (index 109) to leader 0
client write log 3399624544093511278 (index 110) to leader 0
client write log 8831103885458271919 (index 111) to leader 0
client write log 3393993101683734506 (index 112) to leader 0
client write log 3940845885833827369 (index 113) to leader 0
flag 26242 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 77555 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 86953 term 21 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 21 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 21 leaderCommit: 101 
------------------------------------------------------
flag 46366 term 21 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 101 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 99} {4321563000740119069 18 100} {8544846902090474681 21 101} {7545314010869038961 21 102} {7261343344802507698 21 103} {5998278187268987274 21 104} {8522463954599267615 21 105} {1898083690526762570 21 106} {6810546728203968693 21 107} {1146957310506878434 21 108} {3260202174844460808 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
term 21 Server0 start snapshot! index=109
term 21 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=113
-------------------------------------------------------------
flag 18328 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 28019 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 22397 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
term 21 Server1 start snapshot! index=109
term 21 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=113
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2634793136745480771 (index 101) to leader 2
flag 7730 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 10785 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 21 server 1 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
term 21 server 0 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65952 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 21 rf.commitIndex 109 rf.lastApplied 109
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
flag 83564 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 85599 term 21 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 21 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
flag 268 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 26411 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97695 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 31540 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94243 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 90035 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73449 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 61539 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66854 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 37698 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
flag 48475 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 62284 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58336 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 95047 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
flag 37898 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 1959 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 114->113
------------------------------------------------------
flag 57318 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 leader 0 nextIndex[2]: 0  matchIndex[2]: 113
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 2 InstallSnapshot fail
rf.commitIndex 113 args.LastIncludedIndex 109
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
flag 71748 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 92750 term 21 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 21 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66891 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 94566 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
flag 17975 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 64486 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
flag 20461 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 65767 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
flag 56439 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 58006 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31176 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 70280 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
flag 64989 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 10151 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
flag 54655 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 84794 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
term 21 server 1 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 1
flag 88368 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 67750 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
update nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113}]
------------------------------------------------------
client write log 2634793136745480771 (index 114) to leader 0
flag 48006 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 34823 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114}]
------------------------------------------------------
flag 38332 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 60220 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76139 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 59759 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95282 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 31520 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114}]
------------------------------------------------------
flag 43051 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 26581 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45141 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 18333 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4913074579283170865 (index 115) to leader 0
flag 57050 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 98149 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114} {4913074579283170865 21 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19018 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 3293 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114} {4913074579283170865 21 115}]
------------------------------------------------------
client write log 2828104571851463299 (index 116) to leader 0
client write log 1329696934179894611 (index 117) to leader 0
client write log 6077732158087602102 (index 118) to leader 0
client write log 1046981605623454375 (index 119) to leader 0
client write log 805179708096431877 (index 120) to leader 0
client write log 5022072155347175026 (index 121) to leader 0
client write log 6054050465568813098 (index 122) to leader 0
client write log 2330134510120554178 (index 123) to leader 0
client write log 8390004763675890929 (index 124) to leader 0
client write log 4375686743752637397 (index 125) to leader 0
client write log 3671616376246858724 (index 126) to leader 0
client write log 6193449591973604523 (index 127) to leader 0
flag 62503 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 47233 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 109} {3399624544093511278 21 110} {8831103885458271919 21 111} {3393993101683734506 21 112} {3940845885833827369 21 113} {2634793136745480771 21 114} {4913074579283170865 21 115} {2828104571851463299 21 116} {1329696934179894611 21 117} {6077732158087602102 21 118} {1046981605623454375 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127}]
------------------------------------------------------
term 21 Server0 start snapshot! index=119
term 21 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=127
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 87103 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=127
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2479472687606085790 (index 128) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 88014 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 2 not vote for server 0, 任期不够新
term 21 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 1
term 23 server 0 become leader
------------------------------------------------------
term 23 server 2 vote for server 0
term 23 server 0 get outdate rpc reply from server 2
flag 27120 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 33718 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 129->128
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 leader 0 nextIndex[1]: 115  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 35765 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
flag 77708 term 23 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 84729 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89400 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 30936 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
flag 65042 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 35101 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
term 23 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66535 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 12214 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
flag 44192 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 54249 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18806 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 40160 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53956 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 26342 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1843875556051407873 (index 129) to leader 0
flag 33358 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 49148 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 21 119} {805179708096431877 21 120} {5022072155347175026 21 121} {6054050465568813098 21 122} {2330134510120554178 21 123} {8390004763675890929 21 124} {4375686743752637397 21 125} {3671616376246858724 21 126} {6193449591973604523 21 127} {2479472687606085790 21 128} {1843875556051407873 23 129}]
------------------------------------------------------
term 23 Server0 start snapshot! index=129
term 23 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 23210 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
client write log 7951394000608681240 (index 130) to leader 0
client write log 737063901299760736 (index 131) to leader 0
client write log 7987118261534813889 (index 132) to leader 0
client write log 3874145128332573319 (index 133) to leader 0
client write log 234066666383902586 (index 134) to leader 0
client write log 3974208902129078390 (index 135) to leader 0
client write log 4726613999438497530 (index 136) to leader 0
client write log 1943211594499001221 (index 137) to leader 0
client write log 7768857152628689715 (index 138) to leader 0
client write log 1356135379012259401 (index 139) to leader 0
client write log 7484717290468018678 (index 140) to leader 0
client write log 6696444429168179377 (index 141) to leader 0
client write log 2363854609800549926 (index 142) to leader 0
term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 21710 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 129} {7951394000608681240 23 130} {737063901299760736 23 131} {7987118261534813889 23 132} {3874145128332573319 23 133} {234066666383902586 23 134} {3974208902129078390 23 135} {4726613999438497530 23 136} {1943211594499001221 23 137} {7768857152628689715 23 138} {1356135379012259401 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142}]
------------------------------------------------------
term 23 Server0 start snapshot! index=139
term 23 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=142
-------------------------------------------------------------
term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 2962 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142}]
------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=142
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5407166151100384608 (index 143) to leader 0
term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 19569 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 0 become leader
------------------------------------------------------
term 25 server 1 vote for server 0
term 25 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81274 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 3876 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 144->143
------------------------------------------------------
term 25 server 0 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 0
term 25 leader 0 nextIndex[1]: 129  matchIndex[1]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 26864 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
term 25 server 1 InstallSnapshot success
------------------------------------------------------
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 23 rf.commitIndex 139 rf.lastApplied 139
flag 50131 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 84990 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
flag 72267 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 51729 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
flag 15084 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 29750 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
term 25 server 2 not vote for server 0, 任期不够新
term 25 server 0 get outdate rpc reply from server 2
flag 72411 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 58167 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68579 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 64835 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
flag 97243 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 73278 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
flag 46653 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 42913 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 42375 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 99076 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 144->143
------------------------------------------------------
flag 7986 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 143
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 26 server 1 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
flag 21530 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 143
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 6051 term 26 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 96214 term 26 leader 2 nextIndex[1]: 144  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143}]
------------------------------------------------------
client write log 4823542833064506037 (index 144) to leader 2
flag 66523 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 143
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 51278 term 26 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 77180 term 26 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144}]
------------------------------------------------------
flag 68372 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 143
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 80664 term 26 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 68542 term 26 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 26 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 26 leaderCommit: 144 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144}]
------------------------------------------------------
client write log 8128045803910091391 (index 145) to leader 2
flag 72114 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 143
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 18847 term 26 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 98331 term 26 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 26 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 26 leaderCommit: 144 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145}]
------------------------------------------------------
flag 97918 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 143
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49627 term 26 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 145 
------------------------------------------------------
flag 38465 term 26 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 26 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 26 leaderCommit: 145 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 2094586216637349201 (index 146) to leader 2
flag 739 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 143
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 26 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 1 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75295 term 26 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 145 
------------------------------------------------------
flag 34282 term 26 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 26 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 26 leaderCommit: 145 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
term 26 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146}]
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 147->146
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 146
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 51122 term 26 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146}]
------------------------------------------------------
term 26 server 0 InstallSnapshot fail
rf.commitIndex 143 args.LastIncludedIndex 139
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
flag 37479 term 26 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 146 
------------------------------------------------------
flag 89133 term 26 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146}]
------------------------------------------------------
flag 99169 term 26 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
flag 62391 term 26 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81750 term 26 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
flag 37317 term 26 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146}]
------------------------------------------------------
term 26 server 2 not vote for server 1, 任期不够新
term 26 server 1 get outdate rpc reply from server 2
term 26 server 2 not vote for server 1, 任期不够新
term 26 server 1 get outdate rpc reply from server 2
flag 72359 term 26 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
flag 70132 term 26 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41753 term 26 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
flag 5933 term 26 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 9062039559013347402 (index 147) to leader 2
flag 33 term 26 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
flag 36806 term 26 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146} {9062039559013347402 26 147}]
------------------------------------------------------
flag 70377 term 26 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 23733 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146} {9062039559013347402 26 147}]
------------------------------------------------------
client write log 4948328099034492458 (index 148) to leader 2
client write log 1161425101015316419 (index 149) to leader 2
client write log 9020163645030903687 (index 150) to leader 2
client write log 837154433843869470 (index 151) to leader 2
client write log 1090463987366598884 (index 152) to leader 2
client write log 2437873584377074528 (index 153) to leader 2
flag 22397 term 26 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 70496 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 23 139} {7484717290468018678 23 140} {6696444429168179377 23 141} {2363854609800549926 23 142} {5407166151100384608 23 143} {4823542833064506037 26 144} {8128045803910091391 26 145} {2094586216637349201 26 146} {9062039559013347402 26 147} {4948328099034492458 26 148} {1161425101015316419 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153}]
------------------------------------------------------
term 26 Server2 start snapshot! index=149
term 26 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=153
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 41784 term 26 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153}]
------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=153
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3998638558626238344 (index 154) to leader 2
term 26 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 46917 term 26 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
term 27 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get outdate rpc reply from server 0
flag 95203 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 42354 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 155->154
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 147  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 11264 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
flag 12139 term 28 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 3834 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
------------------------------------------------------
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
flag 85510 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 5134 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
flag 49003 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 71246 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
flag 65954 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 77926 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
flag 31476 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 66972 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
flag 18309 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 37686 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62432 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 78243 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3018896303974512447 (index 155) to leader 2
flag 25838 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 66572 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154} {3018896303974512447 28 155}]
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33492 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 28628 term 28 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154} {3018896303974512447 28 155}]
------------------------------------------------------
client write log 1675846697624190832 (index 156) to leader 2
client write log 8793263183981479667 (index 157) to leader 2
client write log 8746277643214895204 (index 158) to leader 2
client write log 7153569563824357209 (index 159) to leader 2
client write log 7409445525702796275 (index 160) to leader 2
client write log 4948032925061703305 (index 161) to leader 2
client write log 193090120740226860 (index 162) to leader 2
client write log 3518559687006131831 (index 163) to leader 2
client write log 1345156961016369588 (index 164) to leader 2
client write log 8116037971289285131 (index 165) to leader 2
client write log 5631351662317414899 (index 166) to leader 2
client write log 6105639156459687821 (index 167) to leader 2
client write log 1274758447328660802 (index 168) to leader 2
flag 99638 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
flag 5919 term 28 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 149} {9020163645030903687 26 150} {837154433843869470 26 151} {1090463987366598884 26 152} {2437873584377074528 26 153} {3998638558626238344 26 154} {3018896303974512447 28 155} {1675846697624190832 28 156} {8793263183981479667 28 157} {8746277643214895204 28 158} {7153569563824357209 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168}]
------------------------------------------------------
term 28 Server2 start snapshot! index=159
term 28 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=168
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
flag 41252 term 28 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168}]
------------------------------------------------------
term 28 Server1 start snapshot! index=159
term 28 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=168
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8595977500707835496 (index 169) to leader 2
term 28 server 2 not vote for server 0, 日志不够新
term 28 server 1 not vote for server 0, 日志不够新
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 1 vote for server 2
term 30 server 2 get vote from server 1
term 30 server 2 become leader
------------------------------------------------------
term 30 server 0 vote for server 2
term 30 server 2 get outdate rpc reply from server 0
flag 16424 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 26219 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 170->169
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 170->169
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 155  matchIndex[0]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
flag 81137 term 30 leader 2 nextIndex[1]: 169  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
term 30 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 28 rf.commitIndex 159 rf.lastApplied 159
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
flag 51976 term 30 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 99730 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88881 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 14653 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
flag 26010 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 37355 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
flag 6289 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 64264 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
flag 33118 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 82449 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
flag 72754 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 67350 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31630 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 71979 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
flag 26763 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 20197 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
update nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
flag 6485 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 27701 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 0 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 0
flag 60850 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 53341 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94940 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 40403 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85291 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 26379 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
flag 11754 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 84183 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
flag 27465 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 69468 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
term 30 server 0 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 0
flag 11433 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 11038 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60919 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 34106 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8951 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 73005 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17134 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 68637 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169}]
------------------------------------------------------
client write log 8595977500707835496 (index 170) to leader 2
flag 41537 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 37685 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169} {8595977500707835496 30 170}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 159} {7409445525702796275 28 160} {4948032925061703305 28 161} {193090120740226860 28 162} {3518559687006131831 28 163} {1345156961016369588 28 164} {8116037971289285131 28 165} {5631351662317414899 28 166} {6105639156459687821 28 167} {1274758447328660802 28 168} {8595977500707835496 28 169} {8595977500707835496 30 170}]
------------------------------------------------------
term 30 Server2 start snapshot! index=169
term 30 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
flag 77220 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 95159 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {8595977500707835496 30 170}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {8595977500707835496 30 170}]
------------------------------------------------------
term 30 Server1 start snapshot! index=169
term 30 Server0 start snapshot! index=169
term 30 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
term 30 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34406 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 20688 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {8595977500707835496 30 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {8595977500707835496 30 170}]
------------------------------------------------------
flag 97658 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 9875 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {8595977500707835496 30 170}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {8595977500707835496 30 170}]
------------------------------------------------------
flag 79905 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 7358 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {8595977500707835496 30 170}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {8595977500707835496 30 170}]
------------------------------------------------------
flag 29267 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 19921 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {8595977500707835496 30 170}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {8595977500707835496 30 170}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 34745 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 22024 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 80679 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 14376 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16048 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 66929 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 68109 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 79805 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 31 server 0 vote for server 1
term 31 server 1 get vote from server 0
term 31 server 1 become leader
------------------------------------------------------
term 31 server 1 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 1
client write log 7840369479804962419 (index 171) to leader 1
flag 2957 term 31 leader 1 nextIndex[0]: 171  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 52001 term 31 leader 1 nextIndex[2]: 171  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171}]
------------------------------------------------------
flag 21673 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 83039 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 660 term 31 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 90823 term 31 leader 1 nextIndex[2]: 171  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171}]
------------------------------------------------------
client write log 6660567802188245710 (index 172) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 171->170
------------------------------------------------------
flag 64104 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 leader 2 nextIndex[1]: 0  matchIndex[1]: 170
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 19292 term 31 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 65206 term 31 leader 1 nextIndex[2]: 171  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172}]
------------------------------------------------------
flag 26459 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 leader 2 nextIndex[1]: 0  matchIndex[1]: 170
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 30 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 170->169
------------------------------------------------------
flag 59277 term 31 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 23241 term 31 leader 1 nextIndex[2]: 171  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8619449748389020355 (index 173) to leader 1
flag 41365 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 leader 2 nextIndex[1]: 0  matchIndex[1]: 169
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 31 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 0 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12463 term 31 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 44682 term 31 leader 1 nextIndex[2]: 171  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173}]
------------------------------------------------------
flag 97437 term 31 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 24115 term 31 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5417 term 31 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 7298 term 31 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173}]
------------------------------------------------------
flag 29412 term 31 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 22685 term 31 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2398 term 31 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 91127 term 31 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38497 term 31 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 85121 term 31 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173}]
------------------------------------------------------
flag 58329 term 31 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 82826 term 31 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6807833826383825528 (index 174) to leader 1
term 31 server 2 not vote for server 0, 任期不够新
flag 967 term 31 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 30387 term 31 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173} {6807833826383825528 31 174}]
------------------------------------------------------
flag 72207 term 31 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
flag 8240 term 31 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173} {6807833826383825528 31 174}]
------------------------------------------------------
client write log 222627432210469344 (index 175) to leader 1
client write log 3742049109643050372 (index 176) to leader 1
client write log 8858584960115127891 (index 177) to leader 1
client write log 6193367723603738908 (index 178) to leader 1
client write log 4131950308346712056 (index 179) to leader 1
client write log 1420296397862135956 (index 180) to leader 1
client write log 3136369067693543278 (index 181) to leader 1
client write log 2373375740874601139 (index 182) to leader 1
client write log 2481851694751982340 (index 183) to leader 1
client write log 2551225391402291850 (index 184) to leader 1
client write log 2287564234999025671 (index 185) to leader 1
flag 89327 term 31 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
flag 54489 term 31 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 28 169} {8595977500707835496 30 170} {7840369479804962419 31 171} {6660567802188245710 31 172} {8619449748389020355 31 173} {6807833826383825528 31 174} {222627432210469344 31 175} {3742049109643050372 31 176} {8858584960115127891 31 177} {6193367723603738908 31 178} {4131950308346712056 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185}]
------------------------------------------------------
term 31 Server1 start snapshot! index=179
term 31 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
flag 13886 term 31 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185}]
------------------------------------------------------
term 31 Server0 start snapshot! index=179
term 31 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2399403244248541907 (index 186) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 not vote for server 2, 日志不够新
term 31 server 0 not vote for server 2, 日志不够新
term 33 server 2 vote for server 1
term 33 server 0 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 1 get outdate rpc reply from server 0
flag 62559 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 10477 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 187->186
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 187->186
------------------------------------------------------
flag 69184 term 33 leader 1 nextIndex[0]: 186  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 174  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 31 rf.commitIndex 179 rf.lastApplied 179
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
flag 27689 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 62408 term 33 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
flag 76724 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 87547 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
flag 13423 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 55748 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
flag 56215 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 41771 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97145 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 33446 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
flag 53981 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 99603 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
flag 78969 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 59397 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82417 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 72773 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66377 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 50655 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
flag 83618 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 51109 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
flag 11381 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 38188 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
flag 10042 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 6456 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39022 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 66175 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
flag 35997 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 73962 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
flag 32731 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 25073 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47253 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 4270 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
flag 58268 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 44471 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
flag 96977 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 82035 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186}]
------------------------------------------------------
client write log 2399403244248541907 (index 187) to leader 1
flag 17419 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 64594 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187}]
------------------------------------------------------
flag 86701 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 53952 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187}]
------------------------------------------------------
flag 81238 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 59850 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187}]
------------------------------------------------------
flag 11950 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 5311 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187}]
------------------------------------------------------
term 33 server 2 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49855 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 56254 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94966 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 95180 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 240405725601526042 (index 188) to leader 1
flag 68683 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 94182 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187} {240405725601526042 33 188}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71290 term 33 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 33 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 62773 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187} {240405725601526042 33 188}]
------------------------------------------------------
client write log 5176197245678874652 (index 189) to leader 1
client write log 6606112095883317443 (index 190) to leader 1
client write log 7708206463033902971 (index 191) to leader 1
client write log 2495864370944777340 (index 192) to leader 1
client write log 1081721676110064212 (index 193) to leader 1
client write log 5882463950635401728 (index 194) to leader 1
flag 29361 term 33 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 33 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 59780 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 179} {1420296397862135956 31 180} {3136369067693543278 31 181} {2373375740874601139 31 182} {2481851694751982340 31 183} {2551225391402291850 31 184} {2287564234999025671 31 185} {2399403244248541907 31 186} {2399403244248541907 33 187} {240405725601526042 33 188} {5176197245678874652 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194}]
------------------------------------------------------
term 33 Server1 start snapshot! index=189
term 33 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=194
-------------------------------------------------------------
flag 18561 term 33 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194}]
------------------------------------------------------
term 33 Server0 start snapshot! index=189
term 33 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=194
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6155612580334061489 (index 195) to leader 1
term 33 server 1 not vote for server 2, 日志不够新
term 33 server 0 not vote for server 2, 日志不够新
term 35 server 2 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
term 35 server 0 vote for server 1
term 35 server 1 get outdate rpc reply from server 0
flag 40392 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 28202 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 196->195
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 196->195
------------------------------------------------------
flag 49081 term 35 leader 1 nextIndex[0]: 195  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 188  matchIndex[2]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 33 rf.commitIndex 189 rf.lastApplied 189
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99875 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 67802 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
flag 79282 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 74057 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33190 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 70766 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32737 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 46215 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
flag 17575 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 78987 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
flag 65146 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 98344 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
flag 89301 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 82161 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
flag 47067 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 91576 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
flag 6602 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 90297 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
flag 65358 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 91677 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
flag 18975 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 62746 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
flag 50151 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 38173 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
flag 56263 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 5703 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
flag 8242 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 48994 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99716 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 60957 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
flag 86872 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 95333 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
flag 78064 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 75576 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195}]
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45644 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 16496 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
client write log 6155612580334061489 (index 196) to leader 1
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7889 term 35 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 87734 term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61047 term 35 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 31619 term 35 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 not vote for server 0, 任期不够新
term 35 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65902 term 35 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 86082 term 35 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
flag 3453 term 35 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 7954 term 35 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
flag 54017 term 35 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 51980 term 35 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
flag 98947 term 35 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 12985 term 35 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
leader 1 sendAppendEntries -> server 2 true------------------------------------------------------
update nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53362 term 35 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 77177 term 35 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 86602 term 35 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 5975 term 35 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 2855 term 35 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 72686 term 35 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 75063 term 35 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 30497 term 35 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 0 vote for server 2
term 36 server 2 get vote from server 0
term 36 server 2 become leader
------------------------------------------------------
flag 98481 term 36 leader 2 nextIndex[0]: 197  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 77658 term 36 leader 2 nextIndex[1]: 197  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196}]
------------------------------------------------------
client write log 2478397290294814701 (index 197) to leader 2
flag 44821 term 35 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 18971 term 35 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 197->196
------------------------------------------------------
flag 27889 term 36 leader 2 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 92666 term 36 leader 2 nextIndex[1]: 197  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196} {2478397290294814701 36 197}]
------------------------------------------------------
flag 55437 term 35 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 0  matchIndex[2]: 196
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 197->196
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83205 term 36 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 36 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 40566 term 36 leader 2 nextIndex[1]: 197  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196} {2478397290294814701 36 197}]
------------------------------------------------------
client write log 2908640882641727745 (index 198) to leader 2
client write log 753431172101559515 (index 199) to leader 2
client write log 5116002743695890158 (index 200) to leader 2
client write log 6745701368489505759 (index 201) to leader 2
client write log 8514372439731305878 (index 202) to leader 2
client write log 8670018028034487121 (index 203) to leader 2
client write log 8733097820327008169 (index 204) to leader 2
client write log 3098348408204206034 (index 205) to leader 2
client write log 7767954693023039078 (index 206) to leader 2
client write log 1965908488571096911 (index 207) to leader 2
client write log 3807013425996930596 (index 208) to leader 2
client write log 5838865544965984575 (index 209) to leader 2
client write log 4827628515582205746 (index 210) to leader 2
client write log 7103877122470876572 (index 211) to leader 2
client write log 6215122422579718286 (index 212) to leader 2
term 35 leader 1 nextIndex[0]: 0  matchIndex[0]: 196
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 0  matchIndex[2]: 196
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
flag 94965 term 36 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 36 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 12268 term 36 leader 2 nextIndex[1]: 197  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 33 189} {6606112095883317443 33 190} {7708206463033902971 33 191} {2495864370944777340 33 192} {1081721676110064212 33 193} {5882463950635401728 33 194} {6155612580334061489 33 195} {6155612580334061489 35 196} {2478397290294814701 36 197} {2908640882641727745 36 198} {753431172101559515 36 199} {5116002743695890158 36 200} {6745701368489505759 36 201} {8514372439731305878 36 202} {8670018028034487121 36 203} {8733097820327008169 36 204} {3098348408204206034 36 205} {7767954693023039078 36 206} {1965908488571096911 36 207} {3807013425996930596 36 208} {5838865544965984575 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 36 Server2 start snapshot! index=199
term 36 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=212
-------------------------------------------------------------
term 36 Server2 start snapshot! index=209
term 36 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=212
-------------------------------------------------------------
term 35 leader 1 nextIndex[0]: 0  matchIndex[0]: 196
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 0  matchIndex[2]: 196
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 46113 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 197  matchIndex[1]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 36 Server0 start snapshot! index=199
term 36 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=212
-------------------------------------------------------------
term 36 Server0 start snapshot! index=209
term 36 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=212
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6309645648085986226 (index 197) to leader 1
term 35 leader 1 nextIndex[0]: 0  matchIndex[0]: 196
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 0  matchIndex[2]: 196
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 36 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50607 term 36 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 197  matchIndex[1]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 36 rf.commitIndex 209 rf.lastApplied 209
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 36 server 2 not vote for server 1, 日志不够新
term 36 server 0 not vote for server 1, 日志不够新
term 38 server 1 vote for server 2
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 2 get outdate rpc reply from server 0
flag 77621 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 15127 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 213->212
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
flag 77641 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 63933 term 38 leader 2 nextIndex[1]: 210  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12404 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 49361 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
flag 90760 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 48888 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
flag 97640 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 6453 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16948 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 63672 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
flag 19322 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 54474 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
flag 86770 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 52076 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
flag 41848 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 45328 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
flag 459 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 11044 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46822 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 27016 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
flag 88928 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 53059 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
flag 73259 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 16275 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 49189 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 74999 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
flag 14358 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 14779 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
flag 28682 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 36990 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66482 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 18293 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
flag 46180 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 12296 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
flag 46295 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 17455 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212}]
------------------------------------------------------
client write log 6309645648085986226 (index 213) to leader 2
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88447 term 38 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 16113 term 38 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 38 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213}]
------------------------------------------------------
flag 10565 term 38 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 21325 term 38 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213}]
------------------------------------------------------
flag 83068 term 38 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 80693 term 38 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213}]
------------------------------------------------------
flag 82826 term 38 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 82967 term 38 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213}]
------------------------------------------------------
flag 65258 term 38 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 1987 term 38 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213}]
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7742 term 38 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 68716 term 38 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6703245917139893294 (index 214) to leader 2
flag 93815 term 38 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 7722 term 38 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 38 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213} {6703245917139893294 38 214}]
------------------------------------------------------
flag 11793 term 38 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 45940 term 38 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 38 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213} {6703245917139893294 38 214}]
------------------------------------------------------
client write log 4057203036358132644 (index 215) to leader 2
client write log 7548540814290932503 (index 216) to leader 2
client write log 1862759106157982823 (index 217) to leader 2
client write log 4359336875952575479 (index 218) to leader 2
client write log 1238982849154706538 (index 219) to leader 2
client write log 7016864831982032057 (index 220) to leader 2
client write log 5278689409680026230 (index 221) to leader 2
client write log 2266050019331495044 (index 222) to leader 2
client write log 7578251693841217505 (index 223) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64278 term 38 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 69039 term 38 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 38 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 36 209} {4827628515582205746 36 210} {7103877122470876572 36 211} {6215122422579718286 36 212} {6309645648085986226 38 213} {6703245917139893294 38 214} {4057203036358132644 38 215} {7548540814290932503 38 216} {1862759106157982823 38 217} {4359336875952575479 38 218} {1238982849154706538 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223}]
------------------------------------------------------
term 38 Server2 start snapshot! index=219
term 38 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=223
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 38
------------------------------------------------------
flag 26450 term 38 leader 2 nextIndex[1]: 224  matchIndex[1]: 223
term 38 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223}]
------------------------------------------------------
term 38 Server1 start snapshot! index=219
term 38 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=223
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7950626049595406181 (index 224) to leader 2
term 38 server 2 not vote for server 0, 日志不够新
term 38 server 1 not vote for server 0, 日志不够新
term 40 server 1 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 0 vote for server 2
term 40 server 2 get outdate rpc reply from server 0
flag 3009 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 31121 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 225->224
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 225->224
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 214  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 38
------------------------------------------------------
flag 67568 term 40 leader 2 nextIndex[1]: 224  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 38 rf.commitIndex 219 rf.lastApplied 219
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
flag 23222 term 40 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 40 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 2472 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
flag 12536 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 6341 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86949 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 76572 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36119 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 1312 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
flag 83878 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 2631 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
flag 40006 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 46378 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38555 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 57745 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
flag 58743 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 51839 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
flag 14685 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 73256 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17917 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 29913 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50756 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 75424 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64716 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 35177 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
flag 60302 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 44972 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
flag 26452 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 18375 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
flag 20280 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 49405 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
flag 56626 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 15641 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
flag 88334 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 40201 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48443 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 55404 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224}]
------------------------------------------------------
client write log 7950626049595406181 (index 225) to leader 2
flag 77695 term 40 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
flag 45235 term 40 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 40 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 38 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2462 term 40 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
flag 16865 term 40 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225}]
------------------------------------------------------
flag 39347 term 40 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
flag 82769 term 40 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225}]
------------------------------------------------------
flag 51682 term 40 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
flag 64114 term 40 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225}]
------------------------------------------------------
flag 33377 term 40 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
flag 54349 term 40 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225}]
------------------------------------------------------
flag 69723 term 40 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
flag 95031 term 40 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3703428279237943394 (index 226) to leader 2
flag 81931 term 40 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
flag 496 term 40 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225} {3703428279237943394 40 226}]
------------------------------------------------------
flag 4596 term 40 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 40 leaderCommit: 226 
------------------------------------------------------
flag 19302 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 40 leaderCommit: 226 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225} {3703428279237943394 40 226}]
------------------------------------------------------
client write log 4384501776734681611 (index 227) to leader 2
client write log 4301214568961930530 (index 228) to leader 2
client write log 258617609922863324 (index 229) to leader 2
client write log 5584018211288368293 (index 230) to leader 2
client write log 5169235132846159465 (index 231) to leader 2
client write log 6454128096396871182 (index 232) to leader 2
client write log 2613083272216765437 (index 233) to leader 2
client write log 6837423093367406034 (index 234) to leader 2
flag 24544 term 40 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 40 leaderCommit: 226 
------------------------------------------------------
flag 73352 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 40 leaderCommit: 226 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 219} {7016864831982032057 38 220} {5278689409680026230 38 221} {2266050019331495044 38 222} {7578251693841217505 38 223} {7950626049595406181 38 224} {7950626049595406181 40 225} {3703428279237943394 40 226} {4384501776734681611 40 227} {4301214568961930530 40 228} {258617609922863324 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234}]
------------------------------------------------------
term 40 Server2 start snapshot! index=229
term 40 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=234
-------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
flag 32695 term 40 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 40 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234}]
------------------------------------------------------
term 40 Server1 start snapshot! index=229
term 40 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=234
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7334639948418640220 (index 235) to leader 2
term 40 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
flag 28309 term 40 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 40 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 1 vote for server 2
term 42 server 0 vote for server 2
term 42 server 2 get vote from server 1
term 42 server 2 become leader
------------------------------------------------------
term 42 server 2 get outdate rpc reply from server 0
flag 44773 term 42 leader 2 nextIndex[0]: 236  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 63073 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 236->235
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 226  matchIndex[0]: 0
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
flag 85861 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 42 server 0 InstallSnapshot success
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 40 rf.commitIndex 229 rf.lastApplied 229
term 42 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28973 term 42 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 98663 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6502 term 42 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 60347 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
flag 6923 term 42 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 41888 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
flag 95051 term 42 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 68481 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
flag 31532 term 42 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 29202 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
flag 7223 term 42 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 23108 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
term 42 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
flag 12154 term 42 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 97247 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67620 term 42 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 89370 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 7638 term 42 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 4120 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 51323 term 42 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 40439 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 0
term 43 server 1 become leader
------------------------------------------------------
flag 55388 term 43 leader 1 nextIndex[0]: 236  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 7824 term 43 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235}]
------------------------------------------------------
flag 4953 term 42 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 16038 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
client write log 1338274879833507755 (index 236) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 236->235
------------------------------------------------------
flag 34792 term 43 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 43 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 39547 term 43 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236}]
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 0  matchIndex[0]: 235
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
flag 65242 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
flag 86632 term 43 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 43 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 43 leaderCommit: 236 
------------------------------------------------------
flag 47606 term 43 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236}]
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 0  matchIndex[0]: 235
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
flag 69909 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
client write log 173752112263828902 (index 237) to leader 1
flag 2230 term 43 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 43 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 43 leaderCommit: 236 
------------------------------------------------------
flag 62256 term 43 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237}]
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 0  matchIndex[0]: 235
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
flag 57062 term 42 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 236->235
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71007 term 43 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 43 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 43 leaderCommit: 237 
------------------------------------------------------
flag 6084 term 43 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 237 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237}]
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 0  matchIndex[0]: 235
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
term 42 leader 2 nextIndex[1]: 0  matchIndex[1]: 235
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
!!!!!!connect server 2
client write log 2403928163914577394 (index 238) to leader 1
flag 12511 term 43 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 43 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 43 leaderCommit: 237 
------------------------------------------------------
flag 6258 term 43 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 237 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237} {2403928163914577394 43 238}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237} {2403928163914577394 43 238}]
------------------------------------------------------
flag 82363 term 43 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 43 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 13188 term 43 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 43 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237} {2403928163914577394 43 238}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237} {2403928163914577394 43 238}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92203 term 43 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 43 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 76921 term 43 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 43 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237} {2403928163914577394 43 238}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237} {2403928163914577394 43 238}]
------------------------------------------------------
flag 92739 term 43 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 43 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 36727 term 43 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 43 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237} {2403928163914577394 43 238}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237} {2403928163914577394 43 238}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56278 term 43 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 43 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 92670 term 43 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 43 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237} {2403928163914577394 43 238}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237} {2403928163914577394 43 238}]
------------------------------------------------------
flag 68449 term 43 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 43 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 33024 term 43 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 43 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237} {2403928163914577394 43 238}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237} {2403928163914577394 43 238}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 17326699679289330 (index 239) to leader 1
flag 70882 term 43 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 43 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
flag 79953 term 43 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 43 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 40 229} {5584018211288368293 40 230} {5169235132846159465 40 231} {6454128096396871182 40 232} {2613083272216765437 40 233} {6837423093367406034 40 234} {7334639948418640220 40 235} {1338274879833507755 43 236} {173752112263828902 43 237} {2403928163914577394 43 238} {17326699679289330 43 239}]
------------------------------------------------------
term 43 Server1 start snapshot! index=239
term 43 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4547 term 43 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 43 Server0 start snapshot! index=239
term 43 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
client write log 9116259476128773029 (index 240) to leader 1
client write log 8095927676033900647 (index 241) to leader 1
client write log 3004286604455216410 (index 242) to leader 1
client write log 2849252014399470432 (index 243) to leader 1
client write log 7895678334638889291 (index 244) to leader 1
client write log 3559297568715007272 (index 245) to leader 1
client write log 2067462755137430375 (index 246) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72644 term 43 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246}]
------------------------------------------------------
flag 1405 term 43 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 43 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2503512028465744978 (index 247) to leader 1
term 43 server 1 not vote for server 2, 日志不够新
term 43 server 0 not vote for server 2, 日志不够新
term 45 server 2 vote for server 1
term 45 server 0 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 1 get outdate rpc reply from server 0
flag 30256 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 32662 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 248->247
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 248->247
------------------------------------------------------
flag 26751 term 45 leader 1 nextIndex[0]: 247  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 239  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 43 rf.commitIndex 239 rf.lastApplied 239
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85924 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 17636 term 45 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 45 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41555 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 11320 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
flag 90933 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 48412 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
flag 72981 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 61563 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
flag 3405 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 28782 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
flag 24523 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 18956 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
flag 94569 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 34824 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
flag 54088 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 99558 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
flag 99733 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 75966 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
flag 67994 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 91048 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46804 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 61269 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
flag 25460 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 19217 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57639 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 42646 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
flag 83670 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 46956 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
flag 7373 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 68501 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
flag 36015 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 5826 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 2 not vote for server 0, 任期不够新
term 45 server 0 get outdate rpc reply from server 2
flag 93749 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 6770 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
flag 58665 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 82486 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247}]
------------------------------------------------------
client write log 2503512028465744978 (index 248) to leader 1
flag 96713 term 45 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
flag 67339 term 45 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248}]
------------------------------------------------------
flag 84762 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 48765 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248}]
------------------------------------------------------
flag 40676 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 87474 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248}]
------------------------------------------------------
flag 89821 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 4582 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248}]
------------------------------------------------------
flag 81996 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 50921 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248}]
------------------------------------------------------
flag 13774 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 12272 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95721 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 59796 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6283108996919159894 (index 249) to leader 1
flag 94914 term 45 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 41685 term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 43 239} {9116259476128773029 43 240} {8095927676033900647 43 241} {3004286604455216410 43 242} {2849252014399470432 43 243} {7895678334638889291 43 244} {3559297568715007272 43 245} {2067462755137430375 43 246} {2503512028465744978 43 247} {2503512028465744978 45 248} {6283108996919159894 45 249}]
------------------------------------------------------
term 45 Server1 start snapshot! index=249
term 45 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 23229 term 45 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 45 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 45 leaderCommit: 249 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 45 249}]
------------------------------------------------------
term 45 Server0 start snapshot! index=249
term 45 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
client write log 6607556721644145167 (index 250) to leader 1
client write log 1352348436699012655 (index 251) to leader 1
client write log 7064046315980045985 (index 252) to leader 1
client write log 4449084505311995516 (index 253) to leader 1
client write log 4365966511359997765 (index 254) to leader 1
client write log 5036940693200273250 (index 255) to leader 1
client write log 1126405561838938316 (index 256) to leader 1
client write log 2108147525417963096 (index 257) to leader 1
client write log 1530114282027134553 (index 258) to leader 1
client write log 2502101614488794442 (index 259) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17823 term 45 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 45 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 45 leaderCommit: 249 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 249} {6607556721644145167 45 250} {1352348436699012655 45 251} {7064046315980045985 45 252} {4449084505311995516 45 253} {4365966511359997765 45 254} {5036940693200273250 45 255} {1126405561838938316 45 256} {2108147525417963096 45 257} {1530114282027134553 45 258} {2502101614488794442 45 259}]
------------------------------------------------------
term 45 Server1 start snapshot! index=259
term 45 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 59471 term 45 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
term 45 Server0 start snapshot! index=259
term 45 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8048148243242938199 (index 260) to leader 1
flag 15543 term 45 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
term 46 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 server 2 vote for server 1
term 47 server 0 vote for server 1
term 47 server 1 get vote from server 2
term 47 server 1 become leader
------------------------------------------------------
term 47 server 1 get outdate rpc reply from server 0
flag 17330 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 17625 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 47 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 261->260
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
flag 88427 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 249  matchIndex[2]: 0
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
term 47 server 2 InstallSnapshot success
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 45 rf.commitIndex 259 rf.lastApplied 259
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
flag 84640 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 92703 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
flag 63675 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 72435 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 server 1 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 1
term 47 server 2 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58950 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 6730 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
flag 51600 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 61480 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44211 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 29697 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
flag 57074 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 3669 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36944 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 18656 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 71263 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 67419 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 33360 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 85399 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 79382 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 80446 term 47 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 261->260
------------------------------------------------------
flag 18112 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 0  matchIndex[2]: 260
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 2 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 0 become leader
------------------------------------------------------
flag 35103 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 24671 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {8048148243242938199 45 260}]
------------------------------------------------------
client write log 9155006100960117240 (index 261) to leader 0
flag 65805 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 0  matchIndex[2]: 260
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
flag 5095 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 34539 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261}]
------------------------------------------------------
flag 73125 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 0  matchIndex[2]: 260
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
flag 96162 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 13440 term 48 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 48 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 48 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261}]
------------------------------------------------------
client write log 6685042820723103480 (index 262) to leader 0
flag 40584 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 0  matchIndex[2]: 260
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
flag 81213 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 261 
------------------------------------------------------
flag 19219 term 48 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 48 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 48 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
flag 4074 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 45799 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59905 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 262 
------------------------------------------------------
flag 88906 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2297709853866307474 (index 261) to leader 1
flag 43448 term 47 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 71572 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 48 server 0 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 48 server 2 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89475 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 262 
------------------------------------------------------
flag 48966 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29854 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 86672 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47110 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 82559 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
flag 36164 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 5477 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
flag 14979 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 6451 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6204 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 55718 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
flag 68490 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 73237 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90487 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 15731 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 263->262
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19854 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 53859 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48360 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 31945 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
flag 32675 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 20845 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
flag 63976 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 25050 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53786 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 17646 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
flag 8866 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 37815 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
flag 77888 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 95730 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99682 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 8010 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
flag 75217 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 60064 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32260 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 65432 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
flag 31774 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 13350 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
flag 65876 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
flag 71485 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262}]
------------------------------------------------------
client write log 2297709853866307474 (index 263) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 263->262
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 262
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
flag 25228 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 48 leaderCommit: 262 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263}]
------------------------------------------------------
term 48 server 1 InstallSnapshot fail
rf.commitIndex 262 args.LastIncludedIndex 259
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97213 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 263 
------------------------------------------------------
flag 61471 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263}]
------------------------------------------------------
flag 12558 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 69650 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263}]
------------------------------------------------------
flag 45074 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 95853 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263}]
------------------------------------------------------
flag 7139 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 92568 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263}]
------------------------------------------------------
flag 25754 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 10087 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45217 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 23125 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 264->263
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3258769657433064948 (index 264) to leader 0
flag 41199 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 1713 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263} {3258769657433064948 48 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71789 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
flag 6434 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263} {3258769657433064948 48 264}]
------------------------------------------------------
client write log 6735596340182741987 (index 265) to leader 0
client write log 5727721272762117009 (index 266) to leader 0
client write log 7788219190001563235 (index 267) to leader 0
client write log 3574729929973587646 (index 268) to leader 0
client write log 5115263040049340499 (index 269) to leader 0
client write log 6608250604535183811 (index 270) to leader 0
client write log 2946234918420455954 (index 271) to leader 0
client write log 4937635725233945704 (index 272) to leader 0
client write log 5459034524196351597 (index 273) to leader 0
client write log 3924669475062642454 (index 274) to leader 0
client write log 6482604384338291380 (index 275) to leader 0
client write log 1707418915843780251 (index 276) to leader 0
client write log 2121920449645152524 (index 277) to leader 0
client write log 1038020374453677103 (index 278) to leader 0
flag 57045 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
flag 61543 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 259} {8048148243242938199 45 260} {9155006100960117240 48 261} {6685042820723103480 48 262} {2297709853866307474 48 263} {3258769657433064948 48 264} {6735596340182741987 48 265} {5727721272762117009 48 266} {7788219190001563235 48 267} {3574729929973587646 48 268} {5115263040049340499 48 269} {6608250604535183811 48 270} {2946234918420455954 48 271} {4937635725233945704 48 272} {5459034524196351597 48 273} {3924669475062642454 48 274} {6482604384338291380 48 275} {1707418915843780251 48 276} {2121920449645152524 48 277} {1038020374453677103 48 278}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 Server0 start snapshot! index=269
term 48 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=278
-------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 24917 term 48 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 48 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {6608250604535183811 48 270} {2946234918420455954 48 271} {4937635725233945704 48 272} {5459034524196351597 48 273} {3924669475062642454 48 274} {6482604384338291380 48 275} {1707418915843780251 48 276} {2121920449645152524 48 277} {1038020374453677103 48 278}]
------------------------------------------------------
term 48 Server2 start snapshot! index=269
term 48 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=278
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5605065949922637951 (index 279) to leader 0
term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 16454 term 48 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 48 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 49 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 269} {6608250604535183811 48 270} {2946234918420455954 48 271} {4937635725233945704 48 272} {5459034524196351597 48 273} {3924669475062642454 48 274} {6482604384338291380 48 275} {1707418915843780251 48 276} {2121920449645152524 48 277} {1038020374453677103 48 278} {5605065949922637951 48 279}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 Server0 start snapshot! index=279
term 49 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 50 server 2 vote for server 0
term 50 server 0 get vote from server 2
term 50 server 0 become leader
------------------------------------------------------
term 50 server 1 vote for server 0
term 50 server 0 get outdate rpc reply from server 1
flag 23410 term 50 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
flag 58773 term 50 leader 0 nextIndex[2]: 280  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 279}]
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 280->279
------------------------------------------------------
term 50 Server2 start snapshot! index=279
term 50 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 50 server 1 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 1
term 50 leader 0 nextIndex[1]: 264  matchIndex[1]: 0
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 48
------------------------------------------------------
flag 96750 term 50 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:279 
term 50 server 1 InstallSnapshot success
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 48 rf.commitIndex 279 rf.lastApplied 279
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 279}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 0 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 0
flag 85618 term 50 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
flag 63058 term 50 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 279}]
------------------------------------------------------
flag 78286 term 50 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
flag 2162 term 50 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 279}]
------------------------------------------------------
flag 57402 term 50 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
flag 62100 term 50 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 279}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 279}]
------------------------------------------------------
term 50 server 1 not vote for server 0, 任期不够新
term 50 server 0 get outdate rpc reply from server 1
flag 7793 term 50 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
flag 22298 term 50 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 279}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2521644506258117037 (index 280) to leader 0
flag 67355 term 50 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
flag 67073 term 50 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2521644506258117037 50 280}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28053 term 50 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 79671 term 50 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 50 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 50 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 48 279} {2521644506258117037 50 280}]
------------------------------------------------------
client write log 7998713477449030699 (index 281) to leader 0
client write log 1259667880739817801 (index 282) to leader 0
client write log 7881403742947544493 (index 283) to leader 0
client write log 3924850503356218306 (index 284) to leader 0
client write log 8361609514116622629 (index 285) to leader 0
client write log 2628496810877067231 (index 286) to leader 0
client write log 2608374053331528426 (index 287) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83680 term 50 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 50 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 52666 term 50 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 50 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 50 leaderCommit: 280 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 280->279
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 279
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 48
------------------------------------------------------
flag 64848 term 50 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 50 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 50 leaderCommit: 287 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3694092656726237411 (index 288) to leader 0
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 279
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 48
------------------------------------------------------
flag 77022 term 50 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 50 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 50 leaderCommit: 287 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
term 51 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 server 2 vote for server 0
term 52 server 1 vote for server 0
term 52 server 0 get vote from server 2
term 52 server 0 become leader
------------------------------------------------------
term 52 server 0 get outdate rpc reply from server 1
flag 10045 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 45483 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
term 52 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 289->288
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12711 term 52 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 288 
------------------------------------------------------
flag 85685 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
term 52 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
flag 41155 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 84729 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
term 52 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
flag 44614 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 15595 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
flag 16816 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 23498 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
flag 95450 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 98077 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
flag 89080 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 94189 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
flag 45943 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 24981 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 22850 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 54523 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77850 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 26236 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32279 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 29906 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 53 server 1 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
flag 77334 term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 6813 term 53 leader 2 nextIndex[1]: 289  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288}]
------------------------------------------------------
flag 69714 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 32536 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
client write log 6682588728367447272 (index 289) to leader 2
flag 4530 term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 69231 term 53 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 53 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 279} {2521644506258117037 50 280} {7998713477449030699 50 281} {1259667880739817801 50 282} {7881403742947544493 50 283} {3924850503356218306 50 284} {8361609514116622629 50 285} {2628496810877067231 50 286} {2608374053331528426 50 287} {3694092656726237411 50 288} {6682588728367447272 53 289}]
------------------------------------------------------
flag 90176 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 67729 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 53 Server2 start snapshot! index=289
term 53 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 53
------------------------------------------------------
flag 15707 term 53 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 53 leaderCommit: 289 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 53 289}]
------------------------------------------------------
flag 26074 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 4262 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 53 Server1 start snapshot! index=289
term 53 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
client write log 1417490835147646453 (index 290) to leader 2
term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 53
------------------------------------------------------
flag 99933 term 53 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 53 leaderCommit: 289 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 53 289} {1417490835147646453 53 290}]
------------------------------------------------------
flag 33065 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 34096 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 53
------------------------------------------------------
flag 84814 term 53 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 53 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 53 leaderCommit: 290 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 53 289} {1417490835147646453 53 290}]
------------------------------------------------------
flag 7576 term 52 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
flag 67724 term 52 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 52 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
!!!!!!connect server 0
client write log 4038491969354646925 (index 291) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 289->288
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 289->288
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 53
------------------------------------------------------
flag 30746 term 53 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 53 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 53 leaderCommit: 290 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
term 53 server 0 InstallSnapshot success
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 53 rf.commitIndex 289 rf.lastApplied 289
flag 75877 term 53 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 87272 term 53 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
flag 55965 term 53 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 27891 term 53 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56501 term 53 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 60808 term 53 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54766 term 53 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 3208 term 53 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
flag 93266 term 53 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 59441 term 53 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 0
flag 67453 term 53 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 32792 term 53 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65805 term 53 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 8108 term 53 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8131319811518000542 (index 292) to leader 2
flag 23805 term 53 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 66581 term 53 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291} {8131319811518000542 53 292}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83127 term 53 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 53 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 292 
------------------------------------------------------
flag 94159 term 53 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 53 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 292 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291} {8131319811518000542 53 292}]
------------------------------------------------------
client write log 7038304171793383142 (index 293) to leader 2
client write log 3414263465902608617 (index 294) to leader 2
client write log 8122338232908472616 (index 295) to leader 2
client write log 4342839258661896765 (index 296) to leader 2
client write log 2904263584849200400 (index 297) to leader 2
client write log 1943978194781831246 (index 298) to leader 2
client write log 7284385557152782803 (index 299) to leader 2
client write log 4901001501600013793 (index 300) to leader 2
client write log 1920604994525020053 (index 301) to leader 2
client write log 3141927607621370151 (index 302) to leader 2
client write log 3313119612885232828 (index 303) to leader 2
client write log 412989115157383814 (index 304) to leader 2
client write log 7443824111131748789 (index 305) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 292->291
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 0  matchIndex[0]: 291
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 53
------------------------------------------------------
flag 70500 term 53 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 53 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 292 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 53 289} {1417490835147646453 53 290} {4038491969354646925 53 291} {8131319811518000542 53 292} {7038304171793383142 53 293} {3414263465902608617 53 294} {8122338232908472616 53 295} {4342839258661896765 53 296} {2904263584849200400 53 297} {1943978194781831246 53 298} {7284385557152782803 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305}]
------------------------------------------------------
term 53 Server2 start snapshot! index=299
term 53 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 0  matchIndex[0]: 291
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 36818 term 53 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 53 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305}]
------------------------------------------------------
term 53 Server1 start snapshot! index=299
term 53 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5646789944497296931 (index 306) to leader 2
term 53 server 2 not vote for server 0, 日志不够新
term 53 server 1 not vote for server 0, 日志不够新
term 55 server 0 vote for server 2
term 55 server 1 vote for server 2
term 55 server 2 get vote from server 0
term 55 server 2 become leader
------------------------------------------------------
term 55 server 2 get outdate rpc reply from server 1
flag 43338 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 81428 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 307->306
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 307->306
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 292  matchIndex[0]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 43167 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
term 55 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 53 rf.commitIndex 299 rf.lastApplied 299
term 55 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26556 term 55 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 55 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 27775 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
term 55 server 0 not vote for server 1, 任期不够新
term 55 server 1 get outdate rpc reply from server 0
flag 37759 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 46470 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
flag 87889 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 89952 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
flag 19114 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 77286 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
flag 16923 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 18406 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
flag 8549 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 99503 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57847 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 48512 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
flag 32462 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 41461 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15412 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 37561 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
flag 52591 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 88885 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86738 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 75841 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38710 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 88772 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
flag 61618 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 64564 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
flag 22082 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 70872 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
flag 44345 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 60041 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49700 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 78102 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34275 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 46087 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
flag 53496 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 92731 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306}]
------------------------------------------------------
client write log 5646789944497296931 (index 307) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50868 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 67704 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306} {5646789944497296931 55 307}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306} {5646789944497296931 55 307}]
------------------------------------------------------
term 55 server 2 not vote for server 1, 任期不够新
term 55 server 1 get outdate rpc reply from server 2
term 55 server 2 not vote for server 1, 任期不够新
term 55 server 1 get outdate rpc reply from server 2
term 55 server 0 not vote for server 2, 任期不够新
term 55 server 2 get outdate rpc reply from server 0
flag 32190 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 11742 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306} {5646789944497296931 55 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306} {5646789944497296931 55 307}]
------------------------------------------------------
flag 51154 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 75691 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306} {5646789944497296931 55 307}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306} {5646789944497296931 55 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93866 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 26332 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306} {5646789944497296931 55 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306} {5646789944497296931 55 307}]
------------------------------------------------------
flag 45525 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 24331 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306} {5646789944497296931 55 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306} {5646789944497296931 55 307}]
------------------------------------------------------
flag 26596 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 89379 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306} {5646789944497296931 55 307}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306} {5646789944497296931 55 307}]
------------------------------------------------------
flag 76702 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 7954 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306} {5646789944497296931 55 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {4901001501600013793 53 300} {1920604994525020053 53 301} {3141927607621370151 53 302} {3313119612885232828 53 303} {412989115157383814 53 304} {7443824111131748789 53 305} {5646789944497296931 53 306} {5646789944497296931 55 307}]
------------------------------------------------------
  ... Passed --  71.7  3 1660  747773  307
--- PASS: TestSnapshotInstall2D (71.72s)
PASS
