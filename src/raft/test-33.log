=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 20359 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 97970 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 7492131219951256529 (index 1) to leader 2
flag 79355 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 88293 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7492131219951256529 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7492131219951256529 1 1}]
------------------------------------------------------
flag 66145 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 63398 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7492131219951256529 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7492131219951256529 1 1}]
------------------------------------------------------
flag 18035 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 39507 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7492131219951256529 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7492131219951256529 1 1}]
------------------------------------------------------
flag 61069 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 51974 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7492131219951256529 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7492131219951256529 1 1}]
------------------------------------------------------
flag 74958 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 47446 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7492131219951256529 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7492131219951256529 1 1}]
------------------------------------------------------
flag 59482 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 83206 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7492131219951256529 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7492131219951256529 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7781085530015573359 (index 2) to leader 2
flag 85950 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 57839 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7492131219951256529 1 1} {7781085530015573359 1 2}]
------------------------------------------------------
flag 25674 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 90393 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7492131219951256529 1 1} {7781085530015573359 1 2}]
------------------------------------------------------
client write log 9138195003339177803 (index 3) to leader 2
client write log 5245144348566745149 (index 4) to leader 2
client write log 527767312877040539 (index 5) to leader 2
client write log 7531183871065672525 (index 6) to leader 2
client write log 2254028001332586596 (index 7) to leader 2
client write log 6827892908950802349 (index 8) to leader 2
client write log 580898574807297469 (index 9) to leader 2
client write log 7833866916459808119 (index 10) to leader 2
client write log 4923679224304629675 (index 11) to leader 2
client write log 1209856277606424779 (index 12) to leader 2
client write log 1905253341979216392 (index 13) to leader 2
client write log 462002806448382503 (index 14) to leader 2
flag 91987 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 39591 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{<nil> 0 0} {7492131219951256529 1 1} {7781085530015573359 1 2} {9138195003339177803 1 3} {5245144348566745149 1 4} {527767312877040539 1 5} {7531183871065672525 1 6} {2254028001332586596 1 7} {6827892908950802349 1 8} {580898574807297469 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 61491 term 1 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
!!!!!!connect server 0
client write log 9054958011314856322 (index 15) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 80284 term 1 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 80398 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 73460 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 16->15
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 30854 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 15608 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 72804 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
flag 40413 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 47431 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
flag 1703 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 3719 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
flag 84632 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 77982 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
flag 44966 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 14400 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
term 3 server 1 not vote for server 0, 任期不够新
term 3 server 0 get outdate rpc reply from server 1
flag 55606 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 72341 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43752 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 86361 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 85266 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 60015 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 72359 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 21211 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 87533 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 25753 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 16802 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 20866 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15}]
------------------------------------------------------
client write log 1014733144772972212 (index 16) to leader 0
flag 2627 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 12825 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 89330 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 89065 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15} {1014733144772972212 4 16}]
------------------------------------------------------
flag 2617 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 88284 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 66550 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 63020 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15} {1014733144772972212 4 16}]
------------------------------------------------------
client write log 5270408431818621787 (index 17) to leader 0
client write log 8316877572700027361 (index 18) to leader 0
client write log 9119099429889745673 (index 19) to leader 0
client write log 5763713140155614997 (index 20) to leader 0
client write log 3438872873444872979 (index 21) to leader 0
client write log 5591759961611709432 (index 22) to leader 0
client write log 1959502401945971263 (index 23) to leader 0
client write log 4466406045868342755 (index 24) to leader 0
client write log 261323150628719222 (index 25) to leader 0
flag 63266 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 53220 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 47974 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 19694 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 1 9} {7833866916459808119 1 10} {4923679224304629675 1 11} {1209856277606424779 1 12} {1905253341979216392 1 13} {462002806448382503 1 14} {9054958011314856322 1 15} {1014733144772972212 4 16} {5270408431818621787 4 17} {8316877572700027361 4 18} {9119099429889745673 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=25
-------------------------------------------------------------
flag 65200 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 40477 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 40363 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=25
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1591109210175336221 (index 16) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 16->15
------------------------------------------------------
flag 51965 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 15
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98134 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 47201 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 23750 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 26->25
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4797 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 36543 term 6 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18048 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 16927 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23859 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 60641 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
flag 51683 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 15398 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
flag 36598 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 72550 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
flag 11095 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 69812 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
flag 70404 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 343 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
flag 28508 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 93611 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 24107 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 66221 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
flag 56357 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 55921 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52166 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 41135 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
flag 44756 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 41851 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 30131 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 9269 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
flag 61529 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 28570 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34943 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 469 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65251 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 30835 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
flag 32079 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 69139 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1591109210175336221 (index 26) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79406 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 6356 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26}]
------------------------------------------------------
flag 54200 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 74257 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26}]
------------------------------------------------------
flag 95136 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 51322 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5557 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 87719 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26}]
------------------------------------------------------
flag 24713 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 86056 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26}]
------------------------------------------------------
flag 92258 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 8807 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64467 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 25454 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 979029003004823432 (index 27) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18704 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 55435 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26} {979029003004823432 6 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32822 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 11766 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26} {979029003004823432 6 27}]
------------------------------------------------------
client write log 143974013865937983 (index 28) to leader 0
client write log 3927352915088137976 (index 29) to leader 0
client write log 4239535392009118512 (index 30) to leader 0
client write log 7179315020915843302 (index 31) to leader 0
client write log 323643900695146281 (index 32) to leader 0
client write log 6665546087933240659 (index 33) to leader 0
flag 9966 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 61926 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 19} {5763713140155614997 4 20} {3438872873444872979 4 21} {5591759961611709432 4 22} {1959502401945971263 4 23} {4466406045868342755 4 24} {261323150628719222 4 25} {1591109210175336221 6 26} {979029003004823432 6 27} {143974013865937983 6 28} {3927352915088137976 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=33
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 83780 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=33
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1722353181030263492 (index 34) to leader 0
term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 27287 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 7 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 7 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 1
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 2
flag 80381 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 67844 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 35->34
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 27  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 5008 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
flag 15226 term 8 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 8 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 79089 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
flag 75678 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 19131 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
flag 84468 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 22991 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
flag 11576 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 96553 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
flag 44915 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 75539 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
flag 89176 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 58422 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
flag 57715 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 70629 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3089585910075783294 (index 35) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89439 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 79564 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34} {3089585910075783294 8 35}]
------------------------------------------------------
flag 50615 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 15241 term 8 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 8 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34} {3089585910075783294 8 35}]
------------------------------------------------------
client write log 5364190999955982807 (index 36) to leader 0
client write log 909849848511474817 (index 37) to leader 0
client write log 5855135129834935159 (index 38) to leader 0
client write log 4282606983288169345 (index 39) to leader 0
client write log 2316560167706215244 (index 40) to leader 0
client write log 8253894013916127429 (index 41) to leader 0
client write log 421598032156243480 (index 42) to leader 0
client write log 7232341097612192451 (index 43) to leader 0
client write log 6373454543108595470 (index 44) to leader 0
client write log 4419737570049762453 (index 45) to leader 0
client write log 3790333183339504547 (index 46) to leader 0
client write log 4496556998814211476 (index 47) to leader 0
client write log 1738328996669908375 (index 48) to leader 0
client write log 7193510313078041294 (index 49) to leader 0
client write log 6463418724672057701 (index 50) to leader 0
flag 43292 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 10757 term 8 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 8 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 29} {4239535392009118512 6 30} {7179315020915843302 6 31} {323643900695146281 6 32} {6665546087933240659 6 33} {1722353181030263492 6 34} {3089585910075783294 8 35} {5364190999955982807 8 36} {909849848511474817 8 37} {5855135129834935159 8 38} {4282606983288169345 8 39} {2316560167706215244 8 40} {8253894013916127429 8 41} {421598032156243480 8 42} {7232341097612192451 8 43} {6373454543108595470 8 44} {4419737570049762453 8 45} {3790333183339504547 8 46} {4496556998814211476 8 47} {1738328996669908375 8 48} {7193510313078041294 8 49} {6463418724672057701 8 50}]
------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=50
-------------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=50
-------------------------------------------------------------
term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 10105 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {6463418724672057701 8 50}]
------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=50
-------------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=50
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3399871111641474664 (index 51) to leader 0
term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 18486 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 2 vote for server 0
term 10 server 1 vote for server 0
term 10 server 0 get vote from server 2
term 10 server 0 become leader
------------------------------------------------------
term 10 server 0 get outdate rpc reply from server 1
flag 86900 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 41690 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 10 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 52->51
------------------------------------------------------
term 10 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 94211 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 10 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 8 rf.commitIndex 49 rf.lastApplied 49
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78925 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 79708 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
flag 47264 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 66011 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
flag 87554 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 20407 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
flag 55860 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 12640 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
term 10 server 0 not vote for server 1, 任期不够新
term 10 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22502 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 22438 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
flag 43375 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 87777 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
flag 39427 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 8112 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 75444 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 93965 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 90303 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 62695 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
flag 38803 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 89515 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
client write log 2594219941296586633 (index 52) to leader 2
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52}]
------------------------------------------------------
flag 19479 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 91700 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 79306 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 96117 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52}]
------------------------------------------------------
flag 48754 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 3643 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 80123 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 70361 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52}]
------------------------------------------------------
client write log 7339366771198096033 (index 53) to leader 2
flag 33565 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 40592 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12713 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 94047 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 52->51
------------------------------------------------------
flag 77705 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 39304 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 14658 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 52->51
------------------------------------------------------
term 10 leader 0 nextIndex[1]: 0  matchIndex[1]: 51
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 55559 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
!!!!!!connect server 0
client write log 1259156037676964422 (index 54) to leader 2
term 11 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 46796 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 InstallSnapshot fail
rf.commitIndex 51 args.LastIncludedIndex 49
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 50->49
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 0  matchIndex[0]: 49
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 40079 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
term 11 server 0 InstallSnapshot fail
rf.commitIndex 51 args.LastIncludedIndex 49
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68655 term 11 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 11 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 54 
------------------------------------------------------
flag 80967 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
flag 37510 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 4373 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5452 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 12254 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
flag 27279 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 8501 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 55->54
------------------------------------------------------
term 11 server 0 not vote for server 2, 日志不够新
term 11 server 2 get outdate rpc reply from server 0
term 11 leader 2 nextIndex[0]: 0  matchIndex[0]: 54
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 69564 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 0 InstallSnapshot fail
rf.commitIndex 54 args.LastIncludedIndex 49
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
flag 92592 term 11 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 11 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 54 
------------------------------------------------------
flag 48710 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
term 11 server 2 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 2
flag 98205 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 99997 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6149344486672812686 (index 55) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95344 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 55981 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54} {6149344486672812686 11 55}]
------------------------------------------------------
flag 96286 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 85818 term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54} {6149344486672812686 11 55}]
------------------------------------------------------
client write log 7422083875779279173 (index 56) to leader 2
client write log 8550988702363283619 (index 57) to leader 2
client write log 8975636024934919125 (index 58) to leader 2
client write log 2277644889020897064 (index 59) to leader 2
client write log 8098783274701767349 (index 60) to leader 2
client write log 7588213538416491516 (index 61) to leader 2
client write log 7066813095976617144 (index 62) to leader 2
client write log 8742048325711583447 (index 63) to leader 2
client write log 3866558915121646729 (index 64) to leader 2
flag 37189 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 31375 term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 49} {6463418724672057701 8 50} {3399871111641474664 8 51} {2594219941296586633 11 52} {7339366771198096033 11 53} {1259156037676964422 11 54} {6149344486672812686 11 55} {7422083875779279173 11 56} {8550988702363283619 11 57} {8975636024934919125 11 58} {2277644889020897064 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=64
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 88236 term 11 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 11 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=64
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3321109549234344161 (index 65) to leader 2
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
term 13 server 1 vote for server 2
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 95273 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 38674 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 66->65
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 66->65
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 55  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 64704 term 13 leader 2 nextIndex[1]: 65  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
flag 64449 term 13 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 13 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 13205 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89227 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 17052 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
flag 26842 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 55802 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54358 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 19010 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
flag 79884 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 27243 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
flag 8626 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 14836 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
flag 5408 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 32497 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
flag 51514 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 98412 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50057 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 64623 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
flag 83434 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 68102 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
flag 35109 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 9441 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
flag 76160 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 14343 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11801 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 26631 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
flag 17693 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 22526 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
flag 56661 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 44196 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
flag 91976 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 21854 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19838 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 77829 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3321109549234344161 (index 66) to leader 2
flag 81454 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 83322 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36189 term 13 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 12963 term 13 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76243 term 13 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 76766 term 13 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66}]
------------------------------------------------------
flag 35313 term 13 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 70304 term 13 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66}]
------------------------------------------------------
flag 21651 term 13 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 85069 term 13 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84948 term 13 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 38740 term 13 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5449 term 13 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 45160 term 13 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7799866281729558904 (index 67) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24513 term 13 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 98889 term 13 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66} {7799866281729558904 13 67}]
------------------------------------------------------
flag 51545 term 13 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 67 
------------------------------------------------------
flag 11334 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 13 leaderCommit: 67 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66} {7799866281729558904 13 67}]
------------------------------------------------------
client write log 8435665767398666003 (index 68) to leader 2
client write log 335776136842456518 (index 69) to leader 2
client write log 227955116208790169 (index 70) to leader 2
client write log 8083637478246663472 (index 71) to leader 2
client write log 5267969074151172792 (index 72) to leader 2
client write log 6628408496848413396 (index 73) to leader 2
client write log 2845592990968926303 (index 74) to leader 2
client write log 3536333728479310453 (index 75) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75737 term 13 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 67 
------------------------------------------------------
flag 81498 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 13 leaderCommit: 67 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 59} {8098783274701767349 11 60} {7588213538416491516 11 61} {7066813095976617144 11 62} {8742048325711583447 11 63} {3866558915121646729 11 64} {3321109549234344161 11 65} {3321109549234344161 13 66} {7799866281729558904 13 67} {8435665767398666003 13 68} {335776136842456518 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75}]
------------------------------------------------------
term 13 Server2 start snapshot! index=69
term 13 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=75
-------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 36853 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75}]
------------------------------------------------------
term 13 Server1 start snapshot! index=69
term 13 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=75
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1486988396666908957 (index 76) to leader 2
term 13 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 62754 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 0 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 2 become leader
------------------------------------------------------
term 15 server 2 get outdate rpc reply from server 0
flag 75336 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 76933 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 77->76
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 54312 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
term 15 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 13 rf.commitIndex 69 rf.lastApplied 69
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48427 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 97101 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
flag 14037 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 79922 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
flag 73019 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 49824 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
flag 93581 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 6276 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
flag 8192 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 14447 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
term 15 server 1 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 1
flag 18688 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 63655 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
flag 7342 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 80864 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90918 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 13729 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 30928 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 55272 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 67389 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 57669 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 0
term 16 server 1 become leader
------------------------------------------------------
flag 91811 term 16 leader 1 nextIndex[0]: 77  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 12170 term 16 leader 1 nextIndex[2]: 77  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76}]
------------------------------------------------------
flag 36538 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 81320 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
client write log 3236412604468527302 (index 77) to leader 1
flag 11094 term 16 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 37070 term 16 leader 1 nextIndex[2]: 77  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76} {3236412604468527302 16 77}]
------------------------------------------------------
flag 14431 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 25976 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30722 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
flag 76748 term 16 leader 1 nextIndex[2]: 77  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76} {3236412604468527302 16 77}]
------------------------------------------------------
flag 16022 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 2316 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
client write log 8230837229068210580 (index 78) to leader 1
flag 85925 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
flag 36402 term 16 leader 1 nextIndex[2]: 77  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76} {3236412604468527302 16 77} {8230837229068210580 16 78}]
------------------------------------------------------
flag 45816 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 41234 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79245 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 22987 term 16 leader 1 nextIndex[2]: 77  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76} {3236412604468527302 16 77} {8230837229068210580 16 78}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1767929163415380822 (index 79) to leader 1
flag 59521 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 36196 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 16 server 1 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
term 16 server 0 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68020 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 6650 term 16 leader 1 nextIndex[2]: 77  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76} {3236412604468527302 16 77} {8230837229068210580 16 78} {1767929163415380822 16 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 69} {227955116208790169 13 70} {8083637478246663472 13 71} {5267969074151172792 13 72} {6628408496848413396 13 73} {2845592990968926303 13 74} {3536333728479310453 13 75} {1486988396666908957 13 76} {3236412604468527302 16 77} {8230837229068210580 16 78} {1767929163415380822 16 79}]
------------------------------------------------------
term 16 Server1 start snapshot! index=79
term 16 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 19760 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 15164 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 16 Server0 start snapshot! index=79
term 16 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 16 Server2 start snapshot! index=79
term 16 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 22340 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 112 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 72856 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 25262 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 17333 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 32842 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72763 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 17379 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 2
flag 9017 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 4935 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2376233887729581988 (index 80) to leader 1
flag 43343 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 82219 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {2376233887729581988 16 80}]
------------------------------------------------------
flag 95592 term 16 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 16 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 16 leaderCommit: 80 
------------------------------------------------------
flag 6512 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 80 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {2376233887729581988 16 80}]
------------------------------------------------------
client write log 6808107469880317927 (index 81) to leader 1
client write log 1720396328972104260 (index 82) to leader 1
client write log 2076365929388118981 (index 83) to leader 1
client write log 6298887620626447087 (index 84) to leader 1
client write log 6089546228738522481 (index 85) to leader 1
client write log 319419695410619064 (index 86) to leader 1
client write log 4620106432126074921 (index 87) to leader 1
client write log 8284115154811332617 (index 88) to leader 1
client write log 2271394898361618900 (index 89) to leader 1
client write log 9075518887166119168 (index 90) to leader 1
client write log 3849631746311829246 (index 91) to leader 1
flag 51022 term 16 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 16 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 16 leaderCommit: 80 
------------------------------------------------------
flag 73325 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 80 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 79} {2376233887729581988 16 80} {6808107469880317927 16 81} {1720396328972104260 16 82} {2076365929388118981 16 83} {6298887620626447087 16 84} {6089546228738522481 16 85} {319419695410619064 16 86} {4620106432126074921 16 87} {8284115154811332617 16 88} {2271394898361618900 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=91
-------------------------------------------------------------
flag 84945 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=91
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8748967405085703440 (index 92) to leader 1
flag 36055 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 0 vote for server 1
term 18 server 1 get outdate rpc reply from server 0
flag 73617 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 53839 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 93->92
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
flag 66003 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 80  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
flag 21120 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 42933 term 18 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 18 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55232 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 45474 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
flag 40006 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 56527 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
flag 59635 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 32941 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38045 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 66451 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
flag 96358 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 65993 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
flag 84231 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 9485 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8583204250690851480 (index 93) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11121 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 27608 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92} {8583204250690851480 18 93}]
------------------------------------------------------
flag 66688 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
flag 57196 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92} {8583204250690851480 18 93}]
------------------------------------------------------
client write log 2885813925379991622 (index 94) to leader 1
client write log 9187695583420852329 (index 95) to leader 1
client write log 4200519003232568469 (index 96) to leader 1
client write log 5386951818650773893 (index 97) to leader 1
client write log 3088063992910236205 (index 98) to leader 1
client write log 3679667200610590789 (index 99) to leader 1
client write log 2733550909776946293 (index 100) to leader 1
client write log 7223644588747969127 (index 101) to leader 1
client write log 1935914378319051159 (index 102) to leader 1
client write log 3344260930621998820 (index 103) to leader 1
client write log 1449046704500528220 (index 104) to leader 1
client write log 436035478347662932 (index 105) to leader 1
client write log 9052323089340945461 (index 106) to leader 1
client write log 2804726106020595290 (index 107) to leader 1
flag 85124 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
flag 81796 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 89} {9075518887166119168 16 90} {3849631746311829246 16 91} {8748967405085703440 16 92} {8583204250690851480 18 93} {2885813925379991622 18 94} {9187695583420852329 18 95} {4200519003232568469 18 96} {5386951818650773893 18 97} {3088063992910236205 18 98} {3679667200610590789 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107}]
------------------------------------------------------
term 18 Server1 start snapshot! index=99
term 18 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=107
-------------------------------------------------------------
flag 65329 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107}]
------------------------------------------------------
term 18 Server0 start snapshot! index=99
term 18 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=107
-------------------------------------------------------------
!!!!!!connect server 2
client write log 522939336604958595 (index 108) to leader 1
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 0 not vote for server 2, 日志不够新
term 18 server 1 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 1
flag 26809 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 19 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 0 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 vote for server 1
term 20 server 1 get vote from server 2
term 20 server 1 become leader
------------------------------------------------------
term 20 server 0 vote for server 1
term 20 server 1 get outdate rpc reply from server 0
flag 62229 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 70332 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 109->108
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 109->108
------------------------------------------------------
flag 26623 term 20 leader 1 nextIndex[0]: 108  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 93  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 18 rf.commitIndex 99 rf.lastApplied 99
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
flag 66868 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 51996 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
flag 12448 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 90550 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
flag 55609 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 57884 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90080 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 87027 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85867 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 91111 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
flag 33166 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 5124 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
flag 17399 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 61008 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25470 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 52140 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11590 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 58092 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
flag 93929 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 38088 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
flag 74128 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 97002 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35812 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 74611 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16392 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 8589 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
flag 46465 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 79129 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74186 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 1112 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
flag 6061 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 24175 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 522939336604958595 (index 109) to leader 1
flag 81229 term 20 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 93857 term 20 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 20 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108} {522939336604958595 20 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 99} {2733550909776946293 18 100} {7223644588747969127 18 101} {1935914378319051159 18 102} {3344260930621998820 18 103} {1449046704500528220 18 104} {436035478347662932 18 105} {9052323089340945461 18 106} {2804726106020595290 18 107} {522939336604958595 18 108} {522939336604958595 20 109}]
------------------------------------------------------
term 20 Server1 start snapshot! index=109
term 20 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 9854 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 51333 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 Server2 start snapshot! index=109
term 20 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 20 Server0 start snapshot! index=109
term 20 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 40033 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 36952 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46500 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 87522 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
flag 91032 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 51623 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
flag 69659 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 56140 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
flag 54375 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 44856 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83025 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 38835 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 5084 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 26340 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 9316 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 16363 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 82573 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 35251 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get vote from server 0
term 21 server 2 become leader
------------------------------------------------------
flag 60392 term 21 leader 2 nextIndex[0]: 110  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 84872 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 109}]
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 5000822632979025378 (index 110) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6442 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 11001 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 45638 term 21 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 5501 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 20 109} {5000822632979025378 21 110}]
------------------------------------------------------
flag 16319 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 82626 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 9718 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 65155 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 20 109} {5000822632979025378 21 110}]
------------------------------------------------------
client write log 2740562641365151953 (index 111) to leader 2
client write log 8744420216929220547 (index 112) to leader 2
client write log 8790255404404705988 (index 113) to leader 2
client write log 4770385450489548009 (index 114) to leader 2
client write log 5840624943492277219 (index 115) to leader 2
client write log 6076452719479427160 (index 116) to leader 2
client write log 3040130874436067638 (index 117) to leader 2
client write log 897247001812275349 (index 118) to leader 2
client write log 5339656185499630073 (index 119) to leader 2
client write log 208607568210117149 (index 120) to leader 2
client write log 1930906821957916155 (index 121) to leader 2
client write log 5379611240749202747 (index 122) to leader 2
client write log 3970210490644834878 (index 123) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83162 term 20 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 34380 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 64674 term 21 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 13272 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 110 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 20 109} {5000822632979025378 21 110} {2740562641365151953 21 111} {8744420216929220547 21 112} {8790255404404705988 21 113} {4770385450489548009 21 114} {5840624943492277219 21 115} {6076452719479427160 21 116} {3040130874436067638 21 117} {897247001812275349 21 118} {5339656185499630073 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=123
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 110->109
------------------------------------------------------
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 109
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 50477 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
flag 4341 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
term 21 Server0 start snapshot! index=119
term 21 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=123
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3432407555247902896 (index 110) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 109
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 4868 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 109 
------------------------------------------------------
term 21 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 server 2 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
term 20 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27638 term 21 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
term 21 server 2 not vote for server 1, 日志不够新
term 21 server 0 not vote for server 1, 日志不够新
term 23 server 0 vote for server 2
term 23 server 1 vote for server 2
term 23 server 2 get vote from server 0
term 23 server 2 become leader
------------------------------------------------------
term 23 server 2 get outdate rpc reply from server 1
flag 98907 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 24555 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 124->123
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
flag 55205 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 10156 term 23 leader 2 nextIndex[1]: 120  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8413 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 20974 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
term 23 server 1 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 1
flag 91932 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 73007 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
flag 7420 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 92774 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
flag 88436 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 62021 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
flag 26026 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 13333 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
flag 18823 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 17407 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33529 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 93294 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
flag 62848 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 85116 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
flag 7070 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 64441 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
flag 93655 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 46853 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
flag 30670 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 88953 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
flag 49382 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 69398 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81692 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 88187 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
flag 85176 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 60652 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
flag 13828 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 89484 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68882 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 20270 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123}]
------------------------------------------------------
client write log 3432407555247902896 (index 124) to leader 2
flag 59661 term 23 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 9993 term 23 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57613 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 26309 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124}]
------------------------------------------------------
flag 34811 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 16313 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124}]
------------------------------------------------------
flag 52230 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 74921 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124}]
------------------------------------------------------
term 23 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16844 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 21349 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124}]
------------------------------------------------------
flag 76867 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 26530 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124}]
------------------------------------------------------
term 23 server 1 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 1
flag 45663 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 54787 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2263783135999709197 (index 125) to leader 2
flag 45767 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 38784 term 23 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124} {2263783135999709197 23 125}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63807 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 64436 term 23 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124} {2263783135999709197 23 125}]
------------------------------------------------------
client write log 1152165831646789856 (index 126) to leader 2
client write log 2954506292186634225 (index 127) to leader 2
client write log 5675517877741750088 (index 128) to leader 2
client write log 8294561806455205973 (index 129) to leader 2
client write log 4052081989330661117 (index 130) to leader 2
client write log 7754183491660517737 (index 131) to leader 2
client write log 5805637983052608888 (index 132) to leader 2
client write log 3522958647474836018 (index 133) to leader 2
flag 133 term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 46798 term 23 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 119} {208607568210117149 21 120} {1930906821957916155 21 121} {5379611240749202747 21 122} {3970210490644834878 21 123} {3432407555247902896 23 124} {2263783135999709197 23 125} {1152165831646789856 23 126} {2954506292186634225 23 127} {5675517877741750088 23 128} {8294561806455205973 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=133
-------------------------------------------------------------
term 23 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 65860 term 23 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133}]
------------------------------------------------------
term 23 Server1 start snapshot! index=129
term 23 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=133
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4138357761582794638 (index 134) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 not vote for server 0, 日志不够新
term 23 server 1 not vote for server 0, 日志不够新
term 25 server 1 vote for server 2
term 25 server 0 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
term 25 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70476 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 45381 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 135->134
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 135->134
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 125  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 87729 term 25 leader 2 nextIndex[1]: 134  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
term 25 server 0 InstallSnapshot success
------------------------------------------------------
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 23 rf.commitIndex 129 rf.lastApplied 129
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61035 term 25 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 25 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 55891 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31805 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 67111 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29107 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 47282 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
flag 42300 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 5639 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
flag 66846 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 45050 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
flag 2819 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 62637 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
flag 86600 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 37612 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28239 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 35517 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15880 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 95621 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98436 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 43056 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34802 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 64471 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4566 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 14226 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
flag 6472 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 89070 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
flag 71829 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 49552 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21790 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 63854 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
flag 86236 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 87262 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
flag 98584 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 56730 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
flag 603 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 57040 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134}]
------------------------------------------------------
client write log 4138357761582794638 (index 135) to leader 2
flag 75243 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 72312 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135}]
------------------------------------------------------
flag 42120 term 25 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 15696 term 25 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92685 term 25 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 92249 term 25 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135}]
------------------------------------------------------
flag 31304 term 25 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 77656 term 25 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86994 term 25 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 10369 term 25 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135}]
------------------------------------------------------
term 25 server 2 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 2
flag 16821 term 25 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 56368 term 25 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135}]
------------------------------------------------------
flag 51926 term 25 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 52943 term 25 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5869082623453542881 (index 136) to leader 2
flag 15012 term 25 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 36195 term 25 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135} {5869082623453542881 25 136}]
------------------------------------------------------
flag 27439 term 25 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 18767 term 25 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135} {5869082623453542881 25 136}]
------------------------------------------------------
client write log 5133929114711036155 (index 137) to leader 2
client write log 4485379608798177481 (index 138) to leader 2
client write log 7358841868860394244 (index 139) to leader 2
client write log 8913320963128148295 (index 140) to leader 2
client write log 4125622967307127317 (index 141) to leader 2
client write log 7437234034641488033 (index 142) to leader 2
client write log 2006139289478977915 (index 143) to leader 2
client write log 1634215547451435327 (index 144) to leader 2
client write log 1935551067079123881 (index 145) to leader 2
client write log 17709199602723185 (index 146) to leader 2
client write log 4401067694006201516 (index 147) to leader 2
client write log 3450495982167669125 (index 148) to leader 2
client write log 6163239636591232305 (index 149) to leader 2
client write log 5336905246891769271 (index 150) to leader 2
client write log 2745129784238921663 (index 151) to leader 2
flag 83753 term 25 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 84371 term 25 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 23 129} {4052081989330661117 23 130} {7754183491660517737 23 131} {5805637983052608888 23 132} {3522958647474836018 23 133} {4138357761582794638 23 134} {4138357761582794638 25 135} {5869082623453542881 25 136} {5133929114711036155 25 137} {4485379608798177481 25 138} {7358841868860394244 25 139} {8913320963128148295 25 140} {4125622967307127317 25 141} {7437234034641488033 25 142} {2006139289478977915 25 143} {1634215547451435327 25 144} {1935551067079123881 25 145} {17709199602723185 25 146} {4401067694006201516 25 147} {3450495982167669125 25 148} {6163239636591232305 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151}]
------------------------------------------------------
term 25 Server2 start snapshot! index=139
term 25 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=151
-------------------------------------------------------------
term 25 Server2 start snapshot! index=149
term 25 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=151
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 80862 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151}]
------------------------------------------------------
term 25 Server1 start snapshot! index=139
term 25 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=151
-------------------------------------------------------------
term 25 Server1 start snapshot! index=149
term 25 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=151
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8982340967444871325 (index 152) to leader 2
term 25 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 15685 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
term 26 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 server 1 vote for server 2
term 27 server 0 vote for server 2
term 27 server 2 get vote from server 1
term 27 server 2 become leader
------------------------------------------------------
term 27 server 2 get outdate rpc reply from server 0
flag 79859 term 27 leader 2 nextIndex[0]: 153  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 20863 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 153->152
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 136  matchIndex[0]: 0
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 93646 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 27 server 0 InstallSnapshot success
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 25 rf.commitIndex 149 rf.lastApplied 149
term 27 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88817 term 27 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 91217 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
flag 43616 term 27 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 88687 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 27 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
update nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
flag 66817 term 27 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 31340 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
flag 59430 term 27 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 70494 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53905 term 27 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 91564 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
flag 99392 term 27 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 70709 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 35106 term 27 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 30636 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 68953 term 27 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 95500 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 27 server 1 not vote for server 0, 任期不够新
term 27 server 0 get outdate rpc reply from server 1
flag 44389 term 27 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 31106 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 28 server 1 vote for server 0
term 28 server 0 get vote from server 1
term 28 server 0 become leader
------------------------------------------------------
client write log 7128474215742037847 (index 153) to leader 0
flag 92262 term 28 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 77793 term 28 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152} {7128474215742037847 28 153}]
------------------------------------------------------
flag 24231 term 27 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 15370 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 153->152
------------------------------------------------------
flag 9972 term 28 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 28 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 65767 term 28 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152} {7128474215742037847 28 153}]
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 0  matchIndex[0]: 152
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 39820 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
client write log 361678975579020711 (index 154) to leader 0
client write log 2850840896558859347 (index 155) to leader 0
client write log 1637504534316580063 (index 156) to leader 0
client write log 7326417708839019044 (index 157) to leader 0
client write log 6193953727431754609 (index 158) to leader 0
client write log 4567858189802189746 (index 159) to leader 0
client write log 7082984475131490626 (index 160) to leader 0
client write log 5453575988761620746 (index 161) to leader 0
client write log 7774067488996483473 (index 162) to leader 0
client write log 2655379784015999147 (index 163) to leader 0
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 85400 term 28 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 28 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 15840 term 28 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 25 149} {5336905246891769271 25 150} {2745129784238921663 25 151} {8982340967444871325 25 152} {7128474215742037847 28 153} {361678975579020711 28 154} {2850840896558859347 28 155} {1637504534316580063 28 156} {7326417708839019044 28 157} {6193953727431754609 28 158} {4567858189802189746 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 0  matchIndex[0]: 152
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 51491 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 28 Server0 start snapshot! index=159
term 28 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=163
-------------------------------------------------------------
flag 92910 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 0  matchIndex[0]: 152
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 64117 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 28 Server1 start snapshot! index=159
term 28 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=163
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2080342845192220896 (index 153) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 153->152
------------------------------------------------------
flag 97477 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 28 rf.commitIndex 159 rf.lastApplied 159
term 28 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
flag 62821 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 89047 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52626 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 14513 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
flag 31446 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 35580 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
flag 22649 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 8037 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
flag 81947 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 82856 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
flag 37371 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 89798 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
flag 74271 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 7464 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
flag 43087 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 15644 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
flag 49062 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 88992 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
flag 9193 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 50530 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
flag 8918 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 1225 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
flag 12760 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 6368 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
flag 76699 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 92213 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
flag 84168 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 33126 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92128 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 23148 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41434 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 64636 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
flag 90922 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 51246 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2378 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 80235 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 164->163
------------------------------------------------------
flag 4148 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 163
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 2 InstallSnapshot fail
rf.commitIndex 163 args.LastIncludedIndex 159
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163}]
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
client write log 2080342845192220896 (index 164) to leader 0
flag 67110 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 62579 term 28 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164}]
------------------------------------------------------
flag 59843 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 19853 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164}]
------------------------------------------------------
flag 96055 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 40681 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164}]
------------------------------------------------------
flag 45659 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 4027 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164}]
------------------------------------------------------
flag 8393 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 33623 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164}]
------------------------------------------------------
flag 3814 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 71534 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1707029056156579230 (index 165) to leader 0
flag 27006 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 60681 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164} {1707029056156579230 28 165}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56905 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 36672 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164} {1707029056156579230 28 165}]
------------------------------------------------------
client write log 6395695750046950832 (index 166) to leader 0
client write log 3219793883234809998 (index 167) to leader 0
client write log 1421677974708444017 (index 168) to leader 0
client write log 5922414409180707448 (index 169) to leader 0
client write log 4279789769905806968 (index 170) to leader 0
client write log 6123631302719315584 (index 171) to leader 0
client write log 8064306109589949422 (index 172) to leader 0
term 28 server 2 not vote for server 0, 任期不够新
term 28 server 0 get outdate rpc reply from server 2
flag 43145 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 50709 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 159} {7082984475131490626 28 160} {5453575988761620746 28 161} {7774067488996483473 28 162} {2655379784015999147 28 163} {2080342845192220896 28 164} {1707029056156579230 28 165} {6395695750046950832 28 166} {3219793883234809998 28 167} {1421677974708444017 28 168} {5922414409180707448 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172}]
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 37657 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172}]
------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=172
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5124785045027789839 (index 173) to leader 0
term 28 server 2 not vote for server 1, 日志不够新
term 28 server 0 not vote for server 1, 日志不够新
term 30 server 2 vote for server 0
term 30 server 0 get vote from server 2
term 30 server 0 become leader
------------------------------------------------------
term 30 server 1 vote for server 0
term 30 server 0 get outdate rpc reply from server 1
flag 48916 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 93507 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 174->173
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 174->173
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 4819 term 30 leader 0 nextIndex[2]: 173  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
flag 53728 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 77053 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
flag 53746 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 54752 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
flag 55588 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 64139 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39034 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 57118 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
flag 60840 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 83421 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
flag 20029 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 25505 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
flag 35558 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 53931 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86449 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 20035 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55419 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 26446 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
flag 33198 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 97670 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
flag 63435 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 19481 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12683 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 73645 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
flag 88201 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 85409 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63211 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 6289 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
flag 96719 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 12130 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
flag 71313 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 55178 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
term 30 server 2 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 2
flag 48324 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 69198 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173}]
------------------------------------------------------
client write log 5124785045027789839 (index 174) to leader 0
flag 62746 term 30 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 55833 term 30 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174}]
------------------------------------------------------
flag 30370 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 75962 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40943 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 23021 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174}]
------------------------------------------------------
flag 97996 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 13799 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174}]
------------------------------------------------------
flag 2577 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 60174 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174}]
------------------------------------------------------
flag 4215 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 81583 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9092184474022193676 (index 175) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88545 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 43382 term 30 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174} {9092184474022193676 30 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18690 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 70147 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174} {9092184474022193676 30 175}]
------------------------------------------------------
client write log 195339113411885890 (index 176) to leader 0
client write log 4688853936085904689 (index 177) to leader 0
client write log 6847854293987438499 (index 178) to leader 0
client write log 4791898781707297568 (index 179) to leader 0
client write log 373379475398648285 (index 180) to leader 0
client write log 792470333591686193 (index 181) to leader 0
client write log 8827139490234347733 (index 182) to leader 0
client write log 1151403661648387935 (index 183) to leader 0
client write log 4779078337166263210 (index 184) to leader 0
client write log 5486470088084700206 (index 185) to leader 0
client write log 791564393099247157 (index 186) to leader 0
client write log 4553349452837042208 (index 187) to leader 0
flag 94293 term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 50517 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 169} {4279789769905806968 28 170} {6123631302719315584 28 171} {8064306109589949422 28 172} {5124785045027789839 28 173} {5124785045027789839 30 174} {9092184474022193676 30 175} {195339113411885890 30 176} {4688853936085904689 30 177} {6847854293987438499 30 178} {4791898781707297568 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187}]
------------------------------------------------------
term 30 Server0 start snapshot! index=179
term 30 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=187
-------------------------------------------------------------
term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 65727 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187}]
------------------------------------------------------
term 30 Server2 start snapshot! index=179
term 30 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=187
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6382065245357055039 (index 188) to leader 0
term 30 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 63071 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 31 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 vote for server 0
term 32 server 1 vote for server 0
term 32 server 0 get vote from server 2
term 32 server 0 become leader
------------------------------------------------------
term 32 server 0 get outdate rpc reply from server 1
flag 87724 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 99292 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 189->188
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 175  matchIndex[1]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 82152 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 1 InstallSnapshot success
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 30 rf.commitIndex 179 rf.lastApplied 179
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
flag 7762 term 32 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 30563 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
flag 19494 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 53595 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
flag 57912 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 44159 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
flag 66069 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 1704 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
flag 85036 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 24654 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
flag 17259 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 97342 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
flag 49418 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 3842 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
flag 46284 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 59155 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
flag 42593 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 72696 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57029 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 61716 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
flag 81921 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 31928 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44978 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 79245 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44459 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 45871 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
term 32 server 2 not vote for server 1, 任期不够新
term 32 server 1 get outdate rpc reply from server 2
flag 46335 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 54578 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
flag 20517 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 15770 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
flag 65079 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 96415 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188}]
------------------------------------------------------
client write log 6382065245357055039 (index 189) to leader 0
flag 70531 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 40172 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188} {6382065245357055039 32 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 179} {373379475398648285 30 180} {792470333591686193 30 181} {8827139490234347733 30 182} {1151403661648387935 30 183} {4779078337166263210 30 184} {5486470088084700206 30 185} {791564393099247157 30 186} {4553349452837042208 30 187} {6382065245357055039 30 188} {6382065245357055039 32 189}]
------------------------------------------------------
term 32 Server0 start snapshot! index=189
term 32 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42320 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 56053 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
term 32 Server2 start snapshot! index=189
term 32 Server1 start snapshot! index=189
term 32 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 32 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
flag 76428 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 68585 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
flag 39771 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 43789 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
flag 64370 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 71061 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
flag 48784 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 40815 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 69888 term 32 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 4347 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 190->189
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 37059 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 47144 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 33 server 1 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
------------------------------------------------------
client write log 607958805826541220 (index 190) to leader 2
flag 83780 term 33 leader 2 nextIndex[0]: 190  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 35217 term 33 leader 2 nextIndex[1]: 190  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {607958805826541220 33 190}]
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 43364 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 72232 term 33 leader 2 nextIndex[0]: 190  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 8861 term 33 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 33 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {607958805826541220 33 190}]
------------------------------------------------------
client write log 4519060179007934560 (index 191) to leader 2
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 43798 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 6524 term 33 leader 2 nextIndex[0]: 190  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 45368 term 33 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 33 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191}]
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 51623 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 11576 term 33 leader 2 nextIndex[0]: 190  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 16780 term 33 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 33 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7805990043310561047 (index 192) to leader 2
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 16790 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 33 server 2 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
term 33 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28610 term 33 leader 2 nextIndex[0]: 190  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 92090 term 33 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 33 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
term 33 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71345 term 33 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 21732 term 33 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89062 term 33 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 19704 term 33 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192}]
------------------------------------------------------
flag 63353 term 33 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 32779 term 33 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192}]
------------------------------------------------------
flag 91002 term 33 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 99765 term 33 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192}]
------------------------------------------------------
flag 77813 term 33 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 19266 term 33 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192}]
------------------------------------------------------
flag 6587 term 33 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 16206 term 33 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5676205423275699578 (index 193) to leader 2
flag 92169 term 33 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 55030 term 33 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192} {5676205423275699578 33 193}]
------------------------------------------------------
flag 27811 term 33 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
flag 71155 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192} {5676205423275699578 33 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 193->192
------------------------------------------------------
client write log 173338226535003096 (index 194) to leader 2
client write log 4615707273255476748 (index 195) to leader 2
client write log 7033880940611438834 (index 196) to leader 2
client write log 5800904989421799945 (index 197) to leader 2
client write log 2978444677635220792 (index 198) to leader 2
client write log 647483266644374015 (index 199) to leader 2
client write log 7132010954470987059 (index 200) to leader 2
client write log 3051476816584973950 (index 201) to leader 2
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 192
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 82403 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 189} {607958805826541220 33 190} {4519060179007934560 33 191} {7805990043310561047 33 192} {5676205423275699578 33 193} {173338226535003096 33 194} {4615707273255476748 33 195} {7033880940611438834 33 196} {5800904989421799945 33 197} {2978444677635220792 33 198} {647483266644374015 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201}]
------------------------------------------------------
term 33 Server2 start snapshot! index=199
term 33 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=201
-------------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 192
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 99877 term 33 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 Server1 start snapshot! index=199
term 33 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=201
-------------------------------------------------------------
!!!!!!connect server 0
client write log 9193971509495501180 (index 202) to leader 2
term 33 server 2 not vote for server 0, 日志不够新
term 33 server 1 not vote for server 0, 日志不够新
term 35 server 1 vote for server 2
term 35 server 2 get vote from server 1
term 35 server 0 vote for server 2
term 35 server 2 become leader
------------------------------------------------------
term 35 server 2 get outdate rpc reply from server 0
flag 33152 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 7380 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 203->202
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 203->202
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 2 nextIndex[0]: 193  matchIndex[0]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 79750 term 35 leader 2 nextIndex[1]: 202  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 0 InstallSnapshot success
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 33 rf.commitIndex 199 rf.lastApplied 199
term 35 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
flag 43826 term 35 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 35 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 66865 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
term 35 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50160 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 33838 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
flag 78237 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 24408 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
flag 93279 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 55632 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23991 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 62784 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5849 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 72299 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
flag 6543 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 16349 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
flag 42224 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 40608 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22360 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 9882 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48250 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 61914 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
flag 36305 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 52930 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
term 35 server 1 get outdate rpc reply from server 0
flag 17938 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 5642 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
flag 35246 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 30426 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
flag 23528 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 94411 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98379 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 19636 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
flag 30135 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 1767 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
flag 23506 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 17625 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
flag 63086 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 88701 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202}]
------------------------------------------------------
client write log 9193971509495501180 (index 203) to leader 2
flag 66539 term 35 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 13113 term 35 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 35 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203}]
------------------------------------------------------
flag 91124 term 35 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 46093 term 35 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203}]
------------------------------------------------------
flag 59476 term 35 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 87852 term 35 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203}]
------------------------------------------------------
flag 75136 term 35 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 33182 term 35 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19212 term 35 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 244 term 35 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203}]
------------------------------------------------------
flag 24922 term 35 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 96328 term 35 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91109 term 35 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 32851 term 35 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1178715933597751909 (index 204) to leader 2
flag 60893 term 35 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
flag 57447 term 35 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 203 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203} {1178715933597751909 35 204}]
------------------------------------------------------
flag 11993 term 35 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 51151 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203} {1178715933597751909 35 204}]
------------------------------------------------------
client write log 4031620919269060090 (index 205) to leader 2
client write log 4562842262014588912 (index 206) to leader 2
client write log 46130359063535519 (index 207) to leader 2
client write log 4387100013909628835 (index 208) to leader 2
client write log 435774956662254686 (index 209) to leader 2
client write log 849410347964203609 (index 210) to leader 2
client write log 3877341174802432603 (index 211) to leader 2
client write log 3055417125645849530 (index 212) to leader 2
client write log 8326473032321957158 (index 213) to leader 2
client write log 4882093563551669881 (index 214) to leader 2
client write log 5314912909413546880 (index 215) to leader 2
flag 95744 term 35 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 52607 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 33 199} {7132010954470987059 33 200} {3051476816584973950 33 201} {9193971509495501180 33 202} {9193971509495501180 35 203} {1178715933597751909 35 204} {4031620919269060090 35 205} {4562842262014588912 35 206} {46130359063535519 35 207} {4387100013909628835 35 208} {435774956662254686 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215}]
------------------------------------------------------
term 35 Server2 start snapshot! index=209
term 35 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=215
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 72654 term 35 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215}]
------------------------------------------------------
term 35 Server1 start snapshot! index=209
term 35 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=215
-------------------------------------------------------------
!!!!!!connect server 0
client write log 397674897274658492 (index 216) to leader 2
term 35 server 1 not vote for server 0, 日志不够新
term 35 server 2 not vote for server 0, 日志不够新
term 37 server 1 vote for server 2
term 37 server 0 vote for server 2
term 37 server 2 get vote from server 1
term 37 server 2 become leader
------------------------------------------------------
term 37 server 2 get outdate rpc reply from server 0
flag 55934 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 42891 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 217->216
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 217->216
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 204  matchIndex[0]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 87419 term 37 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
term 37 server 0 InstallSnapshot success
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 35 rf.commitIndex 209 rf.lastApplied 209
flag 7494 term 37 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 35854 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9884 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 95879 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
flag 74816 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 10015 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
flag 22131 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 37072 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
flag 85419 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 98004 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
flag 23248 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 83903 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
flag 3755 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 53248 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
flag 52795 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 79788 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
flag 52278 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 92331 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
flag 88003 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 51585 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60796 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 43246 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34510 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 64918 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
flag 96584 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 27209 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26588 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 56763 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
term 37 server 0 not vote for server 2, 任期不够新
term 37 server 2 get outdate rpc reply from server 0
flag 88883 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 5321 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
flag 92392 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 56137 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
flag 41207 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 74003 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
flag 12221 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 83200 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216}]
------------------------------------------------------
client write log 397674897274658492 (index 217) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55631 term 37 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 89803 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217}]
------------------------------------------------------
flag 27966 term 37 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
flag 83820 term 37 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217}]
------------------------------------------------------
flag 26234 term 37 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
flag 83519 term 37 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217}]
------------------------------------------------------
flag 32759 term 37 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
flag 39676 term 37 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217}]
------------------------------------------------------
flag 97833 term 37 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
flag 99392 term 37 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97281 term 37 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
flag 22159 term 37 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 4760 term 37 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
flag 11728 term 37 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
flag 57753 term 37 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
flag 87308 term 37 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
flag 68467 term 37 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
flag 1712 term 37 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 38 server 1 vote for server 0
term 38 server 0 get vote from server 1
term 38 server 0 become leader
------------------------------------------------------
flag 42687 term 38 leader 0 nextIndex[1]: 218  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
flag 21967 term 38 leader 0 nextIndex[2]: 218  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217}]
------------------------------------------------------
client write log 2873135970266039594 (index 218) to leader 0
flag 79534 term 37 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
flag 70536 term 37 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 218->217
------------------------------------------------------
flag 58432 term 38 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 38 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
flag 31709 term 38 leader 0 nextIndex[2]: 218  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217} {2873135970266039594 38 218}]
------------------------------------------------------
flag 91223 term 37 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 37 leader 2 nextIndex[1]: 0  matchIndex[1]: 217
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 8399 term 38 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 38 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 38 leaderCommit: 218 
------------------------------------------------------
flag 13707 term 38 leader 0 nextIndex[2]: 218  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217} {2873135970266039594 38 218}]
------------------------------------------------------
client write log 2614272985616362613 (index 219) to leader 0
client write log 6705405952973242131 (index 220) to leader 0
client write log 5094020858939489335 (index 221) to leader 0
client write log 5379018033097140797 (index 222) to leader 0
client write log 7463052656338428768 (index 223) to leader 0
client write log 2462878608749370105 (index 224) to leader 0
client write log 8226620724996605531 (index 225) to leader 0
client write log 8585141023421408347 (index 226) to leader 0
client write log 1205230613598996014 (index 227) to leader 0
client write log 839950713919451356 (index 228) to leader 0
client write log 8093720614861598802 (index 229) to leader 0
client write log 4570485244030959336 (index 230) to leader 0
flag 45189 term 37 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 37 leader 2 nextIndex[1]: 0  matchIndex[1]: 217
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 8686 term 38 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 38 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 38 leaderCommit: 218 
------------------------------------------------------
flag 26792 term 38 leader 0 nextIndex[2]: 218  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 35 209} {849410347964203609 35 210} {3877341174802432603 35 211} {3055417125645849530 35 212} {8326473032321957158 35 213} {4882093563551669881 35 214} {5314912909413546880 35 215} {397674897274658492 35 216} {397674897274658492 37 217} {2873135970266039594 38 218} {2614272985616362613 38 219} {6705405952973242131 38 220} {5094020858939489335 38 221} {5379018033097140797 38 222} {7463052656338428768 38 223} {2462878608749370105 38 224} {8226620724996605531 38 225} {8585141023421408347 38 226} {1205230613598996014 38 227} {839950713919451356 38 228} {8093720614861598802 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 38 Server0 start snapshot! index=219
term 38 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=230
-------------------------------------------------------------
term 38 Server0 start snapshot! index=229
term 38 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
flag 93030 term 37 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 37 leader 2 nextIndex[1]: 0  matchIndex[1]: 217
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 83271 term 38 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 218  matchIndex[2]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 38 Server1 start snapshot! index=219
term 38 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=230
-------------------------------------------------------------
term 38 Server1 start snapshot! index=229
term 38 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
!!!!!!connect server 2
client write log 74862875371538764 (index 218) to leader 2
flag 78589 term 37 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 37 leader 2 nextIndex[1]: 0  matchIndex[1]: 217
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 38 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 server 0 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
term 37 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19403 term 38 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 218  matchIndex[2]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 38 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 38 rf.commitIndex 229 rf.lastApplied 229
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 日志不够新
term 38 server 0 not vote for server 2, 日志不够新
term 40 server 2 vote for server 0
term 40 server 1 vote for server 0
term 40 server 0 get vote from server 1
term 40 server 0 become leader
------------------------------------------------------
term 40 server 0 get outdate rpc reply from server 2
flag 99879 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 90777 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 231->230
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
flag 63676 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 63877 term 40 leader 0 nextIndex[2]: 230  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
flag 75571 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 70068 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17773 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 20473 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
flag 85604 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 34082 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
flag 79962 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 15444 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
flag 75470 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 23132 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
flag 94082 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 9023 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
flag 58568 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 65997 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3050 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 71288 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
flag 15690 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 73604 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50309 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 22731 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14991 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 92749 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
flag 57798 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 51872 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
flag 80575 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 72974 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
flag 31597 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 13558 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36030 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 14907 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41636 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 36529 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {4570485244030959336 38 230}]
------------------------------------------------------
client write log 74862875371538764 (index 231) to leader 0
flag 12363 term 40 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 18689 term 40 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231}]
------------------------------------------------------
flag 95940 term 40 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
flag 45937 term 40 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231}]
------------------------------------------------------
flag 14391 term 40 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
flag 49507 term 40 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231}]
------------------------------------------------------
flag 60230 term 40 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
flag 62151 term 40 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231}]
------------------------------------------------------
flag 22299 term 40 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
flag 34759 term 40 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231}]
------------------------------------------------------
flag 19570 term 40 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
flag 1654 term 40 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231}]
------------------------------------------------------
flag 76435 term 40 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
flag 26823 term 40 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3205763994068099816 (index 232) to leader 0
flag 60821 term 40 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
flag 87127 term 40 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231} {3205763994068099816 40 232}]
------------------------------------------------------
flag 11671 term 40 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 62553 term 40 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 40 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231} {3205763994068099816 40 232}]
------------------------------------------------------
client write log 6726599433833597589 (index 233) to leader 0
client write log 4697102901591403125 (index 234) to leader 0
client write log 661142341374881063 (index 235) to leader 0
client write log 6091318336630788702 (index 236) to leader 0
client write log 1806802594649968887 (index 237) to leader 0
client write log 960250690759759113 (index 238) to leader 0
client write log 8021325870113175220 (index 239) to leader 0
client write log 7870166376209508522 (index 240) to leader 0
client write log 9088284480364277241 (index 241) to leader 0
client write log 8802893488511862693 (index 242) to leader 0
client write log 3988706597687855328 (index 243) to leader 0
client write log 5058036809067038887 (index 244) to leader 0
client write log 226549197813083694 (index 245) to leader 0
client write log 9215026701348318180 (index 246) to leader 0
flag 39297 term 40 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 69168 term 40 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 40 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 38 229} {4570485244030959336 38 230} {74862875371538764 40 231} {3205763994068099816 40 232} {6726599433833597589 40 233} {4697102901591403125 40 234} {661142341374881063 40 235} {6091318336630788702 40 236} {1806802594649968887 40 237} {960250690759759113 40 238} {8021325870113175220 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246}]
------------------------------------------------------
term 40 Server0 start snapshot! index=239
term 40 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=246
-------------------------------------------------------------
term 40 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 51521 term 40 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 40 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246}]
------------------------------------------------------
term 40 Server2 start snapshot! index=239
term 40 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=246
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6473565144370513076 (index 247) to leader 0
term 40 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 24766 term 40 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 40 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 41 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 vote for server 0
term 42 server 1 vote for server 0
term 42 server 0 get vote from server 2
term 42 server 0 become leader
------------------------------------------------------
term 42 server 0 get outdate rpc reply from server 1
flag 64015 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 1741 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 248->247
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 232  matchIndex[1]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 91028 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 40 rf.commitIndex 239 rf.lastApplied 239
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
flag 39747 term 42 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 42 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 80116 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19554 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 29998 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
flag 41186 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 14092 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
flag 90286 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 15436 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
flag 83977 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 11281 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55020 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 55594 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
flag 29833 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 84679 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
flag 78289 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 84571 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
flag 30812 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 4470 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
flag 32314 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 53595 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
flag 9020 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 60490 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15998 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 85984 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
flag 49851 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 49403 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50392 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 59542 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
term 42 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89325 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 49887 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68205 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 21185 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6473565144370513076 (index 248) to leader 0
flag 99891 term 42 leader 0 nextIndex[1]: 248  matchIndex[1]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 28867 term 42 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35348 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 22820 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248}]
------------------------------------------------------
flag 18029 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 14494 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71830 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 43200 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248}]
------------------------------------------------------
flag 44393 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 20736 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 2
flag 59758 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 35528 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20451 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 28582 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2242586316193403800 (index 249) to leader 0
flag 11681 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 82239 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 40 239} {7870166376209508522 40 240} {9088284480364277241 40 241} {8802893488511862693 40 242} {3988706597687855328 40 243} {5058036809067038887 40 244} {226549197813083694 40 245} {9215026701348318180 40 246} {6473565144370513076 40 247} {6473565144370513076 42 248} {2242586316193403800 42 249}]
------------------------------------------------------
term 42 Server0 start snapshot! index=249
term 42 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 6103 term 42 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 249}]
------------------------------------------------------
term 42 Server2 start snapshot! index=249
term 42 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
client write log 5112047556813465436 (index 250) to leader 0
client write log 6878587202677969899 (index 251) to leader 0
client write log 2466162285699107965 (index 252) to leader 0
client write log 2134750107800315421 (index 253) to leader 0
client write log 2921694687695602538 (index 254) to leader 0
client write log 220130735511346769 (index 255) to leader 0
term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 8451 term 42 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255}]
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 6210 term 42 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 42 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 255 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8951576999257544168 (index 256) to leader 0
term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 73151 term 42 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 42 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 255 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 43 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 server 2 vote for server 0
term 44 server 0 get vote from server 2
term 44 server 0 become leader
------------------------------------------------------
term 44 server 1 vote for server 0
term 44 server 0 get outdate rpc reply from server 1
flag 18330 term 44 leader 0 nextIndex[1]: 257  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 22550 term 44 leader 0 nextIndex[2]: 257  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 257->256
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 not vote for server 1, 任期不够新
term 44 server 1 get outdate rpc reply from server 2
term 44 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 28063 term 44 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
term 44 server 1 InstallSnapshot success
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 42 rf.commitIndex 249 rf.lastApplied 249
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41772 term 44 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 44 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 83256 term 44 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
flag 29517 term 44 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 20769 term 44 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
flag 86568 term 44 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 1043 term 44 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
flag 88738 term 44 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 42718 term 44 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
flag 98412 term 44 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 29903 term 44 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
flag 42612 term 44 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 57887 term 44 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 55694 term 44 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 13277 term 44 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 739 term 44 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 57419 term 44 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 33256 term 44 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 58812 term 44 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 45 server 1 vote for server 2
term 45 server 2 get vote from server 1
term 45 server 2 become leader
------------------------------------------------------
flag 85516 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 78518 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256}]
------------------------------------------------------
client write log 6808708095134144692 (index 257) to leader 2
flag 65048 term 44 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 97406 term 44 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 68221 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 56992 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256} {6808708095134144692 45 257}]
------------------------------------------------------
flag 29934 term 44 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
flag 86415 term 44 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 257->256
------------------------------------------------------
flag 39793 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 257 
------------------------------------------------------
flag 84777 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256} {6808708095134144692 45 257}]
------------------------------------------------------
client write log 5124292215921646382 (index 258) to leader 2
flag 47538 term 44 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 256
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 25155 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 257 
------------------------------------------------------
flag 67633 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256} {6808708095134144692 45 257} {5124292215921646382 45 258}]
------------------------------------------------------
flag 79867 term 44 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 44 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 256
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 257->256
------------------------------------------------------
flag 80959 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 24067 term 45 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256} {6808708095134144692 45 257} {5124292215921646382 45 258}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1658897410993934067 (index 259) to leader 2
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 256
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 256
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
term 45 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37195 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 60981 term 45 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256} {6808708095134144692 45 257} {5124292215921646382 45 258} {1658897410993934067 45 259}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 249} {5112047556813465436 42 250} {6878587202677969899 42 251} {2466162285699107965 42 252} {2134750107800315421 42 253} {2921694687695602538 42 254} {220130735511346769 42 255} {8951576999257544168 42 256} {6808708095134144692 45 257} {5124292215921646382 45 258} {1658897410993934067 45 259}]
------------------------------------------------------
term 45 Server2 start snapshot! index=259
term 45 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 81488 term 45 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 84312 term 45 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
term 45 Server1 start snapshot! index=259
term 45 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 45 Server0 start snapshot! index=259
term 45 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74250 term 45 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 64009 term 45 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
term 45 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52819 term 45 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 24331 term 45 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
flag 9112 term 45 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 84746 term 45 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
term 45 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
[{snapshot 45 259}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
term 45 server 0 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 0
flag 78751 term 45 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 80909 term 45 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
flag 32499 term 45 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 32059 term 45 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2388769098764138645 (index 260) to leader 2
flag 35815 term 45 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 55716 term 45 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {2388769098764138645 45 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24310 term 45 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 40614 term 45 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 45 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {2388769098764138645 45 260}]
------------------------------------------------------
client write log 188585056680169376 (index 261) to leader 2
client write log 8384236402427918378 (index 262) to leader 2
client write log 6234921779326730249 (index 263) to leader 2
client write log 1355113045599716129 (index 264) to leader 2
client write log 1610300209489437871 (index 265) to leader 2
client write log 1790822937136984331 (index 266) to leader 2
client write log 7183326105700284999 (index 267) to leader 2
client write log 3527912874811551827 (index 268) to leader 2
flag 22643 term 45 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 4576 term 45 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 45 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {2388769098764138645 45 260} {188585056680169376 45 261} {8384236402427918378 45 262} {6234921779326730249 45 263} {1355113045599716129 45 264} {1610300209489437871 45 265} {1790822937136984331 45 266} {7183326105700284999 45 267} {3527912874811551827 45 268}]
------------------------------------------------------
flag 14175 term 45 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 81103 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {2388769098764138645 45 260} {188585056680169376 45 261} {8384236402427918378 45 262} {6234921779326730249 45 263} {1355113045599716129 45 264} {1610300209489437871 45 265} {1790822937136984331 45 266} {7183326105700284999 45 267} {3527912874811551827 45 268}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 260->259
------------------------------------------------------
!!!!!!connect server 0
client write log 387356717071656156 (index 269) to leader 2
term 45 leader 2 nextIndex[0]: 0  matchIndex[0]: 259
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
flag 92556 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 259} {2388769098764138645 45 260} {188585056680169376 45 261} {8384236402427918378 45 262} {6234921779326730249 45 263} {1355113045599716129 45 264} {1610300209489437871 45 265} {1790822937136984331 45 266} {7183326105700284999 45 267} {3527912874811551827 45 268} {387356717071656156 45 269}]
------------------------------------------------------
term 46 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 Server2 start snapshot! index=269
term 46 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 1 not vote for server 0, 日志不够新
term 47 server 1 vote for server 2
term 47 server 2 get vote from server 1
term 47 server 0 vote for server 2
term 47 server 2 become leader
------------------------------------------------------
term 47 server 2 get outdate rpc reply from server 0
flag 24854 term 47 leader 2 nextIndex[0]: 270  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
flag 60791 term 47 leader 2 nextIndex[1]: 270  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 270->269
------------------------------------------------------
term 47 Server1 start snapshot! index=269
term 47 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
term 47 leader 2 nextIndex[0]: 260  matchIndex[0]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
flag 55090 term 47 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
term 47 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 45 rf.commitIndex 269 rf.lastApplied 269
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52821 term 47 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
flag 36317 term 47 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
flag 63088 term 47 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
flag 66134 term 47 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 47 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
update nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
flag 10915 term 47 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
flag 86493 term 47 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
flag 75740 term 47 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
flag 63298 term 47 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 9102867940140533932 (index 270) to leader 2
flag 72256 term 47 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
flag 56887 term 47 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {9102867940140533932 47 270}]
------------------------------------------------------
flag 73059 term 47 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
flag 73340 term 47 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 47 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {9102867940140533932 47 270}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 9208484655646203534 (index 271) to leader 2
client write log 7017449175140627619 (index 272) to leader 2
client write log 9192474440524135060 (index 273) to leader 2
client write log 6414493267040459816 (index 274) to leader 2
client write log 717963055992145235 (index 275) to leader 2
client write log 7888749183834836481 (index 276) to leader 2
client write log 4412729076791456059 (index 277) to leader 2
client write log 7306412187085225789 (index 278) to leader 2
client write log 7780188551255012938 (index 279) to leader 2
client write log 73112666932384597 (index 280) to leader 2
client write log 3737960808317854750 (index 281) to leader 2
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13525 term 47 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
flag 34381 term 47 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 47 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 269} {9102867940140533932 47 270} {9208484655646203534 47 271} {7017449175140627619 47 272} {9192474440524135060 47 273} {6414493267040459816 47 274} {717963055992145235 47 275} {7888749183834836481 47 276} {4412729076791456059 47 277} {7306412187085225789 47 278} {7780188551255012938 47 279} {73112666932384597 47 280} {3737960808317854750 47 281}]
------------------------------------------------------
term 47 Server2 start snapshot! index=279
term 47 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=281
-------------------------------------------------------------
term 47 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 30177 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281}]
------------------------------------------------------
term 47 Server1 start snapshot! index=279
term 47 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=281
-------------------------------------------------------------
!!!!!!connect server 0
client write log 181548463111236434 (index 282) to leader 2
term 47 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 79730 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
term 48 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 1 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
term 49 server 0 vote for server 2
term 49 server 2 get outdate rpc reply from server 0
flag 39578 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 58549 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 283->282
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 270  matchIndex[0]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 87610 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 47 rf.commitIndex 279 rf.lastApplied 279
flag 85378 term 49 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 49 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 60714 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40322 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 36785 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
flag 17317 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 25883 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49024 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 28135 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
flag 14799 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 17836 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
term 49 server 0 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 0
flag 55336 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 6276 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80231 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 67557 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 92814 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 92857 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37008 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 57863 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 11907 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 28370 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 50 server 0 vote for server 1
term 50 server 1 get vote from server 0
term 50 server 1 become leader
------------------------------------------------------
flag 14631 term 50 leader 1 nextIndex[0]: 283  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 94456 term 50 leader 1 nextIndex[2]: 283  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282}]
------------------------------------------------------
client write log 453615446260955876 (index 283) to leader 1
flag 23079 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 12409 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 48996 term 50 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 50 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 9635 term 50 leader 1 nextIndex[2]: 283  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283}]
------------------------------------------------------
flag 72205 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 42736 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 12785 term 50 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 57105 term 50 leader 1 nextIndex[2]: 283  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4290742011252611015 (index 284) to leader 1
flag 16202 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 13508 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 10137 term 50 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 57681 term 50 leader 1 nextIndex[2]: 283  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284}]
------------------------------------------------------
flag 24185 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 70511 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 74297 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 17445 term 50 leader 1 nextIndex[2]: 283  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 599836599028289448 (index 285) to leader 1
flag 98462 term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 80146 term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 49 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 50 server 1 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 50 server 0 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53943 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 36788 term 50 leader 1 nextIndex[2]: 283  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89568 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 61164 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21705 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 39672 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285}]
------------------------------------------------------
flag 37084 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 56851 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285}]
------------------------------------------------------
flag 93811 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 81383 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285}]
------------------------------------------------------
flag 61312 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 58458 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7562022004031004135 (index 286) to leader 1
flag 61968 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 59967 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285} {7562022004031004135 50 286}]
------------------------------------------------------
flag 5117 term 50 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 50 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 50 leaderCommit: 286 
------------------------------------------------------
flag 83078 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 286 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285} {7562022004031004135 50 286}]
------------------------------------------------------
client write log 2159307710811298542 (index 287) to leader 1
client write log 1548172729959508226 (index 288) to leader 1
client write log 5727157713511217259 (index 289) to leader 1
client write log 5121396957037710663 (index 290) to leader 1
client write log 1547174918277518844 (index 291) to leader 1
client write log 8690672628234228821 (index 292) to leader 1
client write log 4511077118651395415 (index 293) to leader 1
client write log 3808399540679843398 (index 294) to leader 1
client write log 7462621550684464411 (index 295) to leader 1
client write log 8186163598941767781 (index 296) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66824 term 50 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 50 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 50 leaderCommit: 286 
------------------------------------------------------
flag 84538 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 286 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 47 279} {73112666932384597 47 280} {3737960808317854750 47 281} {181548463111236434 47 282} {453615446260955876 50 283} {4290742011252611015 50 284} {599836599028289448 50 285} {7562022004031004135 50 286} {2159307710811298542 50 287} {1548172729959508226 50 288} {5727157713511217259 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296}]
------------------------------------------------------
term 50 Server1 start snapshot! index=289
term 50 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=296
-------------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69106 term 50 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296}]
------------------------------------------------------
term 50 Server0 start snapshot! index=289
term 50 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=296
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4248476641638522069 (index 297) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90776 term 50 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
term 51 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 2 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
term 52 server 0 vote for server 1
term 52 server 1 get outdate rpc reply from server 0
flag 59514 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 67131 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 298->297
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24974 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 50 rf.commitIndex 289 rf.lastApplied 289
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
flag 21826 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 13924 term 52 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 52 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
flag 92205 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 58219 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
flag 33279 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 50679 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
flag 74642 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 72192 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
term 52 server 0 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15892 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 11762 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60729 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 79963 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83805 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 55807 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12930 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 92678 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
flag 35196 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 23273 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
term 52 server 2 not vote for server 0, 任期不够新
term 52 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86366 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 82969 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37227 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 49785 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61289 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 4041 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
term 52 server 1 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 1
flag 96597 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 1025 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34228 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 38019 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
term 52 server 2 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97459 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 27296 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
flag 84366 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 12520 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50012 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 62067 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
update nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297}]
------------------------------------------------------
client write log 4248476641638522069 (index 298) to leader 1
flag 12637 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 95222 term 52 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297} {4248476641638522069 52 298}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297} {4248476641638522069 52 298}]
------------------------------------------------------
flag 50211 term 52 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 52 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
flag 54428 term 52 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 52 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297} {4248476641638522069 52 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297} {4248476641638522069 52 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11407 term 52 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 52 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
flag 79242 term 52 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 52 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297} {4248476641638522069 52 298}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297} {4248476641638522069 52 298}]
------------------------------------------------------
flag 57452 term 52 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 52 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
flag 33152 term 52 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 52 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297} {4248476641638522069 52 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297} {4248476641638522069 52 298}]
------------------------------------------------------
term 52 server 1 not vote for server 0, 任期不够新
term 52 server 0 get outdate rpc reply from server 1
flag 92980 term 52 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 52 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
flag 98779 term 52 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 52 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297} {4248476641638522069 52 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297} {4248476641638522069 52 298}]
------------------------------------------------------
flag 73658 term 52 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 52 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
flag 38081 term 52 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 52 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297} {4248476641638522069 52 298}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297} {4248476641638522069 52 298}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1918007176215891995 (index 299) to leader 1
flag 15636 term 52 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 52 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
flag 89147 term 52 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 52 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 52 leaderCommit: 298 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 289} {5121396957037710663 50 290} {1547174918277518844 50 291} {8690672628234228821 50 292} {4511077118651395415 50 293} {3808399540679843398 50 294} {7462621550684464411 50 295} {8186163598941767781 50 296} {4248476641638522069 50 297} {4248476641638522069 52 298} {1918007176215891995 52 299}]
------------------------------------------------------
term 52 Server1 start snapshot! index=299
term 52 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 76943 term 52 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 52 leaderCommit: 299 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 52 299}]
------------------------------------------------------
term 52 Server0 start snapshot! index=299
term 52 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
client write log 5084172931405364815 (index 300) to leader 1
client write log 1737827084557048270 (index 301) to leader 1
client write log 3050233519348584597 (index 302) to leader 1
client write log 992956238901198063 (index 303) to leader 1
client write log 2089763767708068873 (index 304) to leader 1
client write log 998477486127977685 (index 305) to leader 1
client write log 8769297744122734260 (index 306) to leader 1
client write log 7092898078222758542 (index 307) to leader 1
client write log 1129181942388685787 (index 308) to leader 1
client write log 6207296416954951626 (index 309) to leader 1
client write log 1587492373441129262 (index 310) to leader 1
client write log 1729729415115537092 (index 311) to leader 1
client write log 4959241986073123457 (index 312) to leader 1
client write log 2314243977070374126 (index 313) to leader 1
client write log 5376867490176878253 (index 314) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23296 term 52 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 52 leaderCommit: 299 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 52 299} {5084172931405364815 52 300} {1737827084557048270 52 301} {3050233519348584597 52 302} {992956238901198063 52 303} {2089763767708068873 52 304} {998477486127977685 52 305} {8769297744122734260 52 306} {7092898078222758542 52 307} {1129181942388685787 52 308} {6207296416954951626 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314}]
------------------------------------------------------
term 52 Server1 start snapshot! index=309
term 52 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=314
-------------------------------------------------------------
flag 34188 term 52 leader 1 nextIndex[0]: 315  matchIndex[0]: 314
term 52 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314}]
------------------------------------------------------
term 52 Server0 start snapshot! index=309
term 52 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=314
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1058445979752168967 (index 315) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 1 not vote for server 2, 日志不够新
term 52 server 0 not vote for server 2, 日志不够新
term 54 server 2 vote for server 1
term 54 server 0 vote for server 1
term 54 server 1 get vote from server 2
term 54 server 1 become leader
------------------------------------------------------
term 54 server 1 get outdate rpc reply from server 0
flag 3675 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 96387 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 316->315
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 316->315
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92773 term 54 leader 1 nextIndex[0]: 315  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 299  matchIndex[2]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
term 54 server 2 InstallSnapshot success
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 52 rf.commitIndex 309 rf.lastApplied 309
term 54 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
term 54 server 2 not vote for server 0, 任期不够新
term 54 server 0 get outdate rpc reply from server 2
flag 31575 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 78799 term 54 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 54 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
flag 64457 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 2764 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
flag 5396 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 71449 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
flag 8742 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 38123 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99189 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 15642 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60659 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 68298 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
flag 38080 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 71816 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
flag 50482 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 6586 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
flag 43308 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 967 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19075 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 76783 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
flag 18282 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 84773 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51151 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 451 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
flag 5566 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 63586 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
flag 79094 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 96157 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
flag 94000 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 35089 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
flag 22337 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 5752 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82749 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 49628 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88990 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 46439 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315}]
------------------------------------------------------
client write log 1058445979752168967 (index 316) to leader 1
flag 92667 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
flag 59388 term 54 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 314 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
flag 17493 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 54558 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
flag 60607 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 28894 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48339 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 98623 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
flag 82872 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 10901 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
flag 74726 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 8061 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
flag 93735 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 52277 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 22557 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 97842 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 37983 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 11968 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 56059 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 5620 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 server 2 vote for server 0
term 55 server 0 get vote from server 2
term 55 server 0 become leader
------------------------------------------------------
flag 40595 term 55 leader 0 nextIndex[1]: 317  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 82178 term 55 leader 0 nextIndex[2]: 317  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316}]
------------------------------------------------------
flag 78349 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 70572 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
client write log 2685996583748425549 (index 317) to leader 0
flag 77419 term 55 leader 0 nextIndex[1]: 317  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 69294 term 55 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 55 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317}]
------------------------------------------------------
flag 99615 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 51804 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 15197 term 55 leader 0 nextIndex[1]: 317  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 26299 term 55 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 55 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317}]
------------------------------------------------------
flag 68113 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 16691 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
client write log 62866763786749313 (index 318) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62467 term 55 leader 0 nextIndex[1]: 317  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 66176 term 55 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 55 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
flag 3218 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 1936 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 317->316
------------------------------------------------------
term 55 server 0 not vote for server 2, 任期不够新
term 55 server 2 get outdate rpc reply from server 0
term 55 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
flag 2068 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
flag 23440 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
flag 9507 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 54 leaderCommit: 316 
------------------------------------------------------
!!!!!!connect server 1
client write log 3059761324954514640 (index 317) to leader 1
term 55 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
flag 81651 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
term 55 server 1 InstallSnapshot fail
rf.commitIndex 316 args.LastIncludedIndex 309
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
flag 43982 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 2187 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43951 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 25962 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
flag 50450 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 73250 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
flag 94644 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 20310 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
flag 53844 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 66325 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
flag 47131 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 70489 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
flag 22400 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 35660 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
flag 61371 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 22489 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
flag 40713 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 38777 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13594 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 38228 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
flag 92541 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 73197 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8610 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 91085 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
flag 55892 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 39378 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
flag 62393 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 5078 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26358 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 52257 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83741 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 4150 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81592 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 58258 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
flag 26954 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 74218 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
flag 35483 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 4263 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318}]
------------------------------------------------------
client write log 3059761324954514640 (index 319) to leader 0
flag 51499 term 55 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
flag 81160 term 55 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 55 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 318 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318} {3059761324954514640 55 319}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 309} {1587492373441129262 52 310} {1729729415115537092 52 311} {4959241986073123457 52 312} {2314243977070374126 52 313} {5376867490176878253 52 314} {1058445979752168967 52 315} {1058445979752168967 54 316} {2685996583748425549 55 317} {62866763786749313 55 318} {3059761324954514640 55 319}]
------------------------------------------------------
term 55 Server0 start snapshot! index=319
term 55 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
flag 27575 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 319 
------------------------------------------------------
flag 80263 term 55 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 319 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 55 319}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 55 319}]
------------------------------------------------------
term 55 Server2 start snapshot! index=319
term 55 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 55 Server1 start snapshot! index=319
term 55 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
flag 9041 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 319 
------------------------------------------------------
flag 4799 term 55 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 55 319}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 55 319}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42228 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 319 
------------------------------------------------------
flag 81612 term 55 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 319 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 55 319}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 55 319}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83751 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 319 
------------------------------------------------------
flag 31590 term 55 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 319 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 55 319}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 55 319}]
------------------------------------------------------
flag 15305 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 319 
------------------------------------------------------
flag 44490 term 55 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 319 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 55 319}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 55 319}]
------------------------------------------------------
term 55 server 1 not vote for server 0, 日志不够新
term 55 server 0 get outdate rpc reply from server 1
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 320->319
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 0  matchIndex[1]: 319
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 55
------------------------------------------------------
flag 25135 term 55 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 319 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 55 319}]
------------------------------------------------------
term 55 server 1 InstallSnapshot fail
rf.commitIndex 319 args.LastIncludedIndex 319
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 1390440486414141619 (index 320) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89589 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 319 
------------------------------------------------------
flag 7007 term 55 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 319 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {1390440486414141619 55 320}]
------------------------------------------------------
flag 56661 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 28266 term 55 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 55 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {1390440486414141619 55 320}]
------------------------------------------------------
client write log 4559607430779560435 (index 321) to leader 0
client write log 3799295283347925591 (index 322) to leader 0
client write log 1306182819887101285 (index 323) to leader 0
client write log 5567333540267902756 (index 324) to leader 0
client write log 1693569531832625796 (index 325) to leader 0
client write log 2020412645242289682 (index 326) to leader 0
flag 49064 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 326 term 55 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 55 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326}]
------------------------------------------------------
flag 7573 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 94288 term 55 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 55 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5093262372857374788 (index 327) to leader 0
flag 77546 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 41405 term 55 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 55 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 56 server 1 AppendEntries false 领导者任期过期 args.Term 55
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 server 2 not vote for server 1, 日志不够新
term 56 server 0 not vote for server 1, 日志不够新
term 58 server 2 vote for server 0
term 58 server 1 vote for server 0
term 58 server 0 get vote from server 2
term 58 server 0 become leader
------------------------------------------------------
term 58 server 0 get outdate rpc reply from server 1
flag 67114 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 93544 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 58 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 328->327
------------------------------------------------------
flag 13895 term 58 leader 0 nextIndex[1]: 320  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 95850 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
flag 32006 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 32224 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
term 58 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62094 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 64425 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
flag 94883 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 53570 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
flag 19898 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 23784 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24373 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 29833 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93576 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 42806 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
flag 6679 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 31610 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
flag 88263 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 19350 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
flag 18125 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 706 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68325 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 64609 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
flag 63971 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 68943 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
flag 99458 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 15042 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37198 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 77871 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327}]
------------------------------------------------------
client write log 5093262372857374788 (index 328) to leader 0
flag 1019 term 58 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
flag 85506 term 58 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 58 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327} {5093262372857374788 58 328}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327} {5093262372857374788 58 328}]
------------------------------------------------------
flag 47572 term 58 leader 0 nextIndex[1]: 329  matchIndex[1]: 328
term 58 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 58 leaderCommit: 328 
------------------------------------------------------
flag 50325 term 58 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 58 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 58 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327} {5093262372857374788 58 328}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327} {5093262372857374788 58 328}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54553 term 58 leader 0 nextIndex[1]: 329  matchIndex[1]: 328
term 58 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 58 leaderCommit: 328 
------------------------------------------------------
flag 94849 term 58 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 58 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 58 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327} {5093262372857374788 58 328}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327} {5093262372857374788 58 328}]
------------------------------------------------------
flag 38196 term 58 leader 0 nextIndex[1]: 329  matchIndex[1]: 328
term 58 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 58 leaderCommit: 328 
------------------------------------------------------
flag 59503 term 58 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 58 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 58 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327} {5093262372857374788 58 328}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327} {5093262372857374788 58 328}]
------------------------------------------------------
flag 25669 term 58 leader 0 nextIndex[1]: 329  matchIndex[1]: 328
term 58 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 58 leaderCommit: 328 
------------------------------------------------------
flag 16969 term 58 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 58 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 58 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327} {5093262372857374788 58 328}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327} {5093262372857374788 58 328}]
------------------------------------------------------
flag 95019 term 58 leader 0 nextIndex[1]: 329  matchIndex[1]: 328
term 58 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 58 leaderCommit: 328 
------------------------------------------------------
flag 9176 term 58 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 58 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 58 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327} {5093262372857374788 58 328}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327} {5093262372857374788 58 328}]
------------------------------------------------------
flag 97652 term 58 leader 0 nextIndex[1]: 329  matchIndex[1]: 328
term 58 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 58 leaderCommit: 328 
------------------------------------------------------
flag 74518 term 58 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 58 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 58 leaderCommit: 328 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327} {5093262372857374788 58 328}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 55 319} {1390440486414141619 55 320} {4559607430779560435 55 321} {3799295283347925591 55 322} {1306182819887101285 55 323} {5567333540267902756 55 324} {1693569531832625796 55 325} {2020412645242289682 55 326} {5093262372857374788 55 327} {5093262372857374788 58 328}]
------------------------------------------------------
  ... Passed --  71.0  3 1659  719900  328
--- PASS: TestSnapshotInstall2D (70.99s)
PASS
