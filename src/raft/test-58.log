=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 0 vote for server 2
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
client write log 95270745738800679 (index 1) to leader 2
flag 93639 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 56847 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {95270745738800679 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {95270745738800679 1 1}]
------------------------------------------------------
flag 22495 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 52207 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {95270745738800679 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {95270745738800679 1 1}]
------------------------------------------------------
flag 71268 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 2253 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {95270745738800679 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {95270745738800679 1 1}]
------------------------------------------------------
flag 9264 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 65348 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {95270745738800679 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {95270745738800679 1 1}]
------------------------------------------------------
flag 83566 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 10455 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {95270745738800679 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {95270745738800679 1 1}]
------------------------------------------------------
flag 91096 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 90045 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {95270745738800679 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {95270745738800679 1 1}]
------------------------------------------------------
flag 99219 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 26060 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {95270745738800679 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {95270745738800679 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5476633341034730359 (index 2) to leader 2
flag 90671 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 70701 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {95270745738800679 1 1} {5476633341034730359 1 2}]
------------------------------------------------------
flag 70101 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 29763 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {95270745738800679 1 1} {5476633341034730359 1 2}]
------------------------------------------------------
client write log 7903921615108512681 (index 3) to leader 2
client write log 6042885094608324009 (index 4) to leader 2
client write log 4620687855140883298 (index 5) to leader 2
client write log 2242884185082284008 (index 6) to leader 2
client write log 9083955754977343427 (index 7) to leader 2
client write log 1332697306924690876 (index 8) to leader 2
client write log 6154219904052870003 (index 9) to leader 2
client write log 8001718364523673347 (index 10) to leader 2
client write log 1294905912620263678 (index 11) to leader 2
client write log 8313077986394431432 (index 12) to leader 2
client write log 3528863145875658419 (index 13) to leader 2
client write log 8409218139893728857 (index 14) to leader 2
client write log 414578147244411780 (index 15) to leader 2
flag 69720 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 36719 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{<nil> 0 0} {95270745738800679 1 1} {5476633341034730359 1 2} {7903921615108512681 1 3} {6042885094608324009 1 4} {4620687855140883298 1 5} {2242884185082284008 1 6} {9083955754977343427 1 7} {1332697306924690876 1 8} {6154219904052870003 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=15
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 66174 term 1 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 1 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=15
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1473069850097699230 (index 16) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 93277 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 37802 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 17->16
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 17->16
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 87401 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74673 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 69460 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 44642 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 35030 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 88724 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 45808 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 82814 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 42609 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 64591 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 91189 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 72407 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 87548 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 41281 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 59516 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 3026 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 99720 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 45376 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 57972 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56868 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 20379 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 32245 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 5545 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 52566 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 61220 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 3499 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 83508 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 85135 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 97721 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 56500 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 91683 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 92720 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 66393 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 26958 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 45179 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
flag 1688 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 74696 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16}]
------------------------------------------------------
client write log 1473069850097699230 (index 17) to leader 2
flag 34000 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 93380 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17}]
------------------------------------------------------
flag 8366 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 84504 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17}]
------------------------------------------------------
flag 59469 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 42154 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17}]
------------------------------------------------------
flag 33811 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 60273 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17}]
------------------------------------------------------
flag 87547 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 67808 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17}]
------------------------------------------------------
flag 70182 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 60697 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 91057 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 31523 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 37690 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 32967 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 49431 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 86386 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
client write log 479166131710344432 (index 18) to leader 0
flag 90432 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 9391 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17} {479166131710344432 4 18}]
------------------------------------------------------
flag 91901 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 11797 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 92229 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 12763 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17} {479166131710344432 4 18}]
------------------------------------------------------
client write log 6556660092795949500 (index 19) to leader 0
client write log 7919481325748920159 (index 20) to leader 0
client write log 4657377823591008762 (index 21) to leader 0
client write log 2694784908975164712 (index 22) to leader 0
client write log 393246338787376905 (index 23) to leader 0
client write log 5160480126216544954 (index 24) to leader 0
client write log 6522731846204869139 (index 25) to leader 0
client write log 3257841146805219918 (index 26) to leader 0
client write log 8684694418700713986 (index 27) to leader 0
client write log 5999777952326666988 (index 28) to leader 0
client write log 2936597570754236720 (index 29) to leader 0
client write log 4078767763115648843 (index 30) to leader 0
client write log 9035285444811815427 (index 31) to leader 0
client write log 1412114249099667467 (index 32) to leader 0
flag 93196 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 18320 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 24387 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 28669 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 1 9} {8001718364523673347 1 10} {1294905912620263678 1 11} {8313077986394431432 1 12} {3528863145875658419 1 13} {8409218139893728857 1 14} {414578147244411780 1 15} {1473069850097699230 1 16} {1473069850097699230 3 17} {479166131710344432 4 18} {6556660092795949500 4 19} {7919481325748920159 4 20} {4657377823591008762 4 21} {2694784908975164712 4 22} {393246338787376905 4 23} {5160480126216544954 4 24} {6522731846204869139 4 25} {3257841146805219918 4 26} {8684694418700713986 4 27} {5999777952326666988 4 28} {2936597570754236720 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=32
-------------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=32
-------------------------------------------------------------
flag 81660 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 16353 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 40076 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=32
-------------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=32
-------------------------------------------------------------
flag 22374 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 97298 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
!!!!!!connect server 2
client write log 4268535730524780186 (index 18) to leader 2
flag 18067 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 26111 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 33359 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 86149 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 42174 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92196 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 75497 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 47895 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 93129 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 94854 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 16690 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 73155 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 79501 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 18599 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 67553 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 59492 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 56620 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 91618 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 5407 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 26477 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 41193 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19534 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 74223 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 24104 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 95280 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 22634 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 5624 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 62726 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 18543 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 0 get outdate rpc reply from server 2
flag 41419 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 9233 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 33->32
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73307 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 32
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 32 args.LastIncludedIndex 29
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 11324 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 20465 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 80687 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 66718 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
flag 55148 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 40312 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32}]
------------------------------------------------------
client write log 4268535730524780186 (index 33) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32564 term 4 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 81642 term 4 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 4 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33}]
------------------------------------------------------
flag 46388 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 63322 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33}]
------------------------------------------------------
flag 80909 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 49941 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33}]
------------------------------------------------------
flag 63659 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 12812 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99982 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 2521 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79525 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 28789 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55856 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 50844 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
------------------------------------------------------
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3260689562454702583 (index 34) to leader 0
flag 96804 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 33104 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33} {3260689562454702583 4 34}]
------------------------------------------------------
flag 8792 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 87031 term 4 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33} {3260689562454702583 4 34}]
------------------------------------------------------
client write log 43986379810806443 (index 35) to leader 0
client write log 2384795534593270080 (index 36) to leader 0
client write log 196666148483016875 (index 37) to leader 0
client write log 3958454360912273230 (index 38) to leader 0
client write log 2309157374073208876 (index 39) to leader 0
client write log 3596689248273622637 (index 40) to leader 0
client write log 3365841524290163507 (index 41) to leader 0
client write log 9209019880548761425 (index 42) to leader 0
client write log 5489694506500152908 (index 43) to leader 0
client write log 3902427638664609718 (index 44) to leader 0
flag 39344 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 98823 term 4 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 29} {4078767763115648843 4 30} {9035285444811815427 4 31} {1412114249099667467 4 32} {4268535730524780186 4 33} {3260689562454702583 4 34} {43986379810806443 4 35} {2384795534593270080 4 36} {196666148483016875 4 37} {3958454360912273230 4 38} {2309157374073208876 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44}]
------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=44
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 17830 term 4 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 4 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44}]
------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=44
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4738162172417455160 (index 45) to leader 0
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 0 not vote for server 1, 日志不够新
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 40313 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 5102 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 46->45
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 46->45
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 34  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 79525 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 4 rf.commitIndex 39 rf.lastApplied 39
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89093 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 59357 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
flag 42960 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 24480 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
flag 65537 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 27458 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
flag 1168 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 97356 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
flag 4531 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 82720 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70878 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 58759 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
flag 73767 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 27436 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
flag 25299 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 22404 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
flag 53361 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 79251 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
flag 78410 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 57452 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80845 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 77943 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
flag 69556 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 59151 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79919 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 20903 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18277 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 60152 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
flag 59133 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 55082 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
flag 73276 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 16665 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30296 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 38885 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
flag 61909 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 7828 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45}]
------------------------------------------------------
client write log 4738162172417455160 (index 46) to leader 0
flag 98919 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 94211 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21293 term 6 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 11790 term 6 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46}]
------------------------------------------------------
flag 70960 term 6 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 43436 term 6 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46}]
------------------------------------------------------
flag 97068 term 6 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 23134 term 6 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46}]
------------------------------------------------------
flag 20904 term 6 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 75933 term 6 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46}]
------------------------------------------------------
flag 81267 term 6 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 11751 term 6 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85717 term 6 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 7700 term 6 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 42910434435803997 (index 47) to leader 0
flag 94129 term 6 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 91773 term 6 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46} {42910434435803997 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82467 term 6 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 88572 term 6 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 6 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46} {42910434435803997 6 47}]
------------------------------------------------------
client write log 4538939537983091648 (index 48) to leader 0
client write log 3895914542081625703 (index 49) to leader 0
client write log 2094942799236493279 (index 50) to leader 0
client write log 1980275185924884525 (index 51) to leader 0
client write log 8319210775052014128 (index 52) to leader 0
client write log 119726053130452045 (index 53) to leader 0
client write log 6645510010524928065 (index 54) to leader 0
client write log 569064495263808354 (index 55) to leader 0
client write log 3020147209953686607 (index 56) to leader 0
client write log 5177691563204892975 (index 57) to leader 0
client write log 465951883029157761 (index 58) to leader 0
client write log 1230881586862580690 (index 59) to leader 0
flag 20322 term 6 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 30450 term 6 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 6 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 4 39} {3596689248273622637 4 40} {3365841524290163507 4 41} {9209019880548761425 4 42} {5489694506500152908 4 43} {3902427638664609718 4 44} {4738162172417455160 4 45} {4738162172417455160 6 46} {42910434435803997 6 47} {4538939537983091648 6 48} {3895914542081625703 6 49} {2094942799236493279 6 50} {1980275185924884525 6 51} {8319210775052014128 6 52} {119726053130452045 6 53} {6645510010524928065 6 54} {569064495263808354 6 55} {3020147209953686607 6 56} {5177691563204892975 6 57} {465951883029157761 6 58} {1230881586862580690 6 59}]
------------------------------------------------------
term 6 Server0 start snapshot! index=49
term 6 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=59
-------------------------------------------------------------
term 6 Server0 start snapshot! index=59
term 6 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 9282 term 6 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 6 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 59}]
------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=59
-------------------------------------------------------------
term 6 Server2 start snapshot! index=59
term 6 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2273052787070947264 (index 60) to leader 0
term 6 server 2 not vote for server 1, 日志不够新
term 6 server 0 not vote for server 1, 日志不够新
term 8 server 2 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 1 vote for server 0
term 8 server 0 get outdate rpc reply from server 1
flag 34584 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 72413 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 61->60
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 61->60
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 47  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 36949 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 6 rf.commitIndex 59 rf.lastApplied 59
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
flag 9976 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 30294 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
flag 74548 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 85462 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27613 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 8840 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
flag 97073 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 55116 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
flag 47116 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 52061 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
flag 55678 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 59298 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
flag 80932 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 7059 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
flag 81131 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 56637 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
flag 77422 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 97185 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89978 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 83296 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
flag 88775 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 60393 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
flag 61232 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 22276 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
flag 23298 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 65754 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
flag 51511 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 54903 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59346 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 66486 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
flag 97984 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 92073 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
flag 10306 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 48214 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21902 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 80139 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 6 59} {2273052787070947264 6 60}]
------------------------------------------------------
client write log 2273052787070947264 (index 61) to leader 0
flag 38111 term 8 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 97897 term 8 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 8 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
flag 47350 term 8 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 28824 term 8 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43083 term 8 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 11646 term 8 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
flag 96972 term 8 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 1963 term 8 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
flag 79531 term 8 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 40587 term 8 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15681 term 8 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 41068 term 8 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
flag 26947 term 8 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 83835 term 8 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 72321 term 8 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 6876 term 8 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 55254 term 8 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 83525 term 8 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 81504 term 8 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 43641 term 8 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
term 9 server 2 vote for server 1
term 9 server 1 get vote from server 2
term 9 server 1 become leader
------------------------------------------------------
flag 70549 term 9 leader 1 nextIndex[0]: 62  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 43891 term 9 leader 1 nextIndex[2]: 62  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61}]
------------------------------------------------------
flag 33766 term 8 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 85588 term 8 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
client write log 6532392546636352640 (index 62) to leader 1
flag 44493 term 9 leader 1 nextIndex[0]: 62  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 10414 term 9 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 9 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61} {6532392546636352640 9 62}]
------------------------------------------------------
flag 68660 term 8 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 39589 term 8 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13437 term 9 leader 1 nextIndex[0]: 62  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 62 
------------------------------------------------------
flag 25595 term 9 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 9 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61} {6532392546636352640 9 62}]
------------------------------------------------------
flag 15461 term 8 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 22118 term 8 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
client write log 7662090626705038292 (index 63) to leader 1
client write log 7807636219178273676 (index 64) to leader 1
client write log 4027695300859647928 (index 65) to leader 1
client write log 4657249626263115210 (index 66) to leader 1
client write log 2493830112896838688 (index 67) to leader 1
client write log 6904663526329581949 (index 68) to leader 1
client write log 427293659098725591 (index 69) to leader 1
client write log 2221557618662134546 (index 70) to leader 1
client write log 6291380902868598339 (index 71) to leader 1
client write log 2073874024521910438 (index 72) to leader 1
client write log 1012997942173379943 (index 73) to leader 1
client write log 2908541946307070859 (index 74) to leader 1
client write log 3412187909970565840 (index 75) to leader 1
flag 83356 term 9 leader 1 nextIndex[0]: 62  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 62 
------------------------------------------------------
flag 83396 term 9 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 9 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 6 59} {2273052787070947264 6 60} {2273052787070947264 8 61} {6532392546636352640 9 62} {7662090626705038292 9 63} {7807636219178273676 9 64} {4027695300859647928 9 65} {4657249626263115210 9 66} {2493830112896838688 9 67} {6904663526329581949 9 68} {427293659098725591 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75}]
------------------------------------------------------
flag 78219 term 8 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 29053 term 8 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
term 9 Server1 start snapshot! index=69
term 9 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=75
-------------------------------------------------------------
term 9 leader 1 nextIndex[0]: 62  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 2352 term 9 leader 1 nextIndex[2]: 76  matchIndex[2]: 75
term 9 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75}]
------------------------------------------------------
flag 17589 term 8 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
flag 15836 term 8 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 8 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 8 leaderCommit: 61 
------------------------------------------------------
term 9 Server2 start snapshot! index=69
term 9 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=75
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1312908254255531969 (index 76) to leader 1
term 9 leader 1 nextIndex[0]: 62  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 33007 term 9 leader 1 nextIndex[2]: 76  matchIndex[2]: 75
term 9 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93297 term 9 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 9 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 96569 term 9 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
flag 92966 term 9 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 59887 term 9 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19872 term 9 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 24807 term 9 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
flag 50042 term 9 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 15282 term 9 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
flag 33911 term 9 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 47771 term 9 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
flag 38552 term 9 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 98208 term 9 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
flag 33754 term 9 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 58088 term 9 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6048566745567641078 (index 77) to leader 1
flag 56469 term 9 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 97723 term 9 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76} {6048566745567641078 9 77}]
------------------------------------------------------
flag 87965 term 9 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 9 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 71860 term 9 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76} {6048566745567641078 9 77}]
------------------------------------------------------
client write log 8027865856872121041 (index 78) to leader 1
client write log 6657392255935388414 (index 79) to leader 1
client write log 6038370652279924540 (index 80) to leader 1
client write log 3589306968337934339 (index 81) to leader 1
client write log 3839679728298666400 (index 82) to leader 1
client write log 4442626704320891203 (index 83) to leader 1
client write log 3216158152733290594 (index 84) to leader 1
client write log 700168074662256873 (index 85) to leader 1
flag 11217 term 9 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 9 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 85005 term 9 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 9 69} {2221557618662134546 9 70} {6291380902868598339 9 71} {2073874024521910438 9 72} {1012997942173379943 9 73} {2908541946307070859 9 74} {3412187909970565840 9 75} {1312908254255531969 9 76} {6048566745567641078 9 77} {8027865856872121041 9 78} {6657392255935388414 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85}]
------------------------------------------------------
term 9 Server1 start snapshot! index=79
term 9 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=85
-------------------------------------------------------------
flag 98650 term 9 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 9 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85}]
------------------------------------------------------
term 9 Server0 start snapshot! index=79
term 9 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=85
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6385489983265101934 (index 86) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 0 not vote for server 2, 日志不够新
term 11 server 2 vote for server 1
term 11 server 0 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
term 11 server 1 get outdate rpc reply from server 0
flag 42209 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 28129 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 87->86
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 87->86
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15133 term 11 leader 1 nextIndex[0]: 86  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 77  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 9 rf.commitIndex 79 rf.lastApplied 79
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
flag 89428 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 19561 term 11 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 11 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63684 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 30444 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
flag 17362 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 36167 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
flag 70366 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 9419 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
flag 90505 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 91148 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
flag 73841 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 93717 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
flag 91781 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 18449 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76327 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 38196 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77580 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 56139 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
flag 31359 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 64784 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10788 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 16596 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2832 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 55629 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
flag 26083 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 64525 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
flag 38176 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 30937 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
flag 29761 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 31378 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
flag 21918 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 82420 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36265 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 40847 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86}]
------------------------------------------------------
client write log 6385489983265101934 (index 87) to leader 1
flag 84807 term 11 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 28030 term 11 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87}]
------------------------------------------------------
flag 86808 term 11 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 7995 term 11 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87}]
------------------------------------------------------
flag 63753 term 11 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 83606 term 11 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87}]
------------------------------------------------------
flag 23995 term 11 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 85571 term 11 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87}]
------------------------------------------------------
flag 94450 term 11 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 77623 term 11 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87}]
------------------------------------------------------
flag 84493 term 11 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 61847 term 11 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7190179174135973108 (index 88) to leader 1
flag 6532 term 11 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 83922 term 11 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87} {7190179174135973108 11 88}]
------------------------------------------------------
flag 58201 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 41344 term 11 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87} {7190179174135973108 11 88}]
------------------------------------------------------
client write log 3744838601711023909 (index 89) to leader 1
client write log 9013673279505874630 (index 90) to leader 1
client write log 4256699213670205909 (index 91) to leader 1
client write log 6557604459810051353 (index 92) to leader 1
client write log 8745744833617821136 (index 93) to leader 1
client write log 2417792133112743462 (index 94) to leader 1
client write log 1297427282189026232 (index 95) to leader 1
client write log 2491864012656451036 (index 96) to leader 1
client write log 4374049372131792968 (index 97) to leader 1
client write log 4131922876265767200 (index 98) to leader 1
client write log 7429159473330684189 (index 99) to leader 1
client write log 5055184298818728818 (index 100) to leader 1
client write log 4131398001147299188 (index 101) to leader 1
flag 30322 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 94613 term 11 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 9 79} {6038370652279924540 9 80} {3589306968337934339 9 81} {3839679728298666400 9 82} {4442626704320891203 9 83} {3216158152733290594 9 84} {700168074662256873 9 85} {6385489983265101934 9 86} {6385489983265101934 11 87} {7190179174135973108 11 88} {3744838601711023909 11 89} {9013673279505874630 11 90} {4256699213670205909 11 91} {6557604459810051353 11 92} {8745744833617821136 11 93} {2417792133112743462 11 94} {1297427282189026232 11 95} {2491864012656451036 11 96} {4374049372131792968 11 97} {4131922876265767200 11 98} {7429159473330684189 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101}]
------------------------------------------------------
term 11 Server1 start snapshot! index=89
term 11 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=101
-------------------------------------------------------------
term 11 Server1 start snapshot! index=99
term 11 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=101
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20725 term 11 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 11 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101}]
------------------------------------------------------
term 11 Server0 start snapshot! index=89
term 11 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=101
-------------------------------------------------------------
term 11 Server0 start snapshot! index=99
term 11 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6040876463096791523 (index 102) to leader 1
flag 6256 term 11 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 11 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 12 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
flag 48952 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 83036 term 13 leader 1 nextIndex[2]: 103  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
term 13 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 103->102
------------------------------------------------------
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99447 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 88  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 11 rf.commitIndex 99 rf.lastApplied 99
term 13 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
flag 34478 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 97639 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
flag 61824 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 12272 term 13 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:102 
term 13 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46298 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 40713 term 13 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96740 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 24578 term 13 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
flag 55004 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 40736 term 13 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39249 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 59331 term 13 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 85978 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 87794 term 13 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 569 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 10391 term 13 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 29354 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 21733 term 13 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
client write log 510038364936471500 (index 103) to leader 0
flag 92624 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 19038 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103}]
------------------------------------------------------
flag 58026 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 84834 term 13 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85674 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 103 
------------------------------------------------------
flag 20741 term 14 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103}]
------------------------------------------------------
flag 98343 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 58382 term 13 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
client write log 8552266137270992404 (index 104) to leader 0
flag 4746 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 103 
------------------------------------------------------
flag 20408 term 14 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
flag 98036 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 35913 term 13 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64296 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 104 
------------------------------------------------------
flag 77717 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
flag 51806 term 13 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 14789 term 13 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
!!!!!!connect server 1
client write log 1579897829134099836 (index 103) to leader 1
flag 6708 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 104 
------------------------------------------------------
flag 20384 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
flag 29788 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 80734 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
flag 68330 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 88072 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
flag 94283 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 22386 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37508 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 3290 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78720 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 19423 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64631 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 50318 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 105->104
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 104
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
flag 98056 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 104 args.LastIncludedIndex 99
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
term 14 server 1 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 1
flag 85221 term 14 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 104 
------------------------------------------------------
flag 7071 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
flag 52869 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 7410 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
flag 52012 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 34313 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
flag 24702 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 99545 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
flag 23054 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 22425 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
flag 84689 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 66337 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
flag 63155 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 30916 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83400 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 61317 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
flag 59789 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 42497 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
flag 97558 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 76866 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99454 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 19545 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62946 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 8978 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104}]
------------------------------------------------------
client write log 1579897829134099836 (index 105) to leader 0
flag 19688 term 14 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 72082 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105}]
------------------------------------------------------
flag 51942 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 10567 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105}]
------------------------------------------------------
term 14 server 0 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 0
flag 45918 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 91148 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105}]
------------------------------------------------------
flag 71631 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 33922 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35262 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 95117 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105}]
------------------------------------------------------
flag 75058 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 54187 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1029292174792337661 (index 106) to leader 0
flag 45877 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 9550 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105} {1029292174792337661 14 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 106->105
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 105
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
flag 23890 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105} {1029292174792337661 14 106}]
------------------------------------------------------
client write log 8603267826786774380 (index 107) to leader 0
client write log 2730256355512101484 (index 108) to leader 0
client write log 1573000334758341980 (index 109) to leader 0
client write log 7775100967780131647 (index 110) to leader 0
client write log 885307674788466401 (index 111) to leader 0
client write log 1579093745679564238 (index 112) to leader 0
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 105
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
flag 88390 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 11 99} {5055184298818728818 11 100} {4131398001147299188 11 101} {6040876463096791523 11 102} {510038364936471500 14 103} {8552266137270992404 14 104} {1579897829134099836 14 105} {1029292174792337661 14 106} {8603267826786774380 14 107} {2730256355512101484 14 108} {1573000334758341980 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112}]
------------------------------------------------------
term 14 Server0 start snapshot! index=109
term 14 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=112
-------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 105
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 82460 term 14 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 14 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112}]
------------------------------------------------------
term 14 Server2 start snapshot! index=109
term 14 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=112
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3509867454440154926 (index 113) to leader 0
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 105
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 23389 term 14 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 14 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 15 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 2 vote for server 0
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 0 get outdate rpc reply from server 1
flag 49630 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 88231 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 114->113
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 106  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 25651 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 14 rf.commitIndex 109 rf.lastApplied 109
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76064 term 16 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 16 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 91789 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
flag 69274 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 32706 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93899 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 15069 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
flag 32244 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 37561 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
flag 40795 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 84543 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
flag 90824 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 91214 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
flag 59846 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 6676 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
flag 88085 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 5972 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99664 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 363 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
flag 18208 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 4714 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
flag 31 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 17522 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
flag 28557 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 48601 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51914 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 76192 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58871 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 83059 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
flag 51922 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 72098 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97810 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 11969 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72438 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 7417 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113}]
------------------------------------------------------
client write log 3509867454440154926 (index 114) to leader 0
flag 69340 term 16 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
flag 32809 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 14 leaderCommit: 112 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114}]
------------------------------------------------------
flag 49555 term 16 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 7546 term 16 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114}]
------------------------------------------------------
flag 82469 term 16 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 79042 term 16 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:114 
term 16 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98467 term 16 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 61671 term 16 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114}]
------------------------------------------------------
flag 74531 term 16 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 15521 term 16 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114}]
------------------------------------------------------
flag 94273 term 16 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 84948 term 16 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114}]
------------------------------------------------------
flag 32362 term 16 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 15093 term 16 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
term 16 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1364857789232439469 (index 115) to leader 0
flag 74219 term 16 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 36057 term 16 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114} {1364857789232439469 16 115}]
------------------------------------------------------
flag 54104 term 16 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 70295 term 16 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 16 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114} {1364857789232439469 16 115}]
------------------------------------------------------
client write log 8115248357752845330 (index 116) to leader 0
client write log 3106975923080577746 (index 117) to leader 0
client write log 6722604739003285727 (index 118) to leader 0
client write log 3792967140038392437 (index 119) to leader 0
client write log 5791758378046400979 (index 120) to leader 0
client write log 4826040706260637588 (index 121) to leader 0
client write log 6622242556397195026 (index 122) to leader 0
client write log 8873574812266674133 (index 123) to leader 0
flag 50034 term 16 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 16 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 7785 term 16 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 16 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 109} {7775100967780131647 14 110} {885307674788466401 14 111} {1579093745679564238 14 112} {3509867454440154926 14 113} {3509867454440154926 16 114} {1364857789232439469 16 115} {8115248357752845330 16 116} {3106975923080577746 16 117} {6722604739003285727 16 118} {3792967140038392437 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123}]
------------------------------------------------------
term 16 Server0 start snapshot! index=119
term 16 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=123
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 10223 term 16 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123}]
------------------------------------------------------
term 16 Server2 start snapshot! index=119
term 16 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=123
-------------------------------------------------------------
!!!!!!connect server 1
client write log 678531325672716765 (index 124) to leader 0
term 16 server 2 not vote for server 1, 日志不够新
term 16 server 0 not vote for server 1, 日志不够新
term 18 server 2 vote for server 0
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 0 get outdate rpc reply from server 1
flag 85573 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 378 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 125->124
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 125->124
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 115  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 93122 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 16 rf.commitIndex 119 rf.lastApplied 119
flag 55250 term 18 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 18 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 73839 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5206 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 19335 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17553 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 37997 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
flag 80460 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 95486 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76609 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 86133 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
flag 53028 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 79801 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
flag 11742 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 77367 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
flag 9289 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 68618 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
flag 3701 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 98274 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
flag 6547 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 59296 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
flag 34385 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 31835 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
flag 51236 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 27358 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
flag 5022 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 20551 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
flag 48146 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 52533 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
flag 98993 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 24559 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
flag 93088 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 91423 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
term 18 server 0 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 0
flag 93873 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 45329 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
flag 26632 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 97663 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124}]
------------------------------------------------------
client write log 678531325672716765 (index 125) to leader 0
flag 40845 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 21035 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
flag 96280 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 92509 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
flag 56259 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 98779 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
flag 40956 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 95444 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
flag 38228 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 83085 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
flag 37380 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 46480 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
flag 32889 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 73709 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 80699 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 87971 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 577 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 68372 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83083 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 27923 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 2 vote for server 1
term 19 server 1 get vote from server 2
term 19 server 1 become leader
------------------------------------------------------
flag 35187 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 69927 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 33210 term 19 leader 1 nextIndex[0]: 126  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 76689 term 19 leader 1 nextIndex[2]: 126  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125}]
------------------------------------------------------
client write log 2334113121928083856 (index 126) to leader 1
flag 27544 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 12628 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 21557 term 19 leader 1 nextIndex[0]: 126  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 80447 term 19 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125} {2334113121928083856 19 126}]
------------------------------------------------------
flag 98301 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 54372 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 76831 term 19 leader 1 nextIndex[0]: 126  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
flag 96832 term 19 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 19 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125} {2334113121928083856 19 126}]
------------------------------------------------------
client write log 4871421808688242089 (index 127) to leader 1
client write log 2842115078504441727 (index 128) to leader 1
client write log 8029977916635902909 (index 129) to leader 1
client write log 7494090326122826753 (index 130) to leader 1
client write log 6733169552665261654 (index 131) to leader 1
client write log 4690920446552501697 (index 132) to leader 1
flag 94768 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 78378 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 36557 term 19 leader 1 nextIndex[0]: 126  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
flag 38153 term 19 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 19 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 16 119} {5791758378046400979 16 120} {4826040706260637588 16 121} {6622242556397195026 16 122} {8873574812266674133 16 123} {678531325672716765 16 124} {678531325672716765 18 125} {2334113121928083856 19 126} {4871421808688242089 19 127} {2842115078504441727 19 128} {8029977916635902909 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132}]
------------------------------------------------------
term 19 Server1 start snapshot! index=129
term 19 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=132
-------------------------------------------------------------
flag 19804 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 9763 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 126  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 18692 term 19 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 19 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132}]
------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=132
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6699957282846676880 (index 133) to leader 1
term 19 server 0 vote for server 1
term 19 server 1 get outdate rpc reply from server 0
term 19 leader 1 nextIndex[0]: 126  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 3890 term 19 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 19 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 19 rf.commitIndex 129 rf.lastApplied 129
term 19 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73477 term 19 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 28884 term 19 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133}]
------------------------------------------------------
flag 53677 term 19 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 80832 term 19 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133}]
------------------------------------------------------
flag 5086 term 19 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 56779 term 19 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 134->133
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 0  matchIndex[0]: 133
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 85363 term 19 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133}]
------------------------------------------------------
term 19 server 0 InstallSnapshot fail
rf.commitIndex 133 args.LastIncludedIndex 129
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
flag 49706 term 19 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 29910 term 19 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133}]
------------------------------------------------------
flag 28427 term 19 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 93014 term 19 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58830 term 19 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 2634 term 19 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4466068031562891398 (index 134) to leader 1
flag 72272 term 19 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 22769 term 19 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133} {4466068031562891398 19 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16584 term 19 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 19 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 134 
------------------------------------------------------
flag 4716 term 19 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 134 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133} {4466068031562891398 19 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6977363447295462319 (index 135) to leader 1
client write log 1064395403863905155 (index 136) to leader 1
client write log 1329618249858902057 (index 137) to leader 1
client write log 178383240300300090 (index 138) to leader 1
client write log 7090476898088658534 (index 139) to leader 1
client write log 2504925128080381852 (index 140) to leader 1
flag 7757 term 19 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 19 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 134 
------------------------------------------------------
flag 65242 term 19 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 19 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 134 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 129} {7494090326122826753 19 130} {6733169552665261654 19 131} {4690920446552501697 19 132} {6699957282846676880 19 133} {4466068031562891398 19 134} {6977363447295462319 19 135} {1064395403863905155 19 136} {1329618249858902057 19 137} {178383240300300090 19 138} {7090476898088658534 19 139} {2504925128080381852 19 140}]
------------------------------------------------------
term 19 Server1 start snapshot! index=139
term 19 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 7572 term 19 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 19 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140}]
------------------------------------------------------
term 19 Server0 start snapshot! index=139
term 19 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5292512338848035715 (index 141) to leader 1
term 19 server 1 not vote for server 2, 日志不够新
term 19 server 0 not vote for server 2, 日志不够新
term 21 server 2 vote for server 1
term 21 server 0 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 1 get outdate rpc reply from server 0
flag 21781 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 3614 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 142->141
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 142->141
------------------------------------------------------
flag 63555 term 21 leader 1 nextIndex[0]: 141  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 134  matchIndex[2]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 19 rf.commitIndex 139 rf.lastApplied 139
term 21 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
flag 31622 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 5106 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
term 21 server 2 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 2
flag 24749 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 25440 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
flag 22297 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 70579 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
flag 49562 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 82169 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48284 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 97486 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44187 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 90242 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
flag 21780 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 92294 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
flag 8256 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 56760 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
term 21 server 1 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 1
flag 22368 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 31534 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
flag 62539 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 23494 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57466 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 22792 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
flag 92806 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 88111 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71708 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 93001 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10847 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 44296 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
flag 78460 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 2194 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74543 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 66262 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
flag 54181 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 66158 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5292512338848035715 (index 142) to leader 1
flag 92082 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 45374 term 21 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13408 term 21 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 97447 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19198 term 21 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 68824 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142}]
------------------------------------------------------
flag 62614 term 21 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 55048 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142}]
------------------------------------------------------
flag 56480 term 21 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 4797 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142}]
------------------------------------------------------
flag 71644 term 21 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 73688 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4722921858958088597 (index 143) to leader 1
flag 55237 term 21 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 7512 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142} {4722921858958088597 21 143}]
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13608 term 21 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 42026 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142} {4722921858958088597 21 143}]
------------------------------------------------------
client write log 3311834475043594197 (index 144) to leader 1
client write log 4160035375990734790 (index 145) to leader 1
client write log 8263086708739046705 (index 146) to leader 1
client write log 5437908811884219432 (index 147) to leader 1
client write log 1801626070231556510 (index 148) to leader 1
client write log 1075784433135682612 (index 149) to leader 1
client write log 7603122965459273551 (index 150) to leader 1
client write log 2146806830145606970 (index 151) to leader 1
client write log 4474402016254679151 (index 152) to leader 1
client write log 2398146232198625204 (index 153) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94963 term 21 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 85735 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 19 139} {2504925128080381852 19 140} {5292512338848035715 19 141} {5292512338848035715 21 142} {4722921858958088597 21 143} {3311834475043594197 21 144} {4160035375990734790 21 145} {8263086708739046705 21 146} {5437908811884219432 21 147} {1801626070231556510 21 148} {1075784433135682612 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153}]
------------------------------------------------------
term 21 Server1 start snapshot! index=149
term 21 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=153
-------------------------------------------------------------
flag 57354 term 21 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 21 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153}]
------------------------------------------------------
term 21 Server0 start snapshot! index=149
term 21 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=153
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3409280829499284329 (index 154) to leader 1
flag 16713 term 21 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 21 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
term 22 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 vote for server 1
term 23 server 1 get vote from server 2
term 23 server 1 become leader
------------------------------------------------------
term 23 server 0 vote for server 1
term 23 server 1 get outdate rpc reply from server 0
flag 94533 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 91275 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 155->154
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
flag 33274 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 21 rf.commitIndex 149 rf.lastApplied 149
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68307 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 53333 term 23 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 23 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
flag 15701 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 20237 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
flag 25721 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 43563 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
flag 5402 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 87517 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
flag 39984 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 90797 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
flag 84125 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 94261 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
flag 44505 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 67685 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
flag 69679 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 32388 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
flag 52831 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 28724 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10186 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 76808 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79902 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 6486 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17318 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 43845 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
flag 16521 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 25390 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
flag 84569 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 58402 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64461 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 35944 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35643 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 107 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154}]
------------------------------------------------------
flag 96397 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 17812 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
client write log 3409280829499284329 (index 155) to leader 1
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
flag 63292 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 60064 term 23 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36566 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 6126 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48197 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 69127 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
flag 37979 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 85218 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
flag 52663 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 31841 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
flag 43900 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 55269 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
flag 5944 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 39112 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 90228 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 1645 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 23 server 0 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 0
flag 71604 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 14610 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 40135 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 9759 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 96505 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 3880 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 24 server 2 vote for server 0
term 24 server 0 get vote from server 2
term 24 server 0 become leader
------------------------------------------------------
flag 26983 term 24 leader 0 nextIndex[1]: 156  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 11721 term 24 leader 0 nextIndex[2]: 156  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155}]
------------------------------------------------------
client write log 1730932229005583220 (index 156) to leader 0
flag 97486 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 89769 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 52799 term 24 leader 0 nextIndex[1]: 156  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 39289 term 24 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 24 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156}]
------------------------------------------------------
flag 99394 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 88985 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 63461 term 24 leader 0 nextIndex[1]: 156  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 76812 term 24 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 24 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156}]
------------------------------------------------------
client write log 1494929421197570995 (index 157) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68818 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 96885 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 14256 term 24 leader 0 nextIndex[1]: 156  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 20380 term 24 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 24 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
flag 23027 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 4840 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 88332 term 24 leader 0 nextIndex[1]: 156  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 96706 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5188124353228901162 (index 156) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 156->155
------------------------------------------------------
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 155
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 34337 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 24 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18589 term 24 leader 0 nextIndex[1]: 156  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 36728 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62993 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 26270 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69970 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 98279 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
flag 12924 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 17230 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
flag 4475 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 40458 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57402 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 74710 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31296 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 42145 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
flag 70037 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 12342 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
flag 38321 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 82927 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
flag 37584 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 70697 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
flag 35628 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 73654 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
flag 83274 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 64704 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
flag 90380 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 94982 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 158->157
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 157
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 61284 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 157 args.LastIncludedIndex 149
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64016 term 24 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 24 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 89909 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
flag 29898 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 22591 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42616 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 63825 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
flag 37220 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 30513 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
flag 76836 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 33272 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
flag 65787 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 42095 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157}]
------------------------------------------------------
client write log 5188124353228901162 (index 158) to leader 0
term 24 server 1 not vote for server 2, 任期不够新
term 24 server 2 get outdate rpc reply from server 1
flag 70226 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 5241 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 159->158
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 26739 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 157 args.LastIncludedIndex 149
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40234 term 24 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 24 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 87523 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
term 24 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
flag 71183 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 46048 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
term 24 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
flag 4028 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 10064 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
flag 9569 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 90188 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53277 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 41995 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
flag 30328 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 57177 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
term 24 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3629253249916729107 (index 159) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 159->158
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 96283 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 149} {7603122965459273551 21 150} {2146806830145606970 21 151} {4474402016254679151 21 152} {2398146232198625204 21 153} {3409280829499284329 21 154} {3409280829499284329 23 155} {1730932229005583220 24 156} {1494929421197570995 24 157} {5188124353228901162 24 158} {3629253249916729107 24 159}]
------------------------------------------------------
term 24 Server0 start snapshot! index=159
term 24 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 53589 term 24 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
client write log 6615397865279729524 (index 160) to leader 0
client write log 8705678127461287272 (index 161) to leader 0
client write log 7286732588634101504 (index 162) to leader 0
client write log 2353923190016573568 (index 163) to leader 0
client write log 2709714956757466759 (index 164) to leader 0
client write log 3180727281168494991 (index 165) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 38051 term 24 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165}]
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 65737 term 24 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 24 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165}]
------------------------------------------------------
!!!!!!connect server 1
client write log 213075865199841294 (index 166) to leader 0
term 24 server 2 not vote for server 1, 日志不够新
term 24 server 0 not vote for server 1, 日志不够新
term 26 server 2 vote for server 0
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 2
term 26 server 0 become leader
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 1
flag 4781 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 84082 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 167->166
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 167->166
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 159  matchIndex[1]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 9646 term 26 leader 0 nextIndex[2]: 166  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36270 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 77565 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 1 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 1
flag 62590 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 54706 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
flag 77704 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 25382 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
flag 13446 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 40829 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
flag 51395 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 21770 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
flag 98385 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 73871 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
flag 81202 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 50130 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
flag 73121 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 96182 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
flag 634 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 89627 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
flag 9005 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 34476 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53305 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 62218 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
flag 78786 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 20436 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
flag 43289 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 40061 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
flag 51230 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 79960 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
flag 24639 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 74097 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92578 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 10797 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
flag 54434 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 40378 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
flag 43543 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 26998 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166}]
------------------------------------------------------
client write log 213075865199841294 (index 167) to leader 0
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15638 term 26 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 90059 term 26 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 26 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167}]
------------------------------------------------------
flag 12492 term 26 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 43833 term 26 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167}]
------------------------------------------------------
flag 16082 term 26 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 95553 term 26 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167}]
------------------------------------------------------
flag 83634 term 26 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 32400 term 26 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167}]
------------------------------------------------------
flag 93005 term 26 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 1101 term 26 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167}]
------------------------------------------------------
flag 13535 term 26 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 1062 term 26 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7132466438640302898 (index 168) to leader 0
flag 9144 term 26 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 27425 term 26 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167} {7132466438640302898 26 168}]
------------------------------------------------------
flag 12574 term 26 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 95142 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167} {7132466438640302898 26 168}]
------------------------------------------------------
client write log 5013436129485375423 (index 169) to leader 0
client write log 7082592138426531902 (index 170) to leader 0
client write log 4614260153395924800 (index 171) to leader 0
client write log 3627853843553902381 (index 172) to leader 0
client write log 4610314672381698910 (index 173) to leader 0
client write log 8408120420476511993 (index 174) to leader 0
client write log 6977930649634048261 (index 175) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18525 term 26 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 43147 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 159} {6615397865279729524 24 160} {8705678127461287272 24 161} {7286732588634101504 24 162} {2353923190016573568 24 163} {2709714956757466759 24 164} {3180727281168494991 24 165} {213075865199841294 24 166} {213075865199841294 26 167} {7132466438640302898 26 168} {5013436129485375423 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175}]
------------------------------------------------------
term 26 Server0 start snapshot! index=169
term 26 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 168->167
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 0  matchIndex[1]: 167
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 42684 term 26 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 26 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175}]
------------------------------------------------------
term 26 Server2 start snapshot! index=169
term 26 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3825118046225902055 (index 176) to leader 0
term 26 server 2 not vote for server 1, 日志不够新
term 26 server 0 not vote for server 1, 日志不够新
term 28 server 2 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 1 vote for server 0
term 28 server 0 become leader
------------------------------------------------------
term 28 server 0 get outdate rpc reply from server 1
flag 42179 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 68979 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 177->176
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 177->176
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 168  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 46117 term 28 leader 0 nextIndex[2]: 176  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 26 rf.commitIndex 169 rf.lastApplied 169
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30579 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 3392 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
flag 44537 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 86860 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
flag 31320 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 93300 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
update nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40428 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 87515 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
flag 43140 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 63529 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
flag 3738 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 55610 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
flag 4203 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 85440 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
flag 99185 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 91496 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
flag 22354 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 63761 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
flag 58244 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 24516 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
flag 8940 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 34149 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83165 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 80760 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
flag 51542 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 80623 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
flag 55609 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 53579 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
flag 14517 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 36773 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
flag 44960 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 84177 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
flag 26365 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 62380 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176}]
------------------------------------------------------
client write log 3825118046225902055 (index 177) to leader 0
flag 87979 term 28 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 290 term 28 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 28 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
flag 42430 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 87874 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
flag 56975 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 32675 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
flag 63938 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 59135 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
flag 58780 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 49713 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
flag 71375 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 47079 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
flag 27574 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 16029 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
update nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 11097 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 9943 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 18449 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 45354 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 99153 term 28 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 27030 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 178->177
------------------------------------------------------
term 29 server 2 vote for server 1
term 29 server 1 get vote from server 2
term 29 server 1 become leader
------------------------------------------------------
flag 78828 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 58387 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177}]
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 177
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 59378 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
client write log 4713215924113329529 (index 178) to leader 1
flag 10665 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 6387 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177} {4713215924113329529 29 178}]
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 177
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 29469 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 7763 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 30320 term 29 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 29 leaderCommit: 178 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177} {4713215924113329529 29 178}]
------------------------------------------------------
client write log 6735631869352399866 (index 179) to leader 1
client write log 5189616909933493250 (index 180) to leader 1
client write log 5854351449271359469 (index 181) to leader 1
client write log 7469714945109491132 (index 182) to leader 1
client write log 6940064414172019835 (index 183) to leader 1
client write log 488570133706855784 (index 184) to leader 1
client write log 6621612432213390171 (index 185) to leader 1
client write log 7980854747448950220 (index 186) to leader 1
client write log 5979385667228362454 (index 187) to leader 1
client write log 4099750662207750361 (index 188) to leader 1
client write log 3760156481661074483 (index 189) to leader 1
client write log 202648595003080479 (index 190) to leader 1
client write log 6818188587954756839 (index 191) to leader 1
client write log 3948494104159511371 (index 192) to leader 1
client write log 8860150225421565340 (index 193) to leader 1
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 177
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 69973 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 37535 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 96598 term 29 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 29 leaderCommit: 178 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 169} {7082592138426531902 26 170} {4614260153395924800 26 171} {3627853843553902381 26 172} {4610314672381698910 26 173} {8408120420476511993 26 174} {6977930649634048261 26 175} {3825118046225902055 26 176} {3825118046225902055 28 177} {4713215924113329529 29 178} {6735631869352399866 29 179} {5189616909933493250 29 180} {5854351449271359469 29 181} {7469714945109491132 29 182} {6940064414172019835 29 183} {488570133706855784 29 184} {6621612432213390171 29 185} {7980854747448950220 29 186} {5979385667228362454 29 187} {4099750662207750361 29 188} {3760156481661074483 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193}]
------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=193
-------------------------------------------------------------
term 29 Server1 start snapshot! index=189
term 29 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=193
-------------------------------------------------------------
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 177
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 32864 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 62281 term 29 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193}]
------------------------------------------------------
term 29 Server2 start snapshot! index=179
term 29 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=193
-------------------------------------------------------------
term 29 Server2 start snapshot! index=189
term 29 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=193
-------------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 0
client write log 1830721270689635617 (index 194) to leader 1
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 177
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 54385 term 28 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 28 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
flag 86426 term 29 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 93735 term 29 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 190->189
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 189
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 47986 term 29 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 0 InstallSnapshot success
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 29 rf.commitIndex 189 rf.lastApplied 189
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49618 term 29 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 75847 term 29 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
flag 77589 term 29 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 24932 term 29 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
flag 5112 term 29 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 44649 term 29 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
flag 21540 term 29 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 40107 term 29 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
flag 78519 term 29 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 52647 term 29 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
flag 99858 term 29 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 58728 term 29 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68169 term 29 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 70417 term 29 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
term 29 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7563666038550034969 (index 195) to leader 1
flag 66979 term 29 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 47788 term 29 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194} {7563666038550034969 29 195}]
------------------------------------------------------
flag 81384 term 29 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 29 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
flag 30742 term 29 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194} {7563666038550034969 29 195}]
------------------------------------------------------
client write log 1157419595706730349 (index 196) to leader 1
client write log 2828272135494737535 (index 197) to leader 1
client write log 780491569827309047 (index 198) to leader 1
client write log 3383109475147220954 (index 199) to leader 1
client write log 1099152377482225393 (index 200) to leader 1
client write log 160160651022296061 (index 201) to leader 1
client write log 4541220334853061088 (index 202) to leader 1
client write log 3382643083791234066 (index 203) to leader 1
client write log 3267399114634762749 (index 204) to leader 1
client write log 3234390950870195689 (index 205) to leader 1
flag 12350 term 29 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 29 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
flag 70397 term 29 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 189} {202648595003080479 29 190} {6818188587954756839 29 191} {3948494104159511371 29 192} {8860150225421565340 29 193} {1830721270689635617 29 194} {7563666038550034969 29 195} {1157419595706730349 29 196} {2828272135494737535 29 197} {780491569827309047 29 198} {3383109475147220954 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205}]
------------------------------------------------------
term 29 Server1 start snapshot! index=199
term 29 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=205
-------------------------------------------------------------
flag 31197 term 29 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 29 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205}]
------------------------------------------------------
term 29 Server0 start snapshot! index=199
term 29 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=205
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1319841637807349830 (index 206) to leader 1
term 29 server 1 not vote for server 2, 日志不够新
term 29 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
term 31 server 0 vote for server 1
term 31 server 1 get outdate rpc reply from server 0
flag 64394 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 66759 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 207->206
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 207->206
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53981 term 31 leader 1 nextIndex[0]: 206  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 195  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 29 rf.commitIndex 199 rf.lastApplied 199
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
flag 46041 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 2897 term 31 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18594 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 57199 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
flag 66757 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 64672 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
flag 92680 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 59353 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39711 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 14723 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63095 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 98418 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77713 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 6342 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
flag 98356 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 48787 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
flag 94116 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 28013 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
flag 27085 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 23624 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
flag 37618 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 74426 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
flag 43042 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 80038 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
flag 30197 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 87875 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98782 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 55908 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
flag 9076 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 46427 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81016 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 85237 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
flag 53133 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 12078 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
flag 63819 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 48116 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206}]
------------------------------------------------------
client write log 1319841637807349830 (index 207) to leader 1
flag 85256 term 31 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 63917 term 31 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 31 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207}]
------------------------------------------------------
flag 76025 term 31 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 16875 term 31 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207}]
------------------------------------------------------
flag 48091 term 31 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 71847 term 31 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207}]
------------------------------------------------------
flag 1267 term 31 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 31770 term 31 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207}]
------------------------------------------------------
flag 15009 term 31 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 80001 term 31 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207}]
------------------------------------------------------
flag 67985 term 31 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 28855 term 31 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10040 term 31 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 43621 term 31 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6947379735209968785 (index 208) to leader 1
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43150 term 31 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 20420 term 31 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207} {6947379735209968785 31 208}]
------------------------------------------------------
flag 99965 term 31 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 31 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
flag 40192 term 31 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207} {6947379735209968785 31 208}]
------------------------------------------------------
client write log 6824025014106169419 (index 209) to leader 1
client write log 8499243501583901132 (index 210) to leader 1
client write log 2505090024842834518 (index 211) to leader 1
client write log 9093893818942927055 (index 212) to leader 1
client write log 2087278330931387111 (index 213) to leader 1
client write log 7626752770117237080 (index 214) to leader 1
client write log 2428315491184304438 (index 215) to leader 1
client write log 926565707109784179 (index 216) to leader 1
client write log 8532969065423675340 (index 217) to leader 1
client write log 7168867525343967157 (index 218) to leader 1
client write log 6283506436159790197 (index 219) to leader 1
client write log 1108519727005439559 (index 220) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73591 term 31 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 31 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
flag 33206 term 31 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 199} {1099152377482225393 29 200} {160160651022296061 29 201} {4541220334853061088 29 202} {3382643083791234066 29 203} {3267399114634762749 29 204} {3234390950870195689 29 205} {1319841637807349830 29 206} {1319841637807349830 31 207} {6947379735209968785 31 208} {6824025014106169419 31 209} {8499243501583901132 31 210} {2505090024842834518 31 211} {9093893818942927055 31 212} {2087278330931387111 31 213} {7626752770117237080 31 214} {2428315491184304438 31 215} {926565707109784179 31 216} {8532969065423675340 31 217} {7168867525343967157 31 218} {6283506436159790197 31 219} {1108519727005439559 31 220}]
------------------------------------------------------
term 31 Server1 start snapshot! index=209
term 31 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=220
-------------------------------------------------------------
term 31 Server1 start snapshot! index=219
term 31 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54350 term 31 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 31 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220}]
------------------------------------------------------
term 31 Server0 start snapshot! index=209
term 31 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=220
-------------------------------------------------------------
term 31 Server0 start snapshot! index=219
term 31 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6828212211066026133 (index 221) to leader 1
flag 48682 term 31 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 31 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 32 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 1
term 33 server 0 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 1 get outdate rpc reply from server 0
flag 19008 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 58321 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 222->221
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
flag 8087 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 31 rf.commitIndex 219 rf.lastApplied 219
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
flag 29952 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 63151 term 33 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
flag 12657 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 19671 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
term 33 server 0 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 0
flag 49287 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 37396 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
flag 28979 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 12558 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
flag 21042 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 65884 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
flag 90302 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 37428 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
flag 51469 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 72179 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96194 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 78259 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
flag 69178 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 99295 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
flag 31010 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 71065 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17692 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 42648 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
flag 48780 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 94281 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
flag 64064 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 65120 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
flag 73954 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 44189 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20834 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 95909 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
flag 24363 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 93250 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
flag 12489 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 99937 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6828212211066026133 (index 222) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85926 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
flag 26002 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
flag 13647 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 4450 term 33 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
flag 2289 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 91910 term 33 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
flag 376 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 10449 term 33 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
flag 74617 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 28777 term 33 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
flag 75689 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 41452 term 33 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
flag 73057 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 84543 term 33 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84710 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 80432 term 33 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 47737 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 3105 term 33 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 76082 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 56500 term 33 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 34 server 0 vote for server 2
term 34 server 2 get vote from server 0
term 34 server 2 become leader
------------------------------------------------------
flag 93986 term 34 leader 2 nextIndex[0]: 223  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 21421 term 34 leader 2 nextIndex[1]: 223  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222}]
------------------------------------------------------
client write log 7478573434529219629 (index 223) to leader 2
flag 80780 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 11632 term 33 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 223->222
------------------------------------------------------
flag 54008 term 34 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 76928 term 34 leader 2 nextIndex[1]: 223  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222} {7478573434529219629 34 223}]
------------------------------------------------------
flag 38961 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 222
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 11902 term 34 leader 2 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 34 leaderCommit: 223 
------------------------------------------------------
flag 8884 term 34 leader 2 nextIndex[1]: 223  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 223 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222} {7478573434529219629 34 223}]
------------------------------------------------------
client write log 8180200668133754605 (index 224) to leader 2
client write log 6020558611671290041 (index 225) to leader 2
client write log 5359244092153799395 (index 226) to leader 2
client write log 1826047483379641993 (index 227) to leader 2
client write log 6547307402547724475 (index 228) to leader 2
client write log 7873827128573629211 (index 229) to leader 2
client write log 755388724717834529 (index 230) to leader 2
client write log 6634947064838589788 (index 231) to leader 2
client write log 3090816663240497578 (index 232) to leader 2
client write log 5176350264331911661 (index 233) to leader 2
client write log 2420068263737068153 (index 234) to leader 2
client write log 2507755408105719693 (index 235) to leader 2
flag 45236 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 222
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 39410 term 34 leader 2 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 34 leaderCommit: 223 
------------------------------------------------------
flag 96038 term 34 leader 2 nextIndex[1]: 223  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 223 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 31 219} {1108519727005439559 31 220} {6828212211066026133 31 221} {6828212211066026133 33 222} {7478573434529219629 34 223} {8180200668133754605 34 224} {6020558611671290041 34 225} {5359244092153799395 34 226} {1826047483379641993 34 227} {6547307402547724475 34 228} {7873827128573629211 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
term 34 Server2 start snapshot! index=229
term 34 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=235
-------------------------------------------------------------
flag 98921 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 222
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 56901 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 223  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
term 34 Server0 start snapshot! index=229
term 34 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=235
-------------------------------------------------------------
flag 90922 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 222
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
!!!!!!connect server 1
client write log 8181583203348785770 (index 223) to leader 1
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49403 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 223  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 34 rf.commitIndex 229 rf.lastApplied 229
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62324 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 3832 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
flag 19584 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 14585 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
flag 59823 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 91339 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53918 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 67734 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
flag 29462 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 34733 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3598 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 53834 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
flag 31666 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 35762 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
flag 76418 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 50028 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40137 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 94468 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 236->235
------------------------------------------------------
flag 97395 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 235
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 235 args.LastIncludedIndex 229
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
flag 14910 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 1317 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
flag 39550 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 55721 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
flag 34373 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 5104 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84277 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 58113 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
flag 80204 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 21966 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62924 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 40620 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
flag 47765 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 23785 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
flag 50673 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 66279 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
term 34 server 1 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 1
flag 41083 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 16523 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235}]
------------------------------------------------------
client write log 8181583203348785770 (index 236) to leader 2
flag 66869 term 34 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 21215 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75994 term 34 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 89997 term 34 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236}]
------------------------------------------------------
flag 13403 term 34 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 82801 term 34 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236}]
------------------------------------------------------
term 34 server 0 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 0
flag 38123 term 34 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 24965 term 34 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236}]
------------------------------------------------------
flag 63885 term 34 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 34464 term 34 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236}]
------------------------------------------------------
flag 91640 term 34 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 89550 term 34 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 181986011414549800 (index 237) to leader 2
flag 4579 term 34 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 75366 term 34 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236} {181986011414549800 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79540 term 34 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 68565 term 34 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 34 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236} {181986011414549800 34 237}]
------------------------------------------------------
client write log 3199529072252462033 (index 238) to leader 2
client write log 349897977739831405 (index 239) to leader 2
client write log 2216496331506219304 (index 240) to leader 2
client write log 3288611802279361627 (index 241) to leader 2
client write log 1818770308950888095 (index 242) to leader 2
client write log 7048765141577100959 (index 243) to leader 2
client write log 1120042247328720895 (index 244) to leader 2
client write log 8017304512969883978 (index 245) to leader 2
client write log 4894495952067196491 (index 246) to leader 2
client write log 3094280573440580588 (index 247) to leader 2
client write log 7833119659846080773 (index 248) to leader 2
flag 96735 term 34 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 93722 term 34 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 34 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 34 229} {755388724717834529 34 230} {6634947064838589788 34 231} {3090816663240497578 34 232} {5176350264331911661 34 233} {2420068263737068153 34 234} {2507755408105719693 34 235} {8181583203348785770 34 236} {181986011414549800 34 237} {3199529072252462033 34 238} {349897977739831405 34 239} {2216496331506219304 34 240} {3288611802279361627 34 241} {1818770308950888095 34 242} {7048765141577100959 34 243} {1120042247328720895 34 244} {8017304512969883978 34 245} {4894495952067196491 34 246} {3094280573440580588 34 247} {7833119659846080773 34 248}]
------------------------------------------------------
term 34 Server2 start snapshot! index=239
term 34 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=248
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 249->248
------------------------------------------------------
term 34 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 248
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 34 rf.commitIndex 239 rf.lastApplied 239
term 34 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
flag 54070 term 34 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 34 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 248 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 34 239} {2216496331506219304 34 240} {3288611802279361627 34 241} {1818770308950888095 34 242} {7048765141577100959 34 243} {1120042247328720895 34 244} {8017304512969883978 34 245} {4894495952067196491 34 246} {3094280573440580588 34 247} {7833119659846080773 34 248}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8278952763298543115 (index 249) to leader 2
term 34 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
flag 60054 term 34 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 34 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 248 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 34 239} {2216496331506219304 34 240} {3288611802279361627 34 241} {1818770308950888095 34 242} {7048765141577100959 34 243} {1120042247328720895 34 244} {8017304512969883978 34 245} {4894495952067196491 34 246} {3094280573440580588 34 247} {7833119659846080773 34 248} {8278952763298543115 34 249}]
------------------------------------------------------
term 35 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 Server2 start snapshot! index=249
term 35 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 36 server 1 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
term 36 server 0 vote for server 2
term 36 server 2 get outdate rpc reply from server 0
flag 50164 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 249 
------------------------------------------------------
flag 96338 term 36 leader 2 nextIndex[1]: 250  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 249 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 34 249}]
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 250->249
------------------------------------------------------
term 36 Server1 start snapshot! index=249
term 36 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 237  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 34
------------------------------------------------------
flag 61050 term 36 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 249 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 34 249}]
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 34 rf.commitIndex 249 rf.lastApplied 249
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29846 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 249 
------------------------------------------------------
flag 23562 term 36 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 249 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 34 249}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 34 249}]
------------------------------------------------------
flag 14024 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 249 
------------------------------------------------------
flag 31213 term 36 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 249 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 34 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 34 249}]
------------------------------------------------------
flag 21855 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 249 
------------------------------------------------------
flag 1467 term 36 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 249 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 34 249}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 34 249}]
------------------------------------------------------
flag 46217 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 249 
------------------------------------------------------
flag 16962 term 36 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 249 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 34 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 34 249}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5077715603418835424 (index 250) to leader 2
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39580 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 249 
------------------------------------------------------
flag 6480 term 36 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 249 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 34 249} {5077715603418835424 36 250}]
------------------------------------------------------
flag 58532 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 250 
------------------------------------------------------
flag 64898 term 36 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 36 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 34 249} {5077715603418835424 36 250}]
------------------------------------------------------
client write log 364915316803364762 (index 251) to leader 2
client write log 2288947666047539645 (index 252) to leader 2
client write log 6032190365487294420 (index 253) to leader 2
client write log 5688842708098597627 (index 254) to leader 2
client write log 2344843215875627599 (index 255) to leader 2
client write log 6475908770186472911 (index 256) to leader 2
client write log 9058023237892229429 (index 257) to leader 2
client write log 8552267037356840301 (index 258) to leader 2
client write log 513477758795588621 (index 259) to leader 2
term 36 server 1 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 1
flag 24313 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 250 
------------------------------------------------------
flag 10838 term 36 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 36 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 34 249} {5077715603418835424 36 250} {364915316803364762 36 251} {2288947666047539645 36 252} {6032190365487294420 36 253} {5688842708098597627 36 254} {2344843215875627599 36 255} {6475908770186472911 36 256} {9058023237892229429 36 257} {8552267037356840301 36 258} {513477758795588621 36 259}]
------------------------------------------------------
term 36 Server2 start snapshot! index=259
term 36 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
flag 89939 term 36 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 36 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 36 259}]
------------------------------------------------------
term 36 Server1 start snapshot! index=259
term 36 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 0
client write log 9069195956217184859 (index 260) to leader 2
term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
flag 59910 term 36 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 36 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 37 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 0 vote for server 2
term 38 server 2 get outdate rpc reply from server 0
flag 47488 term 38 leader 2 nextIndex[0]: 261  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
flag 29788 term 38 leader 2 nextIndex[1]: 261  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 261->260
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
flag 70636 term 38 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 36 rf.commitIndex 259 rf.lastApplied 259
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 1 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 1
flag 80549 term 38 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
flag 65875 term 38 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
flag 15542 term 38 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
flag 50406 term 38 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
flag 16055 term 38 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
flag 10116 term 38 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
flag 37910 term 38 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
flag 7756 term 38 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
term 38 server 1 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 1
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98082 term 38 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
flag 81973 term 38 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
flag 69397 term 38 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
flag 92325 term 38 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
term 38 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 35544 term 38 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
flag 98376 term 38 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
flag 39268 term 38 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
flag 90218 term 38 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17975 term 38 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
flag 66329 term 38 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 261->260
------------------------------------------------------
term 39 server 1 vote for server 0
term 39 server 0 get vote from server 1
term 39 server 0 become leader
------------------------------------------------------
flag 92077 term 39 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
flag 36358 term 39 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9069195956217184859 36 260}]
------------------------------------------------------
flag 63109 term 38 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 260
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
client write log 1776821112493118551 (index 261) to leader 0
flag 7555 term 39 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 39 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
flag 29174 term 39 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 36 259} {9069195956217184859 36 260} {1776821112493118551 39 261}]
------------------------------------------------------
flag 34157 term 38 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 260 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 260
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 261->260
------------------------------------------------------
flag 26799 term 39 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 39 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 73994 term 39 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 36 259} {9069195956217184859 36 260} {1776821112493118551 39 261}]
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 0  matchIndex[0]: 260
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 260
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
client write log 1396085076911623339 (index 262) to leader 0
client write log 8972135811130194843 (index 263) to leader 0
client write log 2485581170958413254 (index 264) to leader 0
client write log 3489321310483876030 (index 265) to leader 0
client write log 833601473144422404 (index 266) to leader 0
client write log 7816644229208796773 (index 267) to leader 0
client write log 1786483301988747497 (index 268) to leader 0
client write log 5485410933086362933 (index 269) to leader 0
client write log 5110945832093666362 (index 270) to leader 0
client write log 7050497927288354535 (index 271) to leader 0
client write log 5414891323251690548 (index 272) to leader 0
client write log 5877830616332236217 (index 273) to leader 0
client write log 4140183121359051003 (index 274) to leader 0
flag 53909 term 39 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 39 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 1263 term 39 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 36 259} {9069195956217184859 36 260} {1776821112493118551 39 261} {1396085076911623339 39 262} {8972135811130194843 39 263} {2485581170958413254 39 264} {3489321310483876030 39 265} {833601473144422404 39 266} {7816644229208796773 39 267} {1786483301988747497 39 268} {5485410933086362933 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
term 39 Server0 start snapshot! index=269
term 39 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=274
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 0  matchIndex[0]: 260
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 260
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38889 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
term 39 Server1 start snapshot! index=269
term 39 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=274
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 0  matchIndex[0]: 260
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 260
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
!!!!!!connect server 2
client write log 5758802452628220320 (index 261) to leader 2
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
flag 11549 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 39 rf.commitIndex 269 rf.lastApplied 269
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
flag 82531 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 21973 term 39 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 39 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
flag 556 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 31260 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
flag 72532 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 96492 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
flag 24788 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 96413 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17393 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 17435 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 275->274
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97694 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 0  matchIndex[2]: 274
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 39 server 2 InstallSnapshot fail
rf.commitIndex 274 args.LastIncludedIndex 269
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28897 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 67508 term 39 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 39 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54280 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 39922 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75513 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 86442 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
flag 62965 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 31548 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
term 39 server 2 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 2
flag 75124 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 15860 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
flag 3341 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 3266 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
flag 37141 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 14665 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89656 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 6323 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97481 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 53575 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
flag 72941 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 72029 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 275->274
------------------------------------------------------
flag 34927 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 0  matchIndex[2]: 274
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 2 InstallSnapshot fail
rf.commitIndex 274 args.LastIncludedIndex 269
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
flag 57771 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 94419 term 39 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 39 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
flag 88027 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 91256 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5758802452628220320 (index 275) to leader 0
flag 8287 term 39 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 27704 term 39 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 39 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275}]
------------------------------------------------------
flag 49267 term 39 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
flag 76896 term 39 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275}]
------------------------------------------------------
flag 47945 term 39 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
flag 37807 term 39 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275}]
------------------------------------------------------
term 39 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 213 term 39 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
flag 27631 term 39 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275}]
------------------------------------------------------
flag 86121 term 39 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
flag 77746 term 39 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275}]
------------------------------------------------------
flag 28718 term 39 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
flag 20963 term 39 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91381 term 39 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
flag 58507 term 39 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5152682121311567239 (index 276) to leader 0
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23128 term 39 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
flag 37343 term 39 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 275 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275} {5152682121311567239 39 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23864 term 39 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 276 
------------------------------------------------------
flag 61701 term 39 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 39 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 39 leaderCommit: 276 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275} {5152682121311567239 39 276}]
------------------------------------------------------
client write log 7681180622718729377 (index 277) to leader 0
client write log 4637863727412600013 (index 278) to leader 0
client write log 2457019315149647244 (index 279) to leader 0
client write log 8376629981223700148 (index 280) to leader 0
client write log 157083037219545228 (index 281) to leader 0
client write log 1167480339857898495 (index 282) to leader 0
term 39 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27038 term 39 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 276 
------------------------------------------------------
flag 13309 term 39 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 39 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 39 leaderCommit: 276 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 39 269} {5110945832093666362 39 270} {7050497927288354535 39 271} {5414891323251690548 39 272} {5877830616332236217 39 273} {4140183121359051003 39 274} {5758802452628220320 39 275} {5152682121311567239 39 276} {7681180622718729377 39 277} {4637863727412600013 39 278} {2457019315149647244 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282}]
------------------------------------------------------
term 39 Server0 start snapshot! index=279
term 39 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=282
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 57682 term 39 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282}]
------------------------------------------------------
term 39 Server2 start snapshot! index=279
term 39 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=282
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3877586343073487838 (index 283) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 276->275
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 36649 term 39 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 40 server 1 InstallSnapshot false 领导者任期过期
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 1 vote for server 0
term 41 server 0 get vote from server 1
term 41 server 0 become leader
------------------------------------------------------
term 41 server 2 vote for server 0
term 41 server 0 get outdate rpc reply from server 2
flag 63218 term 41 leader 0 nextIndex[1]: 284  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
flag 63387 term 41 leader 0 nextIndex[2]: 284  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 284->283
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 276  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 90002 term 41 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 41 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 39 rf.commitIndex 279 rf.lastApplied 279
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
term 41 server 2 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 2
flag 81996 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
flag 40630 term 41 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
flag 26362 term 41 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
flag 41841 term 41 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72985 term 41 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
flag 49338 term 41 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
flag 50885 term 41 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
flag 42725 term 41 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89659 term 41 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
flag 58105 term 41 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47290 term 41 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
flag 81230 term 41 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283}]
------------------------------------------------------
term 41 server 2 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3620976217933934228 (index 284) to leader 0
flag 78377 term 41 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
flag 64197 term 41 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283} {3620976217933934228 41 284}]
------------------------------------------------------
flag 47713 term 41 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
flag 34117 term 41 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 41 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 41 leaderCommit: 284 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283} {3620976217933934228 41 284}]
------------------------------------------------------
client write log 1374150239200573261 (index 285) to leader 0
client write log 2370348319477039769 (index 286) to leader 0
client write log 7282670795229900531 (index 287) to leader 0
client write log 3616745972727179069 (index 288) to leader 0
client write log 3785695770443896434 (index 289) to leader 0
client write log 6215463419353089653 (index 290) to leader 0
client write log 6538220187258155986 (index 291) to leader 0
client write log 1307136482630301710 (index 292) to leader 0
client write log 6948783874584846038 (index 293) to leader 0
client write log 2418050254679488832 (index 294) to leader 0
client write log 5150386441471924048 (index 295) to leader 0
client write log 2088595200895964617 (index 296) to leader 0
flag 18852 term 41 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 41 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
flag 86608 term 41 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 41 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 41 leaderCommit: 284 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 39 279} {8376629981223700148 39 280} {157083037219545228 39 281} {1167480339857898495 39 282} {3877586343073487838 39 283} {3620976217933934228 41 284} {1374150239200573261 41 285} {2370348319477039769 41 286} {7282670795229900531 41 287} {3616745972727179069 41 288} {3785695770443896434 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296}]
------------------------------------------------------
term 41 Server0 start snapshot! index=289
term 41 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=296
-------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 27755 term 41 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 41 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296}]
------------------------------------------------------
term 41 Server2 start snapshot! index=289
term 41 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=296
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7157663279768057417 (index 297) to leader 0
term 41 server 2 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 2
term 41 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 17137 term 41 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 41 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 42 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 1 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 0 get outdate rpc reply from server 1
flag 32304 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 36348 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 298->297
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 284  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 28054 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 41 rf.commitIndex 289 rf.lastApplied 289
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57782 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 57060 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86301 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 93949 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
flag 77641 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 29972 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34669 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 43091 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18295 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 63597 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
flag 71372 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 81380 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
flag 55975 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 93999 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
flag 77729 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 83107 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
flag 14245 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 60546 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
flag 89051 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 37710 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
update nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
flag 5637 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 68400 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
flag 19495 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 4265 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
term 43 server 0 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 0
flag 31520 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 18001 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93760 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 49678 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
flag 60310 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 1044 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40868 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 11386 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
flag 92409 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 99417 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297}]
------------------------------------------------------
client write log 7157663279768057417 (index 298) to leader 0
flag 84128 term 43 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 91095 term 43 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 43 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297} {7157663279768057417 43 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297} {7157663279768057417 43 298}]
------------------------------------------------------
flag 2703 term 43 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 13283 term 43 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297} {7157663279768057417 43 298}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297} {7157663279768057417 43 298}]
------------------------------------------------------
flag 95324 term 43 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 9016 term 43 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:298 
term 43 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297} {7157663279768057417 43 298}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297} {7157663279768057417 43 298}]
------------------------------------------------------
flag 1984 term 43 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 95078 term 43 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297} {7157663279768057417 43 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297} {7157663279768057417 43 298}]
------------------------------------------------------
flag 27010 term 43 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 23431 term 43 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297} {7157663279768057417 43 298}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297} {7157663279768057417 43 298}]
------------------------------------------------------
flag 69424 term 43 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 39956 term 43 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297} {7157663279768057417 43 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297} {7157663279768057417 43 298}]
------------------------------------------------------
term 43 server 2 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 2
!!!!!!diconnect server 0
flag 83406 term 43 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 74435 term 43 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 46075 term 43 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 82538 term 43 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 85202 term 43 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 63033 term 43 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 60957 term 43 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 58956 term 43 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
term 44 server 1 vote for server 2
term 44 server 2 get vote from server 1
term 44 server 2 become leader
------------------------------------------------------
flag 64659 term 44 leader 2 nextIndex[0]: 299  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 3168 term 44 leader 2 nextIndex[1]: 299  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297} {7157663279768057417 43 298}]
------------------------------------------------------
client write log 4161813627297161841 (index 299) to leader 2
flag 44561 term 43 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 44219 term 43 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 69938 term 44 leader 2 nextIndex[0]: 299  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 73323 term 44 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 44 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 41 289} {6215463419353089653 41 290} {6538220187258155986 41 291} {1307136482630301710 41 292} {6948783874584846038 41 293} {2418050254679488832 41 294} {5150386441471924048 41 295} {2088595200895964617 41 296} {7157663279768057417 41 297} {7157663279768057417 43 298} {4161813627297161841 44 299}]
------------------------------------------------------
term 44 Server2 start snapshot! index=299
term 44 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 44360 term 43 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 31197 term 43 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 299  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 11605 term 44 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 44 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 299 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 44 299}]
------------------------------------------------------
term 44 Server1 start snapshot! index=299
term 44 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
client write log 4696453207493112100 (index 300) to leader 2
flag 22475 term 43 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 22013 term 43 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 299  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 11278 term 44 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 44 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 299 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 44 299} {4696453207493112100 44 300}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
flag 83353 term 43 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 79923 term 43 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 82851 term 44 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 44 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 300 
------------------------------------------------------
flag 49354 term 44 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 44 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 44 leaderCommit: 300 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 44 299} {4696453207493112100 44 300}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6162329212263392718 (index 301) to leader 2
flag 59640 term 43 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
flag 37279 term 43 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 43 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 43 leaderCommit: 298 
------------------------------------------------------
term 44 server 1 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
term 44 server 2 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80473 term 44 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 44 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 300 
------------------------------------------------------
flag 64608 term 44 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 44 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 44 leaderCommit: 300 
------------------------------------------------------
term 44 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 300->299
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 299  matchIndex[0]: 299
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 63749 term 44 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301}]
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 44 rf.commitIndex 299 rf.lastApplied 299
term 44 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
flag 69980 term 44 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 44 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 24200 term 44 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301}]
------------------------------------------------------
flag 53732 term 44 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 56267 term 44 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301}]
------------------------------------------------------
flag 10472 term 44 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 69025 term 44 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93907 term 44 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 34525 term 44 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35722 term 44 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 72194 term 44 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301}]
------------------------------------------------------
flag 63449 term 44 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 52449 term 44 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 93050 term 44 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 6000 term 44 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
client write log 3680319192737977658 (index 302) to leader 2
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301} {3680319192737977658 44 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27272 term 44 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 6634 term 44 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301} {3680319192737977658 44 302}]
------------------------------------------------------
flag 71253 term 44 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 71547 term 44 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 44 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301} {3680319192737977658 44 302}]
------------------------------------------------------
client write log 6404788126702892407 (index 303) to leader 2
client write log 6446819817245715520 (index 304) to leader 2
client write log 5555765304490449042 (index 305) to leader 2
client write log 5585841973980999435 (index 306) to leader 2
client write log 1271468599209934227 (index 307) to leader 2
client write log 3231711854151174799 (index 308) to leader 2
client write log 8633053967846105869 (index 309) to leader 2
client write log 3790496107390772912 (index 310) to leader 2
client write log 9046515256381499298 (index 311) to leader 2
client write log 3143553783514849026 (index 312) to leader 2
client write log 6260385976882445549 (index 313) to leader 2
client write log 8869793331693844853 (index 314) to leader 2
client write log 4552933921630139410 (index 315) to leader 2
flag 55121 term 44 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 42981 term 44 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 44 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 299} {4696453207493112100 44 300} {6162329212263392718 44 301} {3680319192737977658 44 302} {6404788126702892407 44 303} {6446819817245715520 44 304} {5555765304490449042 44 305} {5585841973980999435 44 306} {1271468599209934227 44 307} {3231711854151174799 44 308} {8633053967846105869 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315}]
------------------------------------------------------
term 44 Server2 start snapshot! index=309
term 44 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=315
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 302->301
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 0  matchIndex[0]: 301
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 28130 term 44 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 44 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315}]
------------------------------------------------------
term 44 Server1 start snapshot! index=309
term 44 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=315
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6077498801377204904 (index 316) to leader 2
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 2 nextIndex[0]: 0  matchIndex[0]: 301
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 62115 term 44 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 44 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:315 
term 45 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 0 not vote for server 1, 任期不够新
term 44 server 1 get outdate rpc reply from server 0
term 46 server 1 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
term 46 server 0 vote for server 2
term 46 server 2 get outdate rpc reply from server 0
flag 58442 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 33579 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 317->316
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 302  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 80582 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 44 rf.commitIndex 309 rf.lastApplied 309
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52333 term 46 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 46 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 18287 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91441 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 92134 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28911 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 32806 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
flag 46449 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 41946 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
flag 36980 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 57788 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
update nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
flag 50053 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 91207 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
flag 45609 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 84140 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
flag 48934 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 51261 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
flag 26593 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 51998 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
flag 56217 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 48956 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
flag 58615 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 7592 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20179 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 72026 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
flag 83583 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 62883 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54787 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 68098 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46598 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 85238 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
term 46 server 0 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 0
flag 45759 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 79472 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316}]
------------------------------------------------------
client write log 6077498801377204904 (index 317) to leader 2
flag 3770 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 45088 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317}]
------------------------------------------------------
flag 75998 term 46 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
flag 64724 term 46 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97210 term 46 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
flag 21120 term 46 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317}]
------------------------------------------------------
flag 81859 term 46 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
flag 73172 term 46 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13342 term 46 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
flag 73630 term 46 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317}]
------------------------------------------------------
flag 24112 term 46 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
flag 52468 term 46 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3743741958314774474 (index 318) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81845 term 46 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
flag 9789 term 46 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317} {3743741958314774474 46 318}]
------------------------------------------------------
flag 35308 term 46 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 92149 term 46 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 46 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317} {3743741958314774474 46 318}]
------------------------------------------------------
client write log 4736018412216123555 (index 319) to leader 2
client write log 2200078362274522545 (index 320) to leader 2
client write log 6963126167778101845 (index 321) to leader 2
client write log 8250557277943634577 (index 322) to leader 2
client write log 2340222443061541380 (index 323) to leader 2
client write log 377967370350515855 (index 324) to leader 2
client write log 108416538434541781 (index 325) to leader 2
client write log 8782122875573919014 (index 326) to leader 2
client write log 5314179158711609998 (index 327) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45375 term 46 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 30498 term 46 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 46 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 44 309} {3790496107390772912 44 310} {9046515256381499298 44 311} {3143553783514849026 44 312} {6260385976882445549 44 313} {8869793331693844853 44 314} {4552933921630139410 44 315} {6077498801377204904 44 316} {6077498801377204904 46 317} {3743741958314774474 46 318} {4736018412216123555 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327}]
------------------------------------------------------
term 46 Server2 start snapshot! index=319
term 46 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=327
-------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 56184 term 46 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 46 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327}]
------------------------------------------------------
term 46 Server1 start snapshot! index=319
term 46 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=327
-------------------------------------------------------------
!!!!!!connect server 0
client write log 607220785100419970 (index 328) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 18377 term 46 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 46 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
term 47 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 1 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 0 vote for server 2
term 48 server 2 get outdate rpc reply from server 0
flag 50974 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 53849 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 329->328
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 318  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 713 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 46 rf.commitIndex 319 rf.lastApplied 319
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8352 term 48 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 48 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 35698 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
flag 3552 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 60360 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60183 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 17791 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7947 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 34708 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83450 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 27366 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
flag 99175 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 15357 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
term 48 server 1 not vote for server 0, 任期不够新
term 48 server 0 get outdate rpc reply from server 1
flag 59840 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 13729 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 57227 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 870 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77051 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 11434 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 44159 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 25001 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 49 server 1 vote for server 0
term 49 server 0 get vote from server 1
term 49 server 0 become leader
------------------------------------------------------
flag 11311 term 49 leader 0 nextIndex[1]: 329  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 93254 term 49 leader 0 nextIndex[2]: 329  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 784484903744466387 (index 329) to leader 0
flag 43010 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 61110 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 39727 term 49 leader 0 nextIndex[1]: 329  matchIndex[1]: 328
term 49 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 47735 term 49 leader 0 nextIndex[2]: 329  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 46 319} {2200078362274522545 46 320} {6963126167778101845 46 321} {8250557277943634577 46 322} {2340222443061541380 46 323} {377967370350515855 46 324} {108416538434541781 46 325} {8782122875573919014 46 326} {5314179158711609998 46 327} {607220785100419970 46 328} {784484903744466387 49 329}]
------------------------------------------------------
term 49 Server0 start snapshot! index=329
term 49 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
flag 36838 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 84079 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 85180 term 49 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 49 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 49 leaderCommit: 329 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 329  matchIndex[2]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 49 329}]
------------------------------------------------------
term 49 Server1 start snapshot! index=329
term 49 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
client write log 2824594824404779166 (index 330) to leader 0
client write log 8007126507405213085 (index 331) to leader 0
client write log 1181321336851700881 (index 332) to leader 0
client write log 4359049936716178244 (index 333) to leader 0
client write log 3216386102792416109 (index 334) to leader 0
client write log 2781598913845918701 (index 335) to leader 0
client write log 219222679214938349 (index 336) to leader 0
client write log 7484674399915520477 (index 337) to leader 0
client write log 8146558237470422542 (index 338) to leader 0
client write log 8263474084192223114 (index 339) to leader 0
client write log 4481427661582876358 (index 340) to leader 0
client write log 3830380059190374506 (index 341) to leader 0
client write log 4283895101338930706 (index 342) to leader 0
client write log 4145775996244241902 (index 343) to leader 0
flag 48450 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 80832 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 70875 term 49 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 49 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 49 leaderCommit: 329 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 329  matchIndex[2]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 329} {2824594824404779166 49 330} {8007126507405213085 49 331} {1181321336851700881 49 332} {4359049936716178244 49 333} {3216386102792416109 49 334} {2781598913845918701 49 335} {219222679214938349 49 336} {7484674399915520477 49 337} {8146558237470422542 49 338} {8263474084192223114 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 Server0 start snapshot! index=339
term 49 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=343
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 329->328
------------------------------------------------------
flag 61701 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 3972 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 21220 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 Server1 start snapshot! index=339
term 49 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=343
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2288370825413351556 (index 329) to leader 2
flag 81077 term 48 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 98695 term 48 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 48 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 49 server 1 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 49 server 0 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24182 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 server 2 InstallSnapshot success
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 49 rf.commitIndex 339 rf.lastApplied 339
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71329 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 5567 term 49 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 49 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
flag 64502 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 25015 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 server 1 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46990 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 85101 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
flag 71747 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 64483 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
flag 46122 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 68 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4760 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 83499 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 server 2 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 2
flag 38911 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 32617 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 server 2 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 2
flag 81460 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 51259 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
flag 20744 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 85980 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
flag 50698 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 16317 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 344->343
------------------------------------------------------
flag 23925 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 343
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 2 InstallSnapshot fail
rf.commitIndex 343 args.LastIncludedIndex 339
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
flag 54327 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 81202 term 49 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 49 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68198 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 32815 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
flag 55485 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 51297 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
flag 85093 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 85152 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 server 2 not vote for server 0, 日志不够新
term 49 server 0 get outdate rpc reply from server 2
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12438 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 77514 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
flag 13338 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 59567 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19258 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 32638 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
flag 89174 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 1774 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343}]
------------------------------------------------------
client write log 2288370825413351556 (index 344) to leader 0
flag 73626 term 49 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 94944 term 49 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344}]
------------------------------------------------------
flag 14836 term 49 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 49 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 24654 term 49 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87338 term 49 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 49 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 33072 term 49 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
term 49 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344}]
------------------------------------------------------
flag 43739 term 49 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 49 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 17761 term 49 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344}]
------------------------------------------------------
flag 43353 term 49 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 49 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 78312 term 49 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344}]
------------------------------------------------------
flag 37480 term 49 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 49 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 2500 term 49 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344}]
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 6951037097757882753 (index 345) to leader 0
flag 83573 term 49 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 49 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 45874 term 49 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 49 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344} {6951037097757882753 49 345}]
------------------------------------------------------
flag 51404 term 49 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 49 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 345 
------------------------------------------------------
flag 5455 term 49 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 49 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 345 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344} {6951037097757882753 49 345}]
------------------------------------------------------
client write log 4150447069236704196 (index 346) to leader 0
client write log 4574063507823328468 (index 347) to leader 0
client write log 1648785237389446779 (index 348) to leader 0
client write log 6798782750427832833 (index 349) to leader 0
client write log 7639817290497431112 (index 350) to leader 0
client write log 6168535712299684713 (index 351) to leader 0
client write log 3985625564718664916 (index 352) to leader 0
client write log 1084118050194602494 (index 353) to leader 0
client write log 3218053972263595393 (index 354) to leader 0
client write log 6076730366986329299 (index 355) to leader 0
client write log 2626460595768167218 (index 356) to leader 0
client write log 1721771100540095190 (index 357) to leader 0
client write log 2226822279271609578 (index 358) to leader 0
client write log 6615077504698976420 (index 359) to leader 0
client write log 5846290638097688812 (index 360) to leader 0
term 49 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
flag 3595 term 49 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 49 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 345 
------------------------------------------------------
flag 89114 term 49 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 49 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 345 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 49 339} {4481427661582876358 49 340} {3830380059190374506 49 341} {4283895101338930706 49 342} {4145775996244241902 49 343} {2288370825413351556 49 344} {6951037097757882753 49 345} {4150447069236704196 49 346} {4574063507823328468 49 347} {1648785237389446779 49 348} {6798782750427832833 49 349} {7639817290497431112 49 350} {6168535712299684713 49 351} {3985625564718664916 49 352} {1084118050194602494 49 353} {3218053972263595393 49 354} {6076730366986329299 49 355} {2626460595768167218 49 356} {1721771100540095190 49 357} {2226822279271609578 49 358} {6615077504698976420 49 359} {5846290638097688812 49 360}]
------------------------------------------------------
term 49 Server0 start snapshot! index=349
term 49 server0 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=360
-------------------------------------------------------------
term 49 Server0 start snapshot! index=359
term 49 server0 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=360
-------------------------------------------------------------
term 49 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 49
------------------------------------------------------
flag 14133 term 49 leader 0 nextIndex[2]: 361  matchIndex[2]: 360
term 49 leader 0 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360}]
------------------------------------------------------
term 49 Server2 start snapshot! index=349
term 49 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=360
-------------------------------------------------------------
term 49 Server2 start snapshot! index=359
term 49 server2 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=360
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4195726382660003392 (index 361) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 2 not vote for server 1, 日志不够新
term 49 server 0 not vote for server 1, 日志不够新
term 51 server 2 vote for server 0
term 51 server 1 vote for server 0
term 51 server 0 get vote from server 1
term 51 server 0 become leader
------------------------------------------------------
term 51 server 0 get outdate rpc reply from server 2
flag 91712 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 85474 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 362->361
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 362->361
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 345  matchIndex[1]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 49
------------------------------------------------------
flag 52414 term 51 leader 0 nextIndex[2]: 361  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 49 rf.commitIndex 359 rf.lastApplied 359
term 51 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 360 matchIndex[1] 359 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8222 term 51 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 51 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 84208 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
flag 4773 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 10167 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8510 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 38401 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55144 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 52818 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
flag 74322 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 28512 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
flag 88381 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 96106 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
flag 59640 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 84784 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93226 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 45821 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
flag 85234 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 41335 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
flag 54087 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 96208 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90961 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 91703 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
flag 86203 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 1707 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
flag 36389 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 60112 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
flag 60675 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 40044 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
flag 76198 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 68601 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82348 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 36253 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
flag 99605 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 53016 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
flag 23535 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 70801 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=362
update matchIndex[1]=361
update leader CommitIndex=360
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361}]
------------------------------------------------------
client write log 4195726382660003392 (index 362) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19749 term 51 leader 0 nextIndex[1]: 362  matchIndex[1]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
flag 82245 term 51 leader 0 nextIndex[2]: 362  matchIndex[2]: 361
term 51 leader 0 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 49 leaderCommit: 360 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:360 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=363
update matchIndex[1]=362
update leader CommitIndex=362
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361} {4195726382660003392 51 362}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=362
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361} {4195726382660003392 51 362}]
------------------------------------------------------
flag 4026 term 51 leader 0 nextIndex[1]: 363  matchIndex[1]: 362
term 51 leader 0 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 51 leaderCommit: 362 
------------------------------------------------------
flag 70145 term 51 leader 0 nextIndex[2]: 363  matchIndex[2]: 362
term 51 leader 0 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 51 leaderCommit: 362 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=362
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361} {4195726382660003392 51 362}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=363
update matchIndex[1]=362
update leader CommitIndex=362
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361} {4195726382660003392 51 362}]
------------------------------------------------------
flag 88459 term 51 leader 0 nextIndex[1]: 363  matchIndex[1]: 362
term 51 leader 0 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 51 leaderCommit: 362 
------------------------------------------------------
flag 46887 term 51 leader 0 nextIndex[2]: 363  matchIndex[2]: 362
term 51 leader 0 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 51 leaderCommit: 362 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=362
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361} {4195726382660003392 51 362}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=363
update matchIndex[1]=362
update leader CommitIndex=362
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361} {4195726382660003392 51 362}]
------------------------------------------------------
flag 75688 term 51 leader 0 nextIndex[1]: 363  matchIndex[1]: 362
term 51 leader 0 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 51 leaderCommit: 362 
------------------------------------------------------
flag 45480 term 51 leader 0 nextIndex[2]: 363  matchIndex[2]: 362
term 51 leader 0 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 51 leaderCommit: 362 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=363
update matchIndex[1]=362
update leader CommitIndex=362
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361} {4195726382660003392 51 362}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=362
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361} {4195726382660003392 51 362}]
------------------------------------------------------
flag 54232 term 51 leader 0 nextIndex[1]: 363  matchIndex[1]: 362
term 51 leader 0 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 51 leaderCommit: 362 
------------------------------------------------------
flag 36341 term 51 leader 0 nextIndex[2]: 363  matchIndex[2]: 362
term 51 leader 0 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 51 leaderCommit: 362 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=362
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361} {4195726382660003392 51 362}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=363
update matchIndex[1]=362
update leader CommitIndex=362
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361} {4195726382660003392 51 362}]
------------------------------------------------------
flag 74068 term 51 leader 0 nextIndex[1]: 363  matchIndex[1]: 362
term 51 leader 0 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 51 leaderCommit: 362 
------------------------------------------------------
flag 10207 term 51 leader 0 nextIndex[2]: 363  matchIndex[2]: 362
term 51 leader 0 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 51 leaderCommit: 362 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=362
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361} {4195726382660003392 51 362}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=363
update matchIndex[1]=362
update leader CommitIndex=362
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361} {4195726382660003392 51 362}]
------------------------------------------------------
flag 7726 term 51 leader 0 nextIndex[1]: 363  matchIndex[1]: 362
term 51 leader 0 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 51 leaderCommit: 362 
------------------------------------------------------
flag 9373 term 51 leader 0 nextIndex[2]: 363  matchIndex[2]: 362
term 51 leader 0 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 51 leaderCommit: 362 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=362
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361} {4195726382660003392 51 362}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=363
update matchIndex[1]=362
update leader CommitIndex=362
leader log:
[{snapshot 49 359} {5846290638097688812 49 360} {4195726382660003392 49 361} {4195726382660003392 51 362}]
------------------------------------------------------
  ... Passed --  80.8  3 1834  861027  362
--- PASS: TestSnapshotInstall2D (80.76s)
PASS
